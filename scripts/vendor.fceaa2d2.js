if(function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.3",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){
for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),
f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===za||"boolean"===c)&&(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=arguments[0],f="["+(a?a+":":"")+e+"] ",g=arguments[1],h=arguments;for(c=f+g.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1);return b+2<h.length?ma(h[b+2]):a}),c=c+"\nhttp://errors.angularjs.org/1.3.15/"+(a?a+"/":"")+e,d=2;d<arguments.length;d++)c=c+(2==d?"?":"&")+"p"+(d-2)+"="+encodeURIComponent(ma(arguments[d]));return new b(c)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return a.nodeType===sd&&b?!0:u(a)||ld(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d,g;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(ld(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);return a}function g(a){return Object.keys(a).sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){return++jd}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){for(var b=a.$$hashKey,c=1,d=arguments.length;d>c;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];a[i]=e[i]}}return k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(Object.create(a),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!==a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===gd.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===gd.call(a)}function z(a){return a&&a.window===a}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===gd.call(a)}function C(a){return"[object FormData]"===gd.call(a)}function D(a){return"[object Blob]"===gd.call(a)}function E(a){return"boolean"==typeof a}function F(a){return a&&x(a.then)}function G(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function H(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function I(a){return Wc(a.nodeName||a[0]&&a[0].nodeName)}function J(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),b}function K(a,b,c,d){if(z(a)||A(a))throw hd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw hd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=c.indexOf(a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(ld(a)){b.length=0;for(var h=0;h<a.length;h++)g=K(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;ld(b)?b.length=0:f(b,function(a,c){delete b[c]});for(var j in a)a.hasOwnProperty(j)&&(g=K(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g);k(b,i)}}else if(b=a,a)if(ld(a))b=K(a,[],c,d);else if(w(a))b=new Date(a.getTime());else if(y(a))b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex;else if(t(a)){var l=Object.create(Object.getPrototypeOf(a));b=K(a,l,c,d)}return b}function L(a,b){if(ld(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function M(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!ld(a)){if(w(a))return w(b)?M(a.getTime(),b.getTime()):!1;if(y(a))return y(b)?a.toString()==b.toString():!1;if(A(a)||A(b)||z(a)||z(b)||ld(b)||w(b)||y(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!M(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!ld(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!M(a[e],b[e]))return!1;return!0}}return!1}function N(a,b,c){return a.concat(dd.call(b,c))}function O(a,b){return dd.call(a,b||0)}function P(a,b){var c=arguments.length>2?O(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,N(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Q(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function R(a,b){return"undefined"==typeof a?c:(v(b)||(b=b?2:null),JSON.stringify(a,Q,b))}function S(a){return u(a)?JSON.parse(a):a}function T(a){a=ad(a).clone();try{a.empty()}catch(b){}var c=ad("<div>").append(a).html();try{return a[0].nodeType===td?Wc(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Wc(b)})}catch(b){return Wc(c)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.replace(/\+/g,"%20").split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;Xc.call(d,c)?ld(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){ld(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function Z(a,b){var c,d,e=pd.length;for(a=ad(a),d=0;e>d;++d)if(c=pd[d]+b,u(c=a.attr(c)))return c;return null}function $(a,b){var c,d,e={};f(pd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(pd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==Z(c,"strict-di"),b(c,d?[d]:[],e))}function _(c,d,e){t(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=ad(c),c.injector()){var a=c[0]===b?"document":T(c);throw hd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=Sa(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),id.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(x(id.resumeDeferredBootstrap)&&id.resumeDeferredBootstrap()))}function aa(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ba(a){var b=id.element(a).injector();if(!b)throw hd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ca(a,b){return b=b||"_",a.replace(qd,function(a,c){return(c?b:"")+a.toLowerCase()})}function da(){var b;rd||(bd=a.jQuery,bd&&bd.fn.on?(ad=bd,l(bd.fn,{scope:Ld.scope,isolateScope:Ld.isolateScope,controller:Ld.controller,injector:Ld.injector,inheritedData:Ld.inheritedData}),b=bd.cleanData,bd.cleanData=function(a){var c;if(kd)kd=!1;else for(var d,e=0;null!=(d=a[e]);e++)c=bd._data(d,"events"),c&&c.$destroy&&bd(d).triggerHandler("$destroy");b(a)}):ad=ua,id.element=ad,rd=!0)}function ea(a,b,c){if(!a)throw hd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function fa(a,b,c){return c&&ld(a)&&(a=a[a.length-1]),ea(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function ga(a,b){if("hasOwnProperty"===a)throw hd("badname","hasOwnProperty is not a valid {0} name",b)}function ha(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?P(f,a):a}function ia(a){var b=a[0],c=a[a.length-1],d=[b];do{if(b=b.nextSibling,!b)break;d.push(b)}while(b!==c);return ad(d)}function ja(){return Object.create(null)}function ka(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d,e){return e||(e=b),function(){return e[d||"push"]([a,c,arguments]),j}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=[],i=a("$injector","invoke","push",e),j={_invokeQueue:b,_configBlocks:e,_runBlocks:h,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:i,run:function(a){return h.push(a),this}};return g&&i(g),j})}})}function la(a){var b=[];return JSON.stringify(a,function(a,c){if(c=Q(a,c),t(c)){if(b.indexOf(c)>=0)return"<<already seen>>";b.push(c)}return c})}function ma(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?la(a):a}function na(b){l(b,{bootstrap:_,copy:K,extend:l,equals:M,element:ad,forEach:f,injector:Sa,noop:o,bind:P,toJson:R,fromJson:S,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:G,isArray:ld,version:xd,isDate:w,lowercase:Wc,uppercase:Yc,callbacks:{counter:0},getTestability:ba,$$minErr:d,$$csp:od,reloadWithDebugInfo:aa}),cd=ka(a);try{cd("ngLocale")}catch(c){cd("ngLocale",[]).provider("$locale",qb)}cd("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Wb}),a.provider("$compile",Za).directive({a:De,input:Ue,textarea:Ue,form:Ie,script:Kf,select:Nf,style:Pf,option:Of,ngBind:Xe,ngBindHtml:Ze,ngBindTemplate:Ye,ngClass:_e,ngClassEven:bf,ngClassOdd:af,ngCloak:cf,ngController:df,ngForm:Je,ngHide:Ef,ngIf:gf,ngInclude:hf,ngInit:kf,ngNonBindable:yf,ngPluralize:zf,ngRepeat:Af,ngShow:Df,ngStyle:Ff,ngSwitch:Gf,ngSwitchWhen:Hf,ngSwitchDefault:If,ngOptions:Mf,ngTransclude:Jf,ngModel:vf,ngList:lf,ngChange:$e,pattern:Rf,ngPattern:Rf,required:Qf,ngRequired:Qf,minlength:Tf,ngMinlength:Tf,maxlength:Sf,ngMaxlength:Sf,ngValue:We,ngModelOptions:xf}).directive({ngInclude:jf}).directive(Ee).directive(ef),a.provider({$anchorScroll:Ta,$animate:Vd,$browser:Wa,$cacheFactory:Xa,$controller:bb,$document:cb,$exceptionHandler:db,$filter:gc,$interpolate:ob,$interval:pb,$http:kb,$httpBackend:mb,$location:Eb,$log:Fb,$parse:Qb,$rootScope:Vb,$q:Rb,$$q:Sb,$sce:$b,$sceDelegate:Zb,$sniffer:_b,$templateCache:Ya,$templateRequest:ac,$$testability:bc,$timeout:cc,$window:fc,$$rAF:Ub,$$asyncCallback:Ua,$$jqLite:Na})}])}function oa(){return++zd}function pa(a){return a.replace(Cd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Dd,"Moz$1")}function qa(a){return!Hd.test(a)}function ra(a){var b=a.nodeType;return b===sd||!b||b===vd}function sa(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(qa(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(Id.exec(a)||["",""])[1].toLowerCase(),e=Kd[d]||Kd._default,c.innerHTML=e[1]+a.replace(Jd,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=N(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",
h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function ta(a,c){c=c||b;var d;return(d=Gd.exec(a))?[c.createElement(d[1])]:(d=sa(a,c))?d.childNodes:[]}function ua(a){if(a instanceof ua)return a;var b;if(u(a)&&(a=md(a),b=!0),!(this instanceof ua)){if(b&&"<"!=a.charAt(0))throw Fd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ua(a)}b?Ea(this,ta(a)):Ea(this,a)}function va(a){return a.cloneNode(!0)}function wa(a,b){if(b||ya(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)ya(c[d])}function xa(a,b,c,d){if(s(d))throw Fd("offargs","jqLite#off() does not support the `selector` argument");var e=za(a),g=e&&e.events,h=e&&e.handle;if(h)if(b)f(b.split(" "),function(b){if(s(c)){var d=g[b];if(J(d||[],c),d&&d.length>0)return}Bd(a,b,h),delete g[b]});else for(b in g)"$destroy"!==b&&Bd(a,b,h),delete g[b]}function ya(a,b){var d=a.ng339,e=d&&yd[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),xa(a)),delete yd[d],a.ng339=c}}function za(a,b){var d=a.ng339,e=d&&yd[d];return b&&!e&&(a.ng339=d=oa(),e=yd[d]={events:{},data:{},handle:c}),e}function Aa(a,b,c){if(ra(a)){var d=s(c),e=!d&&b&&!t(b),f=!b,g=za(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ba(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Ca(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",md((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+md(b)+" "," ")))})}function Da(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=md(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",md(c))}}function Ea(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Fa(a,b){return Ga(a,"$"+(b||"ngController")+"Controller")}function Ga(a,b,d){a.nodeType==vd&&(a=a.documentElement);for(var e=ld(b)?b:[b];a;){for(var f=0,g=e.length;g>f;f++)if((d=ad.data(a,e[f]))!==c)return d;a=a.parentNode||a.nodeType===wd&&a.host}}function Ha(a){for(wa(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ia(a,b){b||wa(a);var c=a.parentNode;c&&c.removeChild(a)}function Ja(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):ad(c).on("load",b)}function Ka(a,b){var c=Md[b.toLowerCase()];return c&&Nd[I(a)]&&c}function La(a,b){var c=a.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Od[b]}function Ma(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(r(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0},f>1&&(e=L(e));for(var h=0;f>h;h++)c.isImmediatePropagationStopped()||e[h].call(a,c)}};return c.elem=a,c}function Na(){this.$get=function(){return l(ua,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ba(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Da(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Ca(a,b)}})}}function Oa(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||j)():d+":"+a}function Pa(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Qa(a){var b=a.toString().replace(Sd,""),c=b.match(Pd);return c?"function("+(c[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Ra(a,b,c){var d,e,g,h;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw u(c)&&c||(c=a.name||Qa(a)),Td("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=a.toString().replace(Sd,""),g=e.match(Pd),f(g[1].split(Qd),function(a){a.replace(Rd,function(a,b,c){d.push(c)})})}a.$inject=d}}else ld(a)?(h=a.length-1,fa(a[h],"fn"),d=a.slice(0,h)):fa(a,"fn",!0);return d}function Sa(a,b){function d(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function e(a,b){if(ga(a,"service"),(x(b)||ld(b))&&(b=A.instantiate(b)),!b.$get)throw Td("pget","Provider '{0}' must define $get factory method.",a);return z[a+v]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(r(c))throw Td("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function h(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return h(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return h(a,q(b),!1)}function l(a,b){ga(a,"constant"),z[a]=b,B[a]=b}function m(a,b){var c=A.get(a+v),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=A.get(d[0]);e[d[1]].apply(e,d[2])}}if(!y.get(a)){y.put(a,!0);try{u(a)?(b=cd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):x(a)?c.push(A.invoke(a)):ld(a)?c.push(A.invoke(a)):fa(a,"module")}catch(e){throw ld(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Td("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function p(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===s)throw Td("cdep","Circular dependency found: {0}",b+" <- "+w.join(" <- "));return a[b]}try{return w.unshift(b),a[b]=s,a[b]=c(b,d)}catch(e){throw a[b]===s&&delete a[b],e}finally{w.shift()}}function e(a,c,e,f){"string"==typeof e&&(f=e,e=null);var g,h,i,j=[],k=Sa.$$annotate(a,b,f);for(h=0,g=k.length;g>h;h++){if(i=k[h],"string"!=typeof i)throw Td("itkn","Incorrect injection token! Expected service name as string, got {0}",i);j.push(e&&e.hasOwnProperty(i)?e[i]:d(i,f))}return ld(a)&&(a=a[g]),a.apply(c,j)}function f(a,b,c){var d=Object.create((ld(a)?a[a.length-1]:a).prototype||null),f=e(a,d,b,c);return t(f)||x(f)?f:d}return{invoke:e,instantiate:f,get:d,annotate:Sa.$$annotate,has:function(b){return z.hasOwnProperty(b+v)||a.hasOwnProperty(b)}}}b=b===!0;var s={},v="Provider",w=[],y=new Pa([],!0),z={$provide:{provider:d(e),factory:d(h),service:d(j),value:d(k),constant:d(l),decorator:m}},A=z.$injector=p(z,function(a,b){throw id.isString(b)&&w.push(b),Td("unpr","Unknown provider: {0}",w.join(" <- "))}),B={},C=B.$injector=p(B,function(a,b){var d=A.get(a+v,b);return C.invoke(d.$get,d,c,a)});return f(n(a),function(a){C.invoke(a||o)}),C}function Ta(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===I(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(x(a))a=a();else if(G(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else v(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(){var a,b=c.hash();b?(a=i.getElementById(b))?g(a):(a=e(i.getElementsByName(b)))?g(a):"top"===b&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Ja(function(){d.$evalAsync(h)})}),h}]}function Ua(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Va(a,b,d,e){function g(a){try{a.apply(null,O(arguments,1))}finally{if(y--,0===y)for(;z.length;)try{z.pop()()}catch(b){d.error(b)}}}function h(a){var b=a.indexOf("#");return-1===b?"":a.substr(b+1)}function i(a,b){!function c(){f(B,function(a){a()}),A=b(c,a)}()}function j(){l(),m()}function k(){try{return t.state}catch(a){}}function l(){C=k(),C=r(C)?null:C,M(C,J)&&(C=J),J=C}function m(){(E!==p.url()||D!==C)&&(E=p.url(),D=C,f(H,function(a){a(p.url(),C)}))}function n(a){try{return decodeURIComponent(a)}catch(b){return a}}var p=this,q=b[0],s=a.location,t=a.history,v=a.setTimeout,w=a.clearTimeout,x={};p.isMock=!1;var y=0,z=[];p.$$completeOutstandingRequest=g,p.$$incOutstandingRequestCount=function(){y++},p.notifyWhenNoOutstandingRequests=function(a){f(B,function(a){a()}),0===y?a():z.push(a)};var A,B=[];p.addPollFn=function(a){return r(A)&&i(100,v),B.push(a),a};var C,D,E=s.href,F=b.find("base"),G=null;l(),D=C,p.url=function(b,c,d){if(r(d)&&(d=null),s!==a.location&&(s=a.location),t!==a.history&&(t=a.history),b){var f=D===d;if(E===b&&(!e.history||f))return p;var g=E&&vb(E)===vb(b);return E=b,D=d,!e.history||g&&f?(g||(G=b),c?s.replace(b):g?s.hash=h(b):s.href=b):(t[c?"replaceState":"pushState"](d,"",b),l(),D=C),p}return G||s.href.replace(/%27/g,"'")},p.state=function(){return C};var H=[],I=!1,J=null;p.onUrlChange=function(b){return I||(e.history&&ad(a).on("popstate",j),ad(a).on("hashchange",j),I=!0),H.push(b),b},p.$$checkUrlChange=m,p.baseHref=function(){var a=F.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var K={},L="",N=p.baseHref();p.cookies=function(a,b){var e,f,g,h,i;if(!a){if(q.cookie!==L)for(L=q.cookie,f=L.split("; "),K={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=n(g.substring(0,i)),K[a]===c&&(K[a]=n(g.substring(i+1))));return K}b===c?q.cookie=encodeURIComponent(a)+"=;path="+N+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(q.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+N).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},p.defer=function(a,b){var c;return y++,c=v(function(){delete x[c],g(a)},b||0),x[c]=!0,c},p.defer.cancel=function(a){return x[a]?(delete x[a],w(a),g(o),!0):!1}}function Wa(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Va(a,d,b,c)}]}function Xa(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Ya(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Za(a,d){function e(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};return f(a,function(a,e){var f=a.match(c);if(!f)throw Wd("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,e,a);d[e]={mode:f[1][0],collection:"*"===f[2],optional:"?"===f[3],attrName:f[4]||e}}),d}var g={},h="Directive",j=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,k=/(([\w\-]+)(?:\:([^;]+))?;?)/,m=H("ngSrc,ngSrcset,src,srcset"),r=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,v=/^(on[a-z]+|formaction)$/;this.directive=function y(b,c){return ga(b,"directive"),u(b)?(ea(c,"directiveFactory"),g.hasOwnProperty(b)||(g[b]=[],a.factory(b+h,["$injector","$exceptionHandler",function(a,c){var d=[];return f(g[b],function(f,g){try{var h=a.invoke(f);x(h)?h={compile:q(h)}:!h.compile&&h.link&&(h.compile=q(h.link)),h.priority=h.priority||0,h.index=g,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA",t(h.scope)&&(h.$$isolateBindings=e(h.scope,h.name)),d.push(h)}catch(i){c(i)}}),d}])),g[b].push(c)):f(b,i(y)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var w=!0;this.debugInfoEnabled=function(a){return s(a)?(w=a,this):w},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,e,i,q,s,y,z,B,C,D){function E(a,b){try{a.addClass(b)}catch(c){}}function F(a,b,c,d,e){a instanceof ad||(a=ad(a)),f(a,function(b,c){b.nodeType==td&&b.nodeValue.match(/\S+/)&&(a[c]=ad(b).wrap("<span></span>").parent()[0])});var g=H(a,b,a,c,d,e);F.$$addScopeClass(a);var h=null;return function(b,c,d){ea(b,"scope"),d=d||{};var e=d.parentBoundTranscludeFn,f=d.transcludeControllers,i=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),h||(h=G(i));var j;if(j="html"!==h?ad($(h,ad("<div>").append(a).html())):c?Ld.clone.call(a):a,f)for(var k in f)j.data("$"+k+"Controller",f[k].instance);return F.$$addScopeInfo(j,b),c&&c(j,b),g&&g(b,j,j,e),j}}function G(a){var b=a&&a[0];return b&&"foreignobject"!==I(b)&&b.toString().match(/SVG/)?"svg":"html"}function H(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),F.$$addScopeInfo(ad(i),j)):j=a,n=g.transcludeOnThisElement?K(a,g.transclude,f,g.elementTranscludeOnThisElement):!g.templateOnThisElement&&f?f:!f&&b?K(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new ga,j=L(a[q],[],i,0===q?e:c,f),k=j.length?Q(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&F.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:H(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function K(a,b,c,d){var e=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})};return e}function L(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case sd:S(b,$a(I(a)),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,v=r&&r.length;v>s;s++){var w=!1,x=!1;l=r[s],m=l.name,p=md(l.value),o=$a(m),(q=la.test(o))&&(m=m.replace(Xd,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.replace(/(Start|End)$/,"");U(y)&&o===y+"Start"&&(w=m,x=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=$a(m.toLowerCase()),i[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Ka(a,n)&&(c[n]=!0)),aa(a,b,p,n,q),S(b,n,"A",d,e,w,x)}if(g=a.className,t(g)&&(g=g.animVal),u(g)&&""!==g)for(;f=k.exec(g);)n=$a(f[2]),S(b,n,"C",d,e)&&(c[n]=md(f[3])),g=g.substr(f.index+f[0].length);break;case td:Z(b,a.nodeValue);break;case ud:try{f=j.exec(a.nodeValue),f&&(n=$a(f[1]),S(b,n,"M",d,e)&&(c[n]=md(f[2])))}catch(z){}}return b.sort(X),b}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Wd("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==sd&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return ad(d)}function P(a,b,c){return function(d,e,f,g,h){return e=N(e[0],b,c),a(d,e,f,g,h)}}function Q(a,g,h,i,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=P(a,c,d)),a.require=z.require,a.directiveName=B,(I===z||z.$$isolateScope)&&(a=da(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=P(b,c,d)),b.require=z.require,b.directiveName=B,(I===z||z.$$isolateScope)&&(b=da(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g,h="data",i=!1,j=c;if(u(b)){if(g=b.match(r),b=b.substring(g[0].length),g[3]&&(g[1]?g[3]=null:g[1]=g[3]),"^"===g[1]?h="inheritedData":"^^"===g[1]&&(h="inheritedData",j=c.parent()),"?"===g[2]&&(i=!0),e=null,d&&"data"===h&&(e=d[b])&&(e=e.instance),e=e||j[h]("$"+b+"Controller"),!e&&!i)throw Wd("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e||null}return ld(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function v(a,b,e,i,j){function k(a,b,d){var e;return A(a)||(d=b,b=a,a=c),U&&(e=v),d||(d=U?x.parent():x),j(a,b,e,d,D)}var n,o,r,t,u,v,w,x,z;if(g===e?(z=h,x=h.$$element):(x=ad(e),z=new ga(x,h)),I&&(u=b.$new(!0)),j&&(w=k,w.$$boundTransclude=j),H&&(y={},v={},f(H,function(a){var c,d={$scope:a===I||a.$$isolateScope?u:b,$element:x,$attrs:z,$transclude:w};t=a.controller,"@"==t&&(t=z[a.name]),c=s(t,d,!0,a.controllerAs),v[a.name]=c,U||x.data("$"+a.name+"Controller",c.instance),y[a.name]=c})),I){F.$$addScopeInfo(x,u,!0,!(J&&(J===I||J===I.$$originalDirective))),F.$$addScopeClass(x,!0);var B=y&&y[I.name],C=u;B&&B.identifier&&I.bindToController===!0&&(C=B.instance),f(u.$$isolateBindings=I.$$isolateBindings,function(a,c){var e,f,g,h,i=a.attrName,j=a.optional,k=a.mode;switch(k){case"@":z.$observe(i,function(a){C[c]=a}),z.$$observers[i].$$scope=b,z[i]&&(C[c]=d(z[i])(b));break;case"=":if(j&&!z[i])return;f=q(z[i]),h=f.literal?M:function(a,b){return a===b||a!==a&&b!==b},g=f.assign||function(){throw e=C[c]=f(b),Wd("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",z[i],I.name)},e=C[c]=f(b);var l=function(a){return h(a,C[c])||(h(a,e)?g(b,a=C[c]):C[c]=a),e=a};l.$stateful=!0;var m;m=a.collection?b.$watchCollection(z[i],l):b.$watch(q(z[i],l),null,f.literal),u.$on("$destroy",m);break;case"&":f=q(z[i]),C[c]=function(a){return f(b,a)}}})}for(y&&(f(y,function(a){a()}),y=null),n=0,o=l.length;o>n;n++)r=l[n],fa(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w);var D=b;for(I&&(I.template||null===I.templateUrl)&&(D=u),a&&a(D,e.childNodes,c,j),n=m.length-1;n>=0;n--)r=m[n],fa(r,r.isolateScope?u:b,x,z,r.require&&p(r.directiveName,r.require,x,v),w)}n=n||{};for(var w,y,z,B,C,D,E,G=-Number.MAX_VALUE,H=n.controllerDirectives,I=n.newIsolateScopeDirective,J=n.templateDirective,K=n.nonTlbTranscludeDirective,Q=!1,S=!1,U=n.hasElementTranscludeDirective,X=h.$$element=ad(g),Z=k,_=i,aa=0,ca=a.length;ca>aa;aa++){z=a[aa];var ea=z.$$start,ha=z.$$end;if(ea&&(X=N(g,ea,ha)),C=c,G>z.priority)break;if((E=z.scope)&&(z.templateUrl||(t(E)?(Y("new/isolated scope",I||w,z,X),I=z):Y("new/isolated scope",I,z,X)),w=w||z),B=z.name,!z.templateUrl&&z.controller&&(E=z.controller,H=H||{},Y("'"+B+"' controller",H[B],z,X),H[B]=z),(E=z.transclude)&&(Q=!0,z.$$tlb||(Y("transclusion",K,z,X),K=z),"element"==E?(U=!0,G=z.priority,C=X,X=h.$$element=ad(b.createComment(" "+B+": "+h[B]+" ")),g=X[0],ba(j,O(C),g),_=F(C,i,G,Z&&Z.name,{nonTlbTranscludeDirective:K})):(C=ad(va(g)).contents(),X.empty(),_=F(C,i))),z.template)if(S=!0,Y("template",J,z,X),J=z,E=x(z.template)?z.template(X,h):z.template,E=ka(E),z.replace){if(Z=z,C=qa(E)?[]:ab($(z.templateNamespace,md(E))),g=C[0],1!=C.length||g.nodeType!==sd)throw Wd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",B,"");ba(j,X,g);var ia={$attr:{}},ja=L(g,[],ia),la=a.splice(aa+1,a.length-(aa+1));I&&R(ja),a=a.concat(ja).concat(la),V(h,ia),ca=a.length}else X.html(E);if(z.templateUrl)S=!0,Y("template",J,z,X),J=z,z.replace&&(Z=z),v=W(a.splice(aa,a.length-aa),X,h,j,Q&&_,l,m,{controllerDirectives:H,newIsolateScopeDirective:I,templateDirective:J,nonTlbTranscludeDirective:K}),ca=a.length;else if(z.compile)try{D=z.compile(X,h,_),x(D)?o(null,D,ea,ha):D&&o(D.pre,D.post,ea,ha)}catch(ma){e(ma,T(X))}z.terminal&&(v.terminal=!0,G=Math.max(G,z.priority))}return v.scope=w&&w.scope===!0,v.transcludeOnThisElement=Q,v.elementTranscludeOnThisElement=U,v.templateOnThisElement=S,v.transclude=_,n.hasElementTranscludeDirective=U,v}function R(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function S(b,d,f,i,j,k,l){if(d===j)return null;var m=null;if(g.hasOwnProperty(d))for(var o,p=a.get(d+h),q=0,r=p.length;r>q;q++)try{o=p[q],(i===c||i>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){e(s)}return m}function U(b){if(g.hasOwnProperty(b))for(var c,d=a.get(b+h),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function V(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(E(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function W(a,b,c,d,e,g,h,j){var k,l,m=[],o=b[0],p=a.shift(),q=n(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=x(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),i(B.getTrustedResourceUrl(r)).then(function(i){var n,u,v,w;if(i=ka(i),p.replace){if(v=qa(i)?[]:ab($(s,md(i))),n=v[0],1!=v.length||n.nodeType!==sd)throw Wd("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);u={$attr:{}},ba(d,b,n);var x=L(n,[],u);t(p.scope)&&R(x),a=x.concat(a),V(c,u)}else n=o,b.html(i);for(a.unshift(q),k=Q(a,n,c,e,b,p,g,h,j),f(d,function(a,c){a==n&&(d[c]=b[0])}),l=H(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==o){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=va(n)),ba(A,ad(z),C),E(ad(C),D)}w=k.transcludeOnThisElement?K(y,k.transclude,B):B,k(l,y,C,d,w)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=K(b,k.transclude,e)),k(l,b,c,d,f)))}}function X(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Y(a,b,c,d){if(b)throw Wd("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function Z(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&F.$$addBindingClass(b),function(a,b){var e=b.parent();d||F.$$addBindingClass(e),F.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function $(a,c){switch(a=Wc(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function _(a,b){if("srcdoc"==b)return B.HTML;var c=I(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?B.RESOURCE_URL:void 0}function aa(a,b,c,e,f){var g=_(a,e);f=m[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===I(a))throw Wd("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers={});if(v.test(e))throw Wd("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ba(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),ad(d).data(ad(g).data()),bd?(kd=!0,bd.cleanData([g])):delete ad.cache[g[ad.expando]];for(var n=1,o=c.length;o>n;n++){var p=c[n];ad(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function da(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function fa(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,T(c))}}var ga=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};ga.prototype={$normalize:$a,$addClass:function(a){a&&a.length>0&&C.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&C.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=_a(a,b);c&&c.length&&C.addClass(this.$$element,c);var d=_a(b,a);d&&d.length&&C.removeClass(this.$$element,d)},$set:function(a,b,d,g){var h,i=this.$$element[0],j=Ka(i,a),k=La(i,a),l=a;if(j?(this.$$element.prop(a,b),g=j):k&&(this[k]=b,l=k),this[a]=b,g?this.$attr[a]=g:(g=this.$attr[a],g||(this.$attr[a]=g=ca(a,"-"))),h=I(this.$$element),"a"===h&&"href"===a||"img"===h&&"src"===a)this[a]=b=D(b,"src"===a);else if("img"===h&&"srcset"===a){for(var m="",n=md(b),o=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(n)?o:/(,)/,q=n.split(p),r=Math.floor(q.length/2),s=0;r>s;s++){var t=2*s;m+=D(md(q[t]),!0),m+=" "+md(q[t+1])}var u=md(q[2*s]).split(/\s/);m+=D(md(u[0]),!0),2===u.length&&(m+=" "+md(u[1])),this[a]=b=m}d!==!1&&(null===b||b===c?this.$$element.removeAttr(g):this.$$element.attr(g,b));var v=this.$$observers;v&&f(v[l],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ja()),e=d[a]||(d[a]=[]);return e.push(b),y.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])}),function(){J(e,b)}}};var ha=d.startSymbol(),ia=d.endSymbol(),ka="{{"==ha||"}}"==ia?p:function(a){return a.replace(/\{\{/g,ha).replace(/}}/g,ia)},la=/^ngAttr[A-Z]/;return F.$$addBindingInfo=w?function(a,b){var c=a.data("$binding")||[];ld(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:o,F.$$addBindingClass=w?function(a){E(a,"ng-binding")}:o,F.$$addScopeInfo=w?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:o,F.$$addScopeClass=w?function(a,b){E(a,b?"ng-isolate-scope":"ng-scope")}:o,F}]}function $a(a){return pa(a.replace(Xd,""))}function _a(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function ab(a){a=ad(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===ud&&ed.call(a,b,1)}return a}function bb(){var a={},b=!1,e=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){ga(b,"controller"),t(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(f,g){function h(a,b,c,e){if(!a||!t(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,i,j,k){var m,n,o,p;if(j=j===!0,k&&u(k)&&(p=k),u(d)){if(n=d.match(e),!n)throw Yd("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);o=n[1],p=p||n[3],d=a.hasOwnProperty(o)?a[o]:ha(i.$scope,o,!0)||(b?ha(g,o,!0):c),fa(d,o,!0)}if(j){var q=(ld(d)?d[d.length-1]:d).prototype;return m=Object.create(q||null),p&&h(i,p,m,o||d.name),l(function(){return f.invoke(d,m,i,o),m},{instance:m,identifier:p})}return m=f.instantiate(d,i,o),p&&h(i,p,m,o||d.name),m}}]}function cb(){this.$get=["$window",function(a){return ad(a.document)}]}function db(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function eb(a,b){if(u(a)){var c=a.replace(be,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Zd)||fb(c))&&(a=S(c))}}return a}function fb(a){var b=a.match(_d);return b&&ae[b[0]].test(a)}function gb(a){var b,c,d,e=ja();return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=Wc(md(a.substr(0,d))),c=md(a.substr(d+1)),b&&(e[b]=e[b]?e[b]+", "+c:c)}),e):e}function hb(a){var b=t(a)?a:c;return function(c){if(b||(b=gb(a)),c){var d=b[Wc(c)];return void 0===d&&(d=null),d}return b}}function ib(a,b,c,d){return x(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function jb(a){return a>=200&&300>a}function kb(){var a=this.defaults={transformResponse:[eb],transformRequest:[function(a){return!t(a)||B(a)||D(a)||C(a)?a:R(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L($d),put:L($d),patch:L($d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},b=!1;this.useApplyAsync=function(a){return s(a)?(b=!!a,this):b};var e=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(g,i,j,k,m,n){function o(b){function e(a){var b=l({},a);return a.data?b.data=ib(a.data,a.headers,a.status,i.transformResponse):b.data=a.data,jb(a.status)?b:m.reject(b)}function g(a){var b,c={};return f(a,function(a,d){x(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a}),c}function h(b){var c,d,e,f=a.headers,h=l({},b.headers);f=l({},f.common,f[Wc(b.method)]);a:for(c in f){d=Wc(c);for(e in h)if(Wc(e)===d)continue a;h[c]=f[c]}return g(h)}if(!id.isObject(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);var i=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},b);i.headers=h(b),i.method=Yc(i.method);var j=function(b){var d=b.headers,g=ib(b.data,hb(d),c,b.transformRequest);return r(g)&&f(d,function(a,b){"content-type"===Wc(b)&&delete d[b]}),r(b.withCredentials)&&!r(a.withCredentials)&&(b.withCredentials=a.withCredentials),v(b,g).then(e,e)},k=[j,c],n=m.when(i);for(f(A,function(a){(a.request||a.requestError)&&k.unshift(a.request,a.requestError),(a.response||a.responseError)&&k.push(a.response,a.responseError)});k.length;){var o=k.shift(),p=k.shift();n=n.then(o,p)}return n.success=function(a){return n.then(function(b){a(b.data,b.status,b.headers,i)}),n},n.error=function(a){return n.then(null,function(b){a(b.data,b.status,b.headers,i)}),n},n}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l(c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l(d||{},{method:a,url:b,data:c}))}})}function v(d,e){function f(a,c,d,e){function f(){h(c,a,d,e)}n&&(jb(a)?n.put(w,[a,c,gb(d),e]):n.remove(w)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function h(a,b,c,e){b=Math.max(b,0),(jb(b)?q.resolve:q.reject)({data:a,status:b,headers:hb(c),config:d,statusText:e})}function j(a){h(a.data,a.status,L(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),u=q.promise,v=d.headers,w=y(d.url,d.params);if(o.pendingRequests.push(d),u.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=t(d.cache)?d.cache:t(a.cache)?a.cache:z),n&&(p=n.get(w),s(p)?F(p)?p.then(j,j):ld(p)?h(p[1],p[0],L(p[2]),p[3]):h(p,200,{},"OK"):n.put(w,u)),r(p)){var x=ec(d.url)?i.cookies()[d.xsrfCookieName||a.xsrfCookieName]:c;x&&(v[d.xsrfHeaderName||a.xsrfHeaderName]=x),g(d.method,w,e,f,v,d.timeout,d.withCredentials,d.responseType)}return u}function y(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(ld(a)||(a=[a]),f(a,function(a){t(a)&&(a=w(a)?a.toISOString():R(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var z=j("$http"),A=[];return f(e,function(a){A.unshift(u(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function lb(){return new a.XMLHttpRequest}function mb(){this.$get=["$browser","$window","$document",function(a,b,c){return nb(a,lb,a.defer,b.angular.callbacks,c[0])}]}function nb(a,b,d,e,g){function h(a,b,c){var d=g.createElement("script"),f=null;return d.type="text/javascript",d.src=a,d.async=!0,f=function(a){Bd(d,"load",f),Bd(d,"error",f),g.body.removeChild(d),d=null;var h=-1,i="unknown";a&&("load"!==a.type||e[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Ad(d,"load",f),Ad(d,"error",f),g.body.appendChild(d),f}return function(g,i,j,k,l,m,n,p){function q(){u&&u(),v&&v.abort()}function r(b,e,f,g,h){y!==c&&d.cancel(y),u=v=null,b(e,f,g,h),a.$$completeOutstandingRequest(o)}if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==Wc(g)){var t="_"+(e.counter++).toString(36);e[t]=function(a){e[t].data=a,e[t].called=!0};var u=h(i.replace("JSON_CALLBACK","angular.callbacks."+t),t,function(a,b){
r(k,a,e[t].data,"",b),e[t]=o})}else{var v=b();v.open(g,i,!0),f(l,function(a,b){s(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==dc(i).protocol?404:0),r(k,c,b,v.getAllResponseHeaders(),a)};var w=function(){r(k,-1,null,null,"")};if(v.onerror=w,v.onabort=w,n&&(v.withCredentials=!0),p)try{v.responseType=p}catch(x){if("json"!==p)throw x}v.send(j||null)}if(m>0)var y=d(q,m);else F(m)&&m.then(q)}}function ob(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,m,n){function o(c){return c.replace(j,a).replace(k,b)}function p(a){try{return a=D(a),n&&!s(a)?a:E(a)}catch(b){var c=ce("interr","Can't interpolate: {0}\n{1}",f,b.toString());d(c)}}n=!!n;for(var q,t,u,v=0,w=[],y=[],z=f.length,A=[],B=[];z>v;){if(-1==(q=f.indexOf(a,v))||-1==(t=f.indexOf(b,q+h))){v!==z&&A.push(o(f.substring(v)));break}v!==q&&A.push(o(f.substring(v,q))),u=f.substring(q+h,t),w.push(u),y.push(c(u,p)),v=t+i,B.push(A.length),A.push("")}if(m&&A.length>1)throw ce("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);if(!g||w.length){var C=function(a){for(var b=0,c=w.length;c>b;b++){if(n&&r(a[b]))return;A[B[b]]=a[b]}return A.join("")},D=function(a){return m?e.getTrusted(m,a):e.valueOf(a)},E=function(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=R(a)}return a};return l(function(a){var b=0,c=w.length,e=new Array(c);try{for(;c>b;b++)e[b]=y[b](a);return C(e)}catch(g){var h=ce("interr","Can't interpolate: {0}\n{1}",f,g.toString());d(h)}},{exp:f,expressions:w,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(y,function(c,e){var f=C(c);x(b)&&b.call(this,f,c!==e?d:f,a),d=f},c)}})}}var h=a.length,i=b.length,j=new RegExp(a.replace(/./g,f),"g"),k=new RegExp(b.replace(/./g,f),"g");return g.startSymbol=function(){return a},g.endSymbol=function(){return b},g}]}function pb(){this.$get=["$rootScope","$window","$q","$$q",function(a,b,c,d){function e(e,g,h,i){var j=b.setInterval,k=b.clearInterval,l=0,m=s(i)&&!i,n=(m?d:c).defer(),o=n.promise;return h=s(h)?h:0,o.then(null,null,e),o.$$intervalId=j(function(){n.notify(l++),h>0&&l>=h&&(n.resolve(l),k(o.$$intervalId),delete f[o.$$intervalId]),m||a.$apply()},g),f[o.$$intervalId]=n,o}var f={};return e.cancel=function(a){return a&&a.$$intervalId in f?(f[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete f[a.$$intervalId],!0):!1},e}]}function qb(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(a){return 1===a?"one":"other"}}}}function rb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function sb(a,b){var c=dc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=m(c.port)||ee[c.protocol]||null}function tb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=dc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=V(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function ub(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function vb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function wb(a){return a.replace(/(#.+)|#$/,"$1")}function xb(a){return a.substr(0,vb(a).lastIndexOf("/")+1)}function yb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function zb(a,b){this.$$html5=!0,b=b||"";var d=xb(a);sb(a,this),this.$$parse=function(a){var b=ub(d,a);if(!u(b))throw fe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,d);tb(b,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,f){if(f&&"#"===f[0])return this.hash(f.slice(1)),!0;var g,h,i;return(g=ub(a,e))!==c?(h=g,i=(g=ub(b,g))!==c?d+(ub("/",g)||g):a+h):(g=ub(d,e))!==c?i=d+g:d==e+"/"&&(i=d),i&&this.$$parse(i),!!i}}function Ab(a,b){var c=xb(a);sb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=ub(a,d)||ub(c,d);"#"===g.charAt(0)?(f=ub(b,g),r(f)&&(f=g)):f=this.$$html5?g:"",tb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return vb(a)==vb(b)?(this.$$parse(b),!0):!1}}function Bb(a,b){this.$$html5=!0,Ab.apply(this,arguments);var c=xb(a);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==vb(d)?f=d:(g=ub(c,d))?f=a+b+g:c===d+"/"&&(f=c),f&&this.$$parse(f),!!f},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=rb(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function Cb(a){return function(){return this[a]}}function Db(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Eb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return s(b)?(a=b,this):a},this.html5Mode=function(a){return E(a)?(b.enabled=a,this):t(a)?(E(a.enabled)&&(b.enabled=a.enabled),E(a.requireBase)&&(b.requireBase=a.requireBase),E(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw fe("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=yb(n)+(m||"/"),k=e.history?zb:Bb}else l=vb(n),k=Ab;j=new k(l,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var o=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=ad(a.target);"a"!==I(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=dc(h.animVal).href),o.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),wb(j.absUrl())!=wb(n)&&d.url(j.absUrl(),!0);var p=!0;return d.onUrlChange(function(a,b){c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(p=!1,i(e,f)))}),c.$$phase||c.$digest()}),c.$watch(function(){var a=wb(d.url()),b=wb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(p||k)&&(p=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Fb(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Gb(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw he("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function Hb(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw he("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw he("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw he("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function Ib(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===ie||a===je||a===ke)throw he("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function Jb(a){return a.constant}function Kb(a,b,c,d,e){Hb(a,e),Hb(b,e);for(var f,g=c.split("."),h=0;g.length>1;h++){f=Gb(g.shift(),e);var i=0===h&&b&&b[f]||a[f];i||(i={},a[f]=i),a=Hb(i,e)}return f=Gb(g.shift(),e),Hb(a[f],e),a[f]=d,d}function Lb(a){return"constructor"==a}function Mb(a,b,d,e,f,g,h){Gb(a,g),Gb(b,g),Gb(d,g),Gb(e,g),Gb(f,g);var i=function(a){return Hb(a,g)},j=h||Lb(a)?i:p,k=h||Lb(b)?i:p,l=h||Lb(d)?i:p,m=h||Lb(e)?i:p,n=h||Lb(f)?i:p;return function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=j(i[a]),b?null==i?c:(i=k(i[b]),d?null==i?c:(i=l(i[d]),e?null==i?c:(i=m(i[e]),f?null==i?c:i=n(i[f]):i):i):i):i)}}function Nb(a,b){return function(c,d){return a(c,d,Hb,b)}}function Ob(a,b,d){var e=b.expensiveChecks,g=e?re:qe,h=g[a];if(h)return h;var i=a.split("."),j=i.length;if(b.csp)h=6>j?Mb(i[0],i[1],i[2],i[3],i[4],d,e):function(a,b){var f,g=0;do f=Mb(i[g++],i[g++],i[g++],i[g++],i[g++],d,e)(a,b),b=c,a=f;while(j>g);return f};else{var k="";e&&(k+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=e;f(i,function(a,b){Gb(a,d);var c=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;(e||Lb(a))&&(c="eso("+c+", fe)",l=!0),k+="if(s == null) return undefined;\ns="+c+";\n"}),k+="return s;";var m=new Function("s","l","eso","fe",k);m.toString=q(k),l&&(m=Nb(m,d)),h=m}return h.sharedGetter=!0,h.assign=function(b,c,d){return Kb(b,d,a,c,a)},g[a]=h,h}function Pb(a){return x(a.valueOf)?a.valueOf():se.call(a)}function Qb(){var a=ja(),b=ja();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;return a.sharedGetter&&(b=function(b,c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign),b}function g(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];e.constant||(e.inputs?g(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=Pb(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,c,d){var e,f=d.$$inputs||(d.$$inputs=g(d.inputs,[]));if(1===f.length){var i=h;return f=f[0],a.$watch(function(a){var b=f(a);return h(b,i)||(e=d(a),i=b&&Pb(b)),e},b,c)}for(var j=[],k=0,l=f.length;l>k;k++)j[k]=h;return a.$watch(function(a){for(var b=!1,c=0,g=f.length;g>c;c++){var i=f[c](a);(b||(b=!h(i,j[c])))&&(j[c]=i&&Pb(i))}return b&&(e=d(a)),e},b,c)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,x(b)&&b.apply(this,arguments),s(a)&&d.$$postDigest(function(){s(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){s(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,x(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){x(b)&&b.apply(this,arguments),e()},c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=c!==k&&c!==j,e=d?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return s(e)?f:e};return a.$$watchDelegate&&a.$$watchDelegate!==i?e.$$watchDelegate=a.$$watchDelegate:b.$stateful||(e.$$watchDelegate=i,e.inputs=[a]),e}var n={csp:d.csp,expensiveChecks:!1},p={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var h,q,r;switch(typeof d){case"string":r=d=d.trim();var s=g?b:a;if(h=s[r],!h){":"===d.charAt(0)&&":"===d.charAt(1)&&(q=!0,d=d.substring(2));var t=g?p:n,u=new oe(t),v=new pe(u,c,t);h=v.parse(d),h.constant?h.$$watchDelegate=l:q?(h=e(h),h.$$watchDelegate=h.literal?k:j):h.inputs&&(h.$$watchDelegate=i),s[r]=h}return m(h,f);case"function":return m(d,f);default:return m(o,f)}}}]}function Rb(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return Tb(function(b){a.$evalAsync(b)},b)}]}function Sb(){this.$get=["$browser","$exceptionHandler",function(a,b){return Tb(function(b){a.defer(b)},b)}]}function Tb(a,b){function e(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function g(){this.$$state={status:0}}function h(a,b){return function(c){b.call(a,c)}}function i(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{x(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function j(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){i(b)}))}function k(){this.promise=new g,this.resolve=h(this,this.resolve),this.reject=h(this,this.reject),this.notify=h(this,this.notify)}function l(a){var b=new k,c=0,d=ld(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){return new k};g.prototype={then:function(a,b,c){var d=new k;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&j(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}},k.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){var c,d;d=e(this,this.$$resolve,this.$$reject);try{(t(a)||x(a))&&(c=a&&a.then),x(c)?(this.promise.$$state.status=-1,c.call(a,d[0],d[1],this.notify)):(this.promise.$$state.value=a,this.promise.$$state.status=1,j(this.promise.$$state))}catch(f){d[1](f),b(f)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,j(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(x(a)?a(c):c)}catch(h){b(h)}}})}};var o=function(a){var b=new k;return b.reject(a),b.promise},p=function(a,b){var c=new k;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{x(c)&&(d=c())}catch(e){return p(e,!1)}return F(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new k;return e.resolve(a),e.promise.then(b,c,d)},s=function u(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!x(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);if(!(this instanceof u))return new u(a);var d=new k;return a(b,c),d.promise};return s.defer=n,s.reject=o,s.when=r,s.all=l,s}function Ub(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Vb(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=j(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,i,k,l){function m(a){a.currentScope.$$destroyed=!0}function n(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function p(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function v(){for(;B.length;)try{B.shift()()}catch(a){i(a)}h=null}function w(){null===h&&(h=l.defer(function(){y.$apply(v)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",m),d},$watch:function(a,b,c){var d=k(a);if(d.$$watchDelegate)return d.$$watchDelegate(this,b,c,d);var e=this,f=e.$$watchers,h={fn:b,last:u,get:d,exp:a,eq:!!c};return g=null,x(b)||(h.fn=o),f||(f=e.$$watchers=[]),f.unshift(h),function(){J(f,h),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!r(f)){if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)f.hasOwnProperty(c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)f.hasOwnProperty(c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),j)if(t(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Xc.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,j=b.length>1,l=0,m=k(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,d,e,f,j,k,m,n,o,r,s=b,t=this,w=[];p("$digest"),l.$$checkUrlChange(),this===y&&null!==h&&(l.defer.cancel(h),v()),g=null;do{for(k=!1,n=t;z.length;){try{r=z.shift(),r.scope.$eval(r.expression,r.locals)}catch(B){i(B)}g=null}a:do{if(f=n.$$watchers)for(j=f.length;j--;)try{if(a=f[j])if((d=a.get(n))===(e=a.last)||(a.eq?M(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(a===g){k=!1;break a}}else k=!0,g=a,a.last=a.eq?K(d,null):d,a.fn(d,e===u?d:e,n),5>s&&(o=4-s,w[o]||(w[o]=[]),w[o].push({msg:x(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:d,oldVal:e}))}catch(B){i(B)}if(!(m=n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(m=n.$$nextSibling);)n=n.$parent}while(n=m);if((k||z.length)&&!s--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,w)}while(k||z.length);for(q();A.length;)try{A.shift()()}catch(B){i(B)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==y){for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=o,this.$on=this.$watch=this.$watchGroup=function(){return o},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,b){return k(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||l.defer(function(){z.length&&y.$digest()}),z.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){A.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){i(b)}finally{q();try{y.$digest()}catch(b){throw i(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&B.push(b),w()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var c,d,e,f=[],g=this,h=!1,j={name:a,targetScope:g,stopPropagation:function(){h=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=N([j],arguments,1);do{for(c=g.$$listeners[a]||f,j.currentScope=g,d=0,e=c.length;e>d;d++)if(c[d])try{c[d].apply(null,k)}catch(l){i(l)}else c.splice(d,1),d--,e--;if(h)return j.currentScope=null,j;g=g.$parent}while(g);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,d=c,e=c,f={name:a,targetScope:c,preventDefault:function(){f.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return f;for(var g,h,j,k=N([f],arguments,1);d=e;){for(f.currentScope=d,g=d.$$listeners[a]||[],h=0,j=g.length;j>h;h++)if(g[h])try{g[h].apply(null,k)}catch(l){i(l)}else g.splice(h,1),h--,j--;if(!(e=d.$$listenerCount[a]&&d.$$childHead||d!==c&&d.$$nextSibling))for(;d!==c&&!(e=d.$$nextSibling);)d=d.$parent}return f.currentScope=null,f}};var y=new n,z=y.$$asyncQueue=[],A=y.$$postDigestQueue=[],B=y.$$applyAsyncQueue=[];return y}]}function Wb(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=dc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function Xb(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw te("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=nd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw te("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Yb(a){var b=[];return s(a)&&f(a,function(a){b.push(Xb(a))}),b}function Zb(){this.SCE_CONTEXTS=ue;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Yb(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Yb(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?ec(b):!!a.exec(b.href)}function f(c){var d,f,g=dc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw te("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw te("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===ue.RESOURCE_URL){if(f(b))return b;throw te("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===ue.HTML)return k(b);throw te("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(a){throw te("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[ue.HTML]=g(l),m[ue.CSS]=g(l),m[ue.URL]=g(l),m[ue.JS]=g(l),m[ue.RESOURCE_URL]=g(m[ue.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function $b(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>_c)throw te("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=L(ue);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=p),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(ue,function(a,b){var c=Wc(b);d[pa("parse_as_"+c)]=function(b){return e(a,b)},d[pa("get_trusted_"+c)]=function(b){return g(a,b)},d[pa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function _b(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(Wc((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var n in j)if(d=i.exec(n)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=u(h.body.style.webkitTransition),l=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=_c)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:od(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function ac(){this.$get=["$templateCache","$http","$q",function(a,b,c){function d(e,f){function g(a){if(!f)throw Wd("tpload","Failed to load template: {0}",e);return c.reject(a)}d.totalPendingRequests++;var h=b.defaults&&b.defaults.transformResponse;ld(h)?h=h.filter(function(a){return a!==eb}):h===eb&&(h=null);var i={cache:a,transformResponse:h};return b.get(e,i)["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},g)}return d.totalPendingRequests=0,d}]}function bc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=id.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+nd(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function cc(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){var j,k=s(i)&&!i,l=(k?d:c).defer(),m=l.promise;return j=b.defer(function(){try{l.resolve(f())}catch(b){l.reject(b),e(b)}finally{delete g[m.$$timeoutId]}k||a.$apply()},h),m.$$timeoutId=j,g[j]=l,m}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function dc(a){var b=a;return _c&&(ve.setAttribute("href",b),b=ve.href),ve.setAttribute("href",b),{href:ve.href,protocol:ve.protocol?ve.protocol.replace(/:$/,""):"",host:ve.host,search:ve.search?ve.search.replace(/^\?/,""):"",hash:ve.hash?ve.hash.replace(/^#/,""):"",hostname:ve.hostname,port:ve.port,pathname:"/"===ve.pathname.charAt(0)?ve.pathname:"/"+ve.pathname}}function ec(a){var b=u(a)?dc(a):a;return b.protocol===we.protocol&&b.host===we.host}function fc(){this.$get=q(a)}function gc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",kc),b("date",xc),b("filter",hc),b("json",yc),b("limitTo",zc),b("lowercase",Be),b("number",lc),b("orderBy",Ac),b("uppercase",Ce)}function hc(){return function(a,b,c){if(!ld(a))return a;var d,e;switch(typeof b){case"function":d=b;break;case"boolean":case"number":case"string":e=!0;case"object":d=ic(b,c,e);break;default:return a}return a.filter(d)}}function ic(a,b,c){var d,e=t(a)&&"$"in a;return b===!0?b=M:x(b)||(b=function(a,b){return t(a)||t(b)?!1:(a=Wc(""+a),b=Wc(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!t(d)?jc(d,a.$,b,!1):jc(d,a,b,c)}}function jc(a,b,c,d,e){var f=null!==a?typeof a:"null",g=null!==b?typeof b:"null";if("string"===g&&"!"===b.charAt(0))return!jc(a,b.substring(1),c,d);if(ld(a))return a.some(function(a){return jc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&jc(a[h],b,c,!0))return!0;return e?!1:jc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!x(i)&&!r(i)){var j="$"===h,k=j?a:a[h];if(!jc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function kc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return r(c)&&(c=b.CURRENCY_SYM),r(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:mc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function lc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:mc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function mc(a,b,c,d,e){if(!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?a=0:(h=g,j=!0)}if(j)e>0&&1>a&&(h=a.toFixed(e),a=parseFloat(h));else{var l=(g.split(xe)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(xe),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);

for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return 0===a&&(f=!1),i.push(f?b.negPre:b.posPre,h,f?b.negSuf:b.posSuf),i.join("")}function nc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function oc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),nc(f,b,d)}}function pc(a,b){return function(c,d){var e=c["get"+a](),f=Yc(b?"SHORT"+a:a);return d[f][e]}}function qc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=nc(Math[b>0?"floor":"ceil"](b/60),2)+nc(Math.abs(b%60),2)}function rc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function sc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function tc(a){return function(b){var c=rc(b.getFullYear()),d=sc(b),e=+d-+c,f=1+Math.round(e/6048e5);return nc(f,a)}}function uc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function vc(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function wc(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function xc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=Ae.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)h=ze.exec(d),h?(j=N(j,h,1),d=j.pop()):(j.push(d),d=null);return e&&"UTC"===e&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset())),f(j,function(b){g=ye[b],i+=g?g(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function yc(){return function(a,b){return r(b)&&(b=2),R(a,b)}}function zc(){return function(a,b){return v(a)&&(a=a.toString()),ld(a)||u(a)?(b=Math.abs(Number(b))===1/0?Number(b):m(b),b?b>0?a.slice(0,b):a.slice(b):u(a)?"":[]):a}}function Ac(a){return function(b,c,d){function f(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function g(a,b){return b?function(b,c){return a(c,b)}:a}function h(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function i(a){return null===a?"null":"function"==typeof a.valueOf&&(a=a.valueOf(),h(a))?a:"function"==typeof a.toString&&(a=a.toString(),h(a))?a:""}function j(a,b){var c=typeof a,d=typeof b;return c===d&&"object"===c&&(a=i(a),b=i(b)),c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}return e(b)?(c=ld(c)?c:[c],0===c.length&&(c=["+"]),c=c.map(function(b){var c=!1,d=b||p;if(u(b)){if(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),""===b)return g(j,c);if(d=a(b),d.constant){var e=d();return g(function(a,b){return j(a[e],b[e])},c)}}return g(function(a,b){return j(d(a),d(b))},c)}),dd.call(b).sort(g(f,d))):b}}function Bc(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function Cc(a,b){a.$name=b}function Dc(a,b,d,e,g){var h=this,i=[],j=h.$$parentForm=a.parent().controller("form")||Fe;h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,j.$addControl(h),h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){ga(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a)},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),J(i,a)},Sc({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(J(d,c),0===d.length&&delete a[b])},parentForm:j,$animate:e}),h.$setDirty=function(){e.removeClass(a,of),e.addClass(a,pf),h.$dirty=!0,h.$pristine=!1,j.$setDirty()},h.$setPristine=function(){e.setClass(a,of,pf+" "+Ge),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Ge),h.$submitted=!0,j.$setSubmitted()}}function Ec(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Fc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d)}function Gc(a,b,c,d,e,f){var g=Wc(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=md(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){b.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Hc(a,b){if(w(a))return a;if(u(a)){Qe.lastIndex=0;var c=Qe.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=rc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return 0/0}function Ic(a,b){return function(c,d){var e,g;if(w(c))return c;if(u(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),Ke.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return 0/0}}function Jc(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return s(a)?w(a)?a:d(a):c}Kc(f,g,h,i),Gc(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return"UTC"===p&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return c}),i.$formatters.push(function(a){if(a&&!w(a))throw tf("datefmt","Expected `{0}` to be a date",a);if(m(a)){if(o=a,o&&"UTC"===p){var b=6e4*o.getTimezoneOffset();o=new Date(o.getTime()+b)}return l("date")(a,e,p)}return o=null,""}),s(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||r(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(s(h.max)||h.ngMax){var t;i.$validators.max=function(a){return!m(a)||r(t)||d(a)<=t},h.$observe("max",function(a){t=n(a),i.$validate()})}}}function Kc(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=t(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(Vc)||{};return d.badInput&&!d.typeMismatch?c:a})}function Lc(a,b,d,e,f,g){if(Kc(a,b,d,e),Gc(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Ne.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!v(a))throw tf("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),s(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||r(h)||a>=h},d.$observe("min",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),h=v(a)&&!isNaN(a)?a:c,e.$validate()})}if(s(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||r(i)||i>=a},d.$observe("max",function(a){s(a)&&!v(a)&&(a=parseFloat(a,10)),i=v(a)&&!isNaN(a)?a:c,e.$validate()})}}function Mc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Le.test(c)}}function Nc(a,b,c,d,e,f){Gc(a,b,c,d,e,f),Ec(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Me.test(c)}}function Oc(a,b,c,d){r(c.name)&&b.attr("name",j());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function Pc(a,b,c,e,f){var g;if(s(e)){if(g=a(e),!g.constant)throw d("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,e);return g(b)}return f}function Qc(a,b,c,d,e,f,g,h){var i=Pc(h,a,"ngTrueValue",c.ngTrueValue,!0),j=Pc(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return M(a,i)}),d.$parsers.push(function(a){return a?i:j})}function Rc(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(ld(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!M(a,o)){var d=e(o);m(d,c)}}else j(c)}o=L(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function Sc(a){function b(a,b,i){b===c?d("$pending",a,i):e("$pending",a,i),E(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(sf,!0),h.$valid=h.$invalid=c,g("",null)):(f(sf,!1),h.$valid=Tc(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),m.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),Tc(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(n.addClass(i,a),j[a]=!0):!b&&j[a]&&(n.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ca(a,"-"):"",f(mf+a,b===!0),f(nf+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.parentForm,n=a.$animate;j[nf]=!(j[mf]=i.hasClass(mf)),h.$setValidity=b}function Tc(a){if(a)for(var b in a)return!1;return!0}var Uc=/^\/(.+)\/([a-z]*)$/,Vc="validity",Wc=function(a){return u(a)?a.toLowerCase():a},Xc=Object.prototype.hasOwnProperty,Yc=function(a){return u(a)?a.toUpperCase():a},Zc=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},$c=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Wc=Zc,Yc=$c);var _c,ad,bd,cd,dd=[].slice,ed=[].splice,fd=[].push,gd=Object.prototype.toString,hd=d("ng"),id=a.angular||(a.angular={}),jd=0;_c=b.documentMode,o.$inject=[],p.$inject=[];var kd,ld=Array.isArray,md=function(a){return u(a)?a.trim():a},nd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},od=function(){if(s(od.isActive_))return od.isActive_;var a=!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"));if(!a)try{new Function("")}catch(c){a=!0}return od.isActive_=a},pd=["ng-","data-ng-","ng:","x-ng-"],qd=/[A-Z]/g,rd=!1,sd=1,td=3,ud=8,vd=9,wd=11,xd={full:"1.3.15",major:1,minor:3,dot:15,codeName:"locality-filtration"};ua.expando="ng339";var yd=ua.cache={},zd=1,Ad=function(a,b,c){a.addEventListener(b,c,!1)},Bd=function(a,b,c){a.removeEventListener(b,c,!1)};ua._data=function(a){return this.cache[a[this.expando]]||{}};var Cd=/([\:\-\_]+(.))/g,Dd=/^moz([A-Z])/,Ed={mouseleave:"mouseout",mouseenter:"mouseover"},Fd=d("jqLite"),Gd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hd=/<|&#?\w+;/,Id=/<([\w:]+)/,Jd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Kd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kd.optgroup=Kd.option,Kd.tbody=Kd.tfoot=Kd.colgroup=Kd.caption=Kd.thead,Kd.th=Kd.td;var Ld=ua.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ua(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return ad(a>=0?this[a]:this[this.length+a])},length:0,push:fd,sort:[].sort,splice:[].splice},Md={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Md[Wc(a)]=a});var Nd={};f("input,select,option,textarea,button,form,details".split(","),function(a){Nd[a]=!0});var Od={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:Aa,removeData:ya},function(a,b){ua[b]=a}),f({data:Aa,inheritedData:Ga,scope:function(a){return ad.data(a,"$scope")||Ga(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return ad.data(a,"$isolateScope")||ad.data(a,"$isolateScopeNoTemplate")},controller:Fa,injector:function(a){return Ga(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ba,css:function(a,b,c){return b=pa(b),s(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=Wc(b);if(Md[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(r(b)){var c=a.nodeType;return c===sd||c===td?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(r(b)){if(a.multiple&&"select"===I(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return r(b)?a.innerHTML:(wa(a,!0),void(a.innerHTML=b))},empty:Ha},function(a,b){ua.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Ha&&(2==a.length&&a!==Ba&&a!==Fa?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===Aa)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:ya,on:function Uf(a,b,c,d){if(s(d))throw Fd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ra(a)){var e=za(a,!0),f=e.events,g=e.handle;g||(g=e.handle=Ma(a,f));for(var h=b.indexOf(" ")>=0?b.split(" "):[b],i=h.length;i--;){b=h[i];var j=f[b];j||(f[b]=[],"mouseenter"===b||"mouseleave"===b?Uf(a,Ed[b],function(a){var c=this,d=a.relatedTarget;(!d||d!==c&&!c.contains(d))&&g(a,b)}):"$destroy"!==b&&Ad(a,b,g),j=f[b]),j.push(c)}}},off:xa,one:function(a,b,c){a=ad(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;wa(a),f(new ua(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===sd&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===sd||c===wd){b=new ua(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===sd){var c=a.firstChild;f(new ua(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=ad(b).eq(0).clone()[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:Ia,detach:function(a){Ia(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new ua(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Da,removeClass:Ca,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!Ba(a,b)),(d?Da:Ca)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==wd?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:va,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=za(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:o,type:h,target:a},b.type&&(d=l(d,b)),e=L(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){ua.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=ad(e))):Ea(e,a(this[f],b,c,d));return s(e)?e:this},ua.prototype.bind=ua.prototype.on,ua.prototype.unbind=ua.prototype.off}),Pa.prototype={put:function(a,b){this[Oa(a,this.nextUid)]=b},get:function(a){return this[Oa(a,this.nextUid)]},remove:function(a){var b=this[a=Oa(a,this.nextUid)];return delete this[a],b}};var Pd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qd=/,/,Rd=/^\s*(_?)(\S+?)\1\s*$/,Sd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Td=d("$injector");Sa.$$annotate=Ra;var Ud=d("$animate"),Vd=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw Ud("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(a,b,c){function d(b){var d,e=a.defer();return e.promise.$$cancelFn=function(){d&&d()},c.$$postDigest(function(){d=b(function(){e.resolve()})}),e.promise}function e(a,b){var c=[],d=[],e=ja();return f((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0}),f(b,function(a,b){var f=e[b];a===!1&&f?d.push(b):a!==!0||f||c.push(b)}),c.length+d.length>0&&[c.length?c:null,d.length?d:null]}function g(a,b,c){for(var d=0,e=b.length;e>d;++d){var f=b[d];a[f]=c}}function h(){return j||(j=a.defer(),b(function(){j.resolve(),j=null})),j.promise}function i(a,b){if(id.isObject(b)){var c=l(b.from||{},b.to||{});a.css(c)}}var j;return{animate:function(a,b,c){return i(a,{from:b,to:c}),h()},enter:function(a,b,c,d){return i(a,d),c?c.after(a):b.prepend(a),h()},leave:function(a,b){return i(a,b),a.remove(),h()},move:function(a,b,c,d){return this.enter(a,b,c,d)},addClass:function(a,b,c){return this.setClass(a,b,[],c)},$$addClassImmediately:function(a,b,c){return a=ad(a),b=u(b)?b:ld(b)?b.join(" "):"",f(a,function(a){Da(a,b)}),i(a,c),h()},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},$$removeClassImmediately:function(a,b,c){return a=ad(a),b=u(b)?b:ld(b)?b.join(" "):"",f(a,function(a){Ca(a,b)}),i(a,c),h()},setClass:function(a,b,c,f){var h=this,i="$$animateClasses",j=!1;a=ad(a);var k=a.data(i);k?f&&k.options&&(k.options=id.extend(k.options||{},f)):(k={classes:{},options:f},j=!0);var l=k.classes;return b=ld(b)?b:b.split(" "),c=ld(c)?c:c.split(" "),g(l,b,!0),g(l,c,!1),j&&(k.promise=d(function(b){var c=a.data(i);if(a.removeData(i),c){var d=e(a,c.classes);d&&h.$$setClassImmediately(a,d[0],d[1],c.options)}b()}),a.data(i,k)),k.promise},$$setClassImmediately:function(a,b,c,d){return b&&this.$$addClassImmediately(a,b),c&&this.$$removeClassImmediately(a,c),i(a,d),h()},enabled:o,cancel:o}}]}],Wd=d("$compile");Za.$inject=["$provide","$$sanitizeUriProvider"];var Xd=/^((?:x|data)[\:\-_])/i,Yd=d("$controller"),Zd="application/json",$d={"Content-Type":Zd+";charset=utf-8"},_d=/^\[|^\{(?!\{)/,ae={"[":/]$/,"{":/}$/},be=/^\)\]\}',?\n/,ce=d("$interpolate"),de=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ee={http:80,https:443,ftp:21},fe=d("$location"),ge={$$html5:!1,$$replace:!1,absUrl:Cb("$$absUrl"),url:function(a){if(r(a))return this.$$url;var b=de.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Cb("$$protocol"),host:Cb("$$host"),port:Cb("$$port"),path:Db("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a)||v(a))a=a.toString(),this.$$search=V(a);else{if(!t(a))throw fe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=K(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Db("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Bb,Ab,zb],function(a){a.prototype=Object.create(ge),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==zb||!this.$$html5)throw fe("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=r(b)?null:b,this}});var he=d("$parse"),ie=Function.prototype.call,je=Function.prototype.apply,ke=Function.prototype.bind,le=ja();f({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,b){a.constant=a.literal=a.sharedGetter=!0,le[b]=a}),le["this"]=function(a){return a},le["this"].sharedGetter=!0;var me=l(ja(),{"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"!":function(a,b,c){return!c(a,b)},"=":!0,"|":!0}),ne={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},oe=function(a){this.options=a};oe.prototype={constructor:oe,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=me[b],f=me[c],g=me[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw he("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Wc(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=ne[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var pe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};pe.ZERO=l(function(){return 0},{sharedGetter:!0,constant:!0}),pe.prototype={constructor:pe,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in le?a=le[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b,c;b=this.expect("(","[",".");)"("===b.text?(a=this.functionCall(a,c),c=null):"["===b.text?(c=a,a=this.objectIndex(a)):"."===b.text?(c=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw he("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw he("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){if(0===this.tokens.length)throw he("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},unaryFn:function(a,b){var c=me[a];return l(function(a,d){return c(a,d,b)},{constant:b.constant,inputs:[b]})},binaryFn:function(a,b,c,d){var e=me[b];return l(function(b,d){return e(b,d,a,c)},{constant:a.constant&&c.constant,inputs:!d&&[a,c]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return Ob(a,this.options,this.text)},constant:function(){var a=this.consume().value;return l(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0,f=a.length;f>e;e++)d=a[e](b,c);return d}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},filter:function(a){var b,d,e=this.$filter(this.consume().text);if(this.peek(":"))for(b=[],d=[];this.expect(":");)b.push(this.expression());var f=[a].concat(b||[]);return l(function(f,g){var h=a(f,g);if(d){d[0]=h;for(var i=b.length;i--;)d[i+1]=b[i](f,g);return e.apply(c,d)}return e(h)},{constant:!e.$stateful&&f.every(Jb),inputs:!e.$stateful&&f})},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),l(function(b,d){return c.assign(b,a(b,d),d)},{inputs:[c,a]})):c},ternary:function(){var a,b,c=this.logicalOR();if((b=this.expect("?"))&&(a=this.assignment(),this.consume(":"))){var d=this.assignment();return l(function(b,e){return c(b,e)?a(b,e):d(b,e)},{constant:c.constant&&a.constant&&d.constant})}return c},logicalOR:function(){for(var a,b=this.logicalAND();a=this.expect("||");)b=this.binaryFn(b,a.text,this.logicalAND(),!0);return b},logicalAND:function(){for(var a,b=this.equality();a=this.expect("&&");)b=this.binaryFn(b,a.text,this.equality(),!0);return b},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b=this.binaryFn(b,a.text,this.relational());return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b=this.binaryFn(b,a.text,this.additive());return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.text,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.text,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(pe.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var b=this.identifier();return l(function(d,e,f){var g=f||a(d,e);return null==g?c:b(g)},{assign:function(c,d,e){var f=a(c,e);return f||a.assign(c,f={},e),b.assign(f,d)}})},objectIndex:function(a){var b=this.text,d=this.expression();return this.consume("]"),l(function(e,f){var g,h=a(e,f),i=d(e,f);return Gb(i,b),h?g=Hb(h[i],b):c},{assign:function(c,e,f){var g=Gb(d(c,f),b),h=Hb(a(c,f),b);return h||a.assign(c,h={},f),h[g]=e}})},functionCall:function(a,b){var d=[];if(")"!==this.peekToken().text)do d.push(this.expression());while(this.expect(","));this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var i=b?b(g,h):s(b)?c:g,j=a(g,h,i)||o;if(f)for(var k=d.length;k--;)f[k]=Hb(d[k](g,h),e);Hb(i,e),Ib(j,e);var l=j.apply?j.apply(i,f):j(f[0],f[1],f[2],f[3],f[4]);return f&&(f.length=0),Hb(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(a[e](b,c));return d},{literal:!0,constant:a.every(Jb),inputs:a})},object:function(){var a=[],b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.consume();c.constant?a.push(c.value):c.identifier?a.push(c.text):this.throwError("invalid key",c),this.consume(":"),b.push(this.expression())}while(this.expect(","));return this.consume("}"),l(function(c,d){for(var e={},f=0,g=b.length;g>f;f++)e[a[f]]=b[f](c,d);return e},{literal:!0,constant:b.every(Jb),inputs:b})}};var qe=ja(),re=ja(),se=Object.prototype.valueOf,te=d("$sce"),ue={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wd=d("$compile"),ve=b.createElement("a"),we=dc(a.location.href);gc.$inject=["$provide"],
kc.$inject=["$locale"],lc.$inject=["$locale"];var xe=".",ye={yyyy:oc("FullYear",4),yy:oc("FullYear",2,0,!0),y:oc("FullYear",1),MMMM:pc("Month"),MMM:pc("Month",!0),MM:oc("Month",2,1),M:oc("Month",1,1),dd:oc("Date",2),d:oc("Date",1),HH:oc("Hours",2),H:oc("Hours",1),hh:oc("Hours",2,-12),h:oc("Hours",1,-12),mm:oc("Minutes",2),m:oc("Minutes",1),ss:oc("Seconds",2),s:oc("Seconds",1),sss:oc("Milliseconds",3),EEEE:pc("Day"),EEE:pc("Day",!0),a:uc,Z:qc,ww:tc(2),w:tc(1),G:vc,GG:vc,GGG:vc,GGGG:wc},ze=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Ae=/^\-?\d+$/;xc.$inject=["$locale"];var Be=q(Wc),Ce=q(Yc);Ac.$inject=["$parse"];var De=q({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref||b.name?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===gd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Ee={};f(Md,function(a,b){if("multiple"!=a){var c=$a("ng-"+b);Ee[c]=function(){return{restrict:"A",priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(Od,function(a,b){Ee[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Uc);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=$a("ng-"+a);Ee[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===gd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(_c&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Fe={$addControl:o,$$renameControl:Cc,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o,$setSubmitted:o},Ge="ng-submitted";Dc.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var He=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:Dc,compile:function(d,e){d.addClass(of).addClass(mf);var f=e.name?"name":a&&e.ngForm?"ngForm":!1;return{pre:function(a,d,e,g){if(!("action"in e)){var h=function(b){a.$apply(function(){g.$commitViewValue(),g.$setSubmitted()}),b.preventDefault()};Ad(d[0],"submit",h),d.on("$destroy",function(){b(function(){Bd(d[0],"submit",h)},0,!1)})}var i=g.$$parentForm;f&&(Kb(a,null,g.$name,g,g.$name),e.$observe(f,function(b){g.$name!==b&&(Kb(a,null,g.$name,c,g.$name),i.$$renameControl(g,b),Kb(a,null,g.$name,g,g.$name))})),d.on("$destroy",function(){i.$removeControl(g),f&&Kb(a,null,e[f],c,g.$name),l(g,Fe)})}}}};return d}]},Ie=He(),Je=He(!0),Ke=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Le=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Me=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ne=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Oe=/^(\d{4})-(\d{2})-(\d{2})$/,Pe=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Qe=/^(\d{4})-W(\d\d)$/,Re=/^(\d{4})-(\d\d)$/,Se=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Te={text:Fc,date:Jc("date",Oe,Ic(Oe,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Jc("datetimelocal",Pe,Ic(Pe,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Jc("time",Se,Ic(Se,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Jc("week",Qe,Hc,"yyyy-Www"),month:Jc("month",Re,Ic(Re,["yyyy","MM"]),"yyyy-MM"),number:Lc,url:Mc,email:Nc,radio:Oc,checkbox:Qc,hidden:o,button:o,submit:o,reset:o,file:o},Ue=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Te[Wc(g.type)]||Te.text)(e,f,g,h[0],b,a,c,d)}}}}],Ve=/^(true|false|\d+)$/,We=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ve.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Xe=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,d,e){a.$$addBindingInfo(d,e.ngBind),d=d[0],b.$watch(e.ngBind,function(a){d.textContent=a===c?"":a})}}}}],Ye=["$interpolate","$compile",function(a,b){return{compile:function(d){return b.$$addBindingClass(d),function(d,e,f){var g=a(e.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(e,g.expressions),e=e[0],f.$observe("ngBindTemplate",function(a){e.textContent=a===c?"":a})}}}}],Ze=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],$e=q({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),_e=Rc("",!0),af=Rc("Odd",0),bf=Rc("Even",1),cf=Bc({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),df=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ef={},ff={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=$a("ng-"+a);ef[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};ff[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var gf=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=ia(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],hf=["$templateRequest","$anchorScroll","$animate","$sce",function(a,b,c,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:id.noop,compile:function(e,f){var g=f.ngInclude||f.src,h=f.onload||"",i=f.autoscroll;return function(e,f,j,k,l){var m,n,o,p=0,q=function(){n&&(n.remove(),n=null),m&&(m.$destroy(),m=null),o&&(c.leave(o).then(function(){n=null}),n=o,o=null)};e.$watch(d.parseAsResourceUrl(g),function(d){var g=function(){!s(i)||i&&!e.$eval(i)||b()},j=++p;d?(a(d,!0).then(function(a){if(j===p){var b=e.$new();k.template=a;var i=l(b,function(a){q(),c.enter(a,null,f).then(g)});m=b,o=i,m.$emit("$includeContentLoaded",d),e.$eval(h)}},function(){j===p&&(q(),e.$emit("$includeContentError",d))}),e.$emit("$includeContentRequested",d)):(q(),k.template=null)})}}}}],jf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return/SVG/.test(d[0].toString())?(d.empty(),void a(sa(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],kf=Bc({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),lf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?md(g):g,j=function(a){if(!r(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?md(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return ld(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},mf="ng-valid",nf="ng-invalid",of="ng-pristine",pf="ng-dirty",qf="ng-untouched",rf="ng-touched",sf="ng-pending",tf=new d("ngModel"),uf=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a);var m,n=g(d.ngModel),p=n.assign,q=n,t=p,u=null,w=this;this.$$setOptions=function(a){if(w.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return x(c)&&(c=b(a)),c},t=function(a,b){x(n(a))?c(a,{$$$p:w.$modelValue}):p(a,w.$modelValue)}}else if(!n.assign)throw tf("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,T(e))},this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var y=e.inheritedData("$formController")||Fe,z=0;Sc({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},parentForm:y,$animate:h}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,h.removeClass(e,pf),h.addClass(e,of)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,h.removeClass(e,of),h.addClass(e,pf),y.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,h.setClass(e,qf,rf)},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,h.setClass(e,rf,qf)},this.$rollbackViewValue=function(){i.cancel(u),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!v(w.$modelValue)||!isNaN(w.$modelValue)){var a=w.$$lastCommittedViewValue,b=w.$$rawModelValue,d=w.$valid,e=w.$modelValue,f=w.$options&&w.$options.allowInvalid;w.$$runValidators(b,a,function(a){f||d===a||(w.$modelValue=a?b:c,w.$modelValue!==e&&w.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=w.$$parserName||"parse";return m!==c?(m||(f(w.$validators,function(a,b){i(b,null)}),f(w.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m):(i(a,null),!0)}function g(){var c=!0;return f(w.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(w.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(w.$asyncValidators,function(f,g){var h=f(a,b);if(!F(h))throw tf("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},o):j(!0)}function i(a,b){l===z&&w.$setValidity(a,b)}function j(a){l===z&&d(a)}z++;var l=z;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=w.$viewValue;i.cancel(u),(w.$$lastCommittedViewValue!==a||""===a&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=a,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){w.$modelValue!==g&&w.$$writeModelToScope()}var d=w.$$lastCommittedViewValue,e=d;if(m=r(e)?c:!0)for(var f=0;f<w.$parsers.length;f++)if(e=w.$parsers[f](e),r(e)){m=!1;break}v(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=q(a));var g=w.$modelValue,h=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=e,h&&(w.$modelValue=e,b()),w.$$runValidators(e,w.$$lastCommittedViewValue,function(a){h||(w.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){t(a,w.$modelValue),f(w.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){w.$viewValue=a,(!w.$options||w.$options.updateOnDefault)&&w.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=w.$options;e&&s(e.debounce)&&(c=e.debounce,v(c)?d=c:v(c[b])?d=c[b]:v(c["default"])&&(d=c["default"])),i.cancel(u),d?u=i(function(){w.$commitViewValue()},d):j.$$phase?w.$commitViewValue():a.$apply(function(){w.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==w.$modelValue){w.$modelValue=w.$$rawModelValue=b,m=c;for(var d=w.$formatters,e=d.length,f=b;e--;)f=d[e](f);w.$viewValue!==f&&(w.$viewValue=w.$$lastCommittedViewValue=f,w.$render(),w.$$runValidators(b,f,o))}return b})}],vf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:uf,priority:1,compile:function(b){return b.addClass(of).addClass(qf).addClass(mf),{pre:function(a,b,c,d){var e=d[0],f=d[1]||Fe;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&f.$$renameControl(e,a)}),a.$on("$destroy",function(){f.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],wf=/(\s+|^)default(\s+|$)/,xf=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=a.$eval(b.ngModelOptions),this.$options.updateOn!==c?(this.$options.updateOnDefault=!1,this.$options.updateOn=md(this.$options.updateOn.replace(wf,function(){return d.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},yf=Bc({terminal:!0,priority:1e3}),zf=["$locale","$interpolate",function(a,b){var c=/{}/g,d=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(e,g,h){function i(a){g.text(a||"")}var j,k=h.count,l=h.$attr.when&&g.attr(h.$attr.when),m=h.offset||0,n=e.$eval(l)||{},o={},p=b.startSymbol(),q=b.endSymbol(),r=p+k+"-"+m+q,s=id.noop;f(h,function(a,b){var c=d.exec(b);if(c){var e=(c[1]?"-":"")+Wc(c[2]);n[e]=g.attr(h.$attr[b])}}),f(n,function(a,d){o[d]=b(a.replace(c,r))}),e.$watch(k,function(b){var c=parseFloat(b),d=isNaN(c);d||c in n||(c=a.pluralCat(c-m)),c===j||d&&isNaN(j)||(s(),s=e.$watch(o[c],i),j=c)})}}}],Af=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:Oa};return t?w=a(t):(y=function(a,b){return Oa(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=ja();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=ja();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)d.hasOwnProperty(K)&&"$"!=K.charAt(0)&&E.push(K);E.sort()}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=ia(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(ia(F.clone),null,ad(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,ad(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Bf="ng-hide",Cf="ng-hide-animate",Df=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Bf,{tempClasses:Cf})})}}}],Ef=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Bf,{tempClasses:Cf})})}}}],Ff=Bc(function(a,b,c){a.$watchCollection(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)})}),Gf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=ia(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Hf=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),If=Bc({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Jf=Bc({restrict:"EAC",link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),Kf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Lf=d("ngOptions"),Mf=q({restrict:"A",terminal:!0}),Nf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b,c){ga(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove()),c&&c[0].hasAttribute("selected")&&(c[0].selected=!0)},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue===a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Oa(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(z.parent()&&z.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){z.parent()&&z.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Pa(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){M(d,c.$viewValue)||(d=L(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,h,i){function j(a,c,d){return M[B]=d,E&&(M[E]=c),a(b,M)}function k(){b.$apply(function(){var a,c=H(b)||[];if(t)a=[],f(h.val(),function(b){b=J?K[b]:b,a.push(l(b,c[b]))});else{var d=J?K[h.val()]:h.val();a=l(d,c[d])}i.$setViewValue(a),r()})}function l(a,b){if("?"===a)return c;if(""===a)return null;var d=D?D:G;return j(d,a,b)}function m(){var a,c=H(b);if(c&&ld(c)){a=new Array(c.length);for(var d=0,e=c.length;e>d;d++)a[d]=j(A,d,c[d]);return a}if(c){a={};for(var f in c)c.hasOwnProperty(f)&&(a[f]=j(A,f,c[f]))}return a}function n(a){var b;if(t)if(J&&ld(a)){b=new Pa([]);for(var c=0;c<a.length;c++)b.put(j(J,null,a[c]),!0)}else b=new Pa(a);else J&&(a=j(J,null,a));return function(c,d){var e;return e=J?J:D?D:G,t?s(b.remove(j(e,c,d))):a===j(e,c,d)}}function o(){w||(b.$$postDigest(r),w=!0)}function q(a,b,c){a[b]=a[b]||0,a[b]+=c?1:-1}function r(){w=!1;var a,c,d,e,k,l,m,o,r,u,z,B,C,D,G,I,N,O={"":[]},P=[""],Q=i.$viewValue,R=H(b)||[],S=E?g(R):R,T={},U=n(Q),V=!1;for(K={},B=0;u=S.length,u>B;B++)m=B,E&&(m=S[B],"$"===m.charAt(0))||(o=R[m],a=j(F,m,o)||"",(c=O[a])||(c=O[a]=[],P.push(a)),C=U(m,o),V=V||C,I=j(A,m,o),I=s(I)?I:"",N=J?J(b,M):E?S[B]:B,J&&(K[N]=m),c.push({id:N,label:I,selected:C}));for(t||(v||null===Q?O[""].unshift({id:"",label:"",selected:!V}):V||O[""].unshift({id:"?",label:"",selected:!0})),z=0,r=P.length;r>z;z++){for(a=P[z],c=O[a],L.length<=z?(e={element:y.clone().attr("label",a),label:c.label},k=[e],L.push(k),h.append(e.element)):(k=L[z],e=k[0],e.label!=a&&e.element.attr("label",e.label=a)),D=null,B=0,u=c.length;u>B;B++)d=c[B],(l=k[B+1])?(D=l.element,l.label!==d.label&&(q(T,l.label,!1),q(T,d.label,!0),D.text(l.label=d.label),D.prop("label",l.label)),l.id!==d.id&&D.val(l.id=d.id),D[0].selected!==d.selected&&(D.prop("selected",l.selected=d.selected),_c&&D.prop("selected",l.selected))):(""===d.id&&v?G=v:(G=x.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),k.push(l={element:G,label:d.label,id:d.id,selected:d.selected}),q(T,d.label,!0),D?D.after(G):e.element.append(G),D=G);for(B++;k.length>B;)d=k.pop(),q(T,d.label,!1),d.element.remove()}for(;L.length>z;){for(c=L.pop(),B=1;B<c.length;++B)q(T,c[B].label,!1);c[0].element.remove()}f(T,function(a,b){a>0?p.addOption(b):0>a&&p.removeOption(b)})}var z;if(!(z=u.match(e)))throw Lf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(h));var A=d(z[2]||z[1]),B=z[4]||z[6],C=/ as /.test(z[0])&&z[1],D=C?d(C):null,E=z[5],F=d(z[3]||""),G=d(z[2]?z[1]:B),H=d(z[7]),I=z[8],J=I?d(z[8]):null,K={},L=[[{element:h,label:""}]],M={};v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),h.empty(),h.on("change",k),i.$render=r,b.$watchCollection(H,o),b.$watchCollection(m,o),t&&b.$watchCollection(function(){return i.$modelValue},o)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=!1,x=ad(b.createElement("option")),y=ad(b.createElement("optgroup")),z=x.clone(),A=0,B=i.children(),C=B.length;C>A;A++)if(""===B[A].value){o=v=B.eq(A);break}p.init(q,v,z),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],Of=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound||(h=b),e?a.$watch(e,function(a,b){d.$set("value",a),b!==a&&h.removeOption(b),h.addOption(a,c)}):h.addOption(d.value,c),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Pf=q({restrict:"E",terminal:!1}),Qf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Rf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(u(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,T(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a){return f.$isEmpty(a)||r(g)||g.test(a)}}}}},Sf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=m(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Tf=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=m(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(da(),na(id),void ad(b).ready(function(){$(b,_)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.4",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.4",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));

if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.4",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.4",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.4",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.4",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.4",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a(document.body).height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var a="$$ngAnimateChildren";return function(c,d,e){var f=e.ngAnimateChildren;b.isString(f)&&0===f.length?d.data(a,!0):c.$watch(f,function(b){d.data(a,!!b)})}}).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==q)return c}}function g(a){return a&&b.element(a)}function h(a){return b.element(f(a))}function i(a,b){return f(a)==f(b)}var j,k=b.noop,l=b.forEach,m=e.$$selectors,n=b.isArray,o=b.isString,p=b.isObject,q=1,r="$$ngAnimateState",s="$$ngAnimateChildren",t="ng-animate",u={running:!0};d.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(a,c,d,q,v,w,x,y,z,A){function B(a,b){var c=a.data(r)||{};return b&&(c.running=!0,c.structural=!0,a.data(r,c)),c.disabled||c.running&&c.structural}function C(a){var b,d=c.defer();return d.promise.$$cancelFn=function(){b&&b()},x.$$postDigest(function(){b=a(function(){d.resolve()})}),d.promise}function D(a){return p(a)?(a.tempClasses&&o(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a):void 0}function E(a,b,c){c=c||{};var d={};l(c,function(a,b){l(b.split(" "),function(b){d[b]=a})});var e=Object.create(null);l((a.attr("class")||"").split(/\s+/),function(a){e[a]=!0});var f=[],g=[];return l(b&&b.classes||[],function(a,b){var c=e[b],h=d[b]||{};a===!1?(c||"addClass"==h.event)&&g.push(b):a===!0&&(c&&"removeClass"!=h.event||f.push(b))}),f.length+g.length>0&&[f.join(" "),g.join(" ")]}function F(a){if(a){var b=[],c={},e=a.substr(1).split(".");(q.transitions||q.animations)&&b.push(d.get(m[""]));for(var f=0;f<e.length;f++){var g=e[f],h=m[g];h&&!c[g]&&(b.push(d.get(h)),c[g]=!0)}return b}}function G(a,c,d,e){function f(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),w.push({event:b,fn:c}),t.push({event:b,fn:d}),!0):void 0}function g(b,c,f){function g(a){if(c){if((c[a]||k)(),++m<h.length)return;c=null}f()}var h=[];l(b,function(a){a.fn&&h.push(a)});var m=0;l(h,function(b,f){var h=function(){g(f)};switch(b.event){case"setClass":c.push(b.fn(a,i,j,h,e));break;case"animate":c.push(b.fn(a,d,e.from,e.to,h));break;case"addClass":c.push(b.fn(a,i||d,h,e));break;case"removeClass":c.push(b.fn(a,j||d,h,e));break;default:c.push(b.fn(a,h,e))}}),c&&0===c.length&&f()}var h=a[0];if(h){e&&(e.to=e.to||{},e.from=e.from||{});var i,j;n(d)&&(i=d[0],j=d[1],i?j?d=i+" "+j:(d=i,c="addClass"):(d=j,c="removeClass"));var m="setClass"==c,o=m||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class"),q=p+" "+d;if(O(q)){var r=k,s=[],t=[],u=k,v=[],w=[],x=(" "+q).replace(/\s+/g,".");return l(F(x),function(a){var b=f(a,c);!b&&m&&(f(a,"addClass"),f(a,"removeClass"))}),{node:h,event:c,className:d,isClassBased:o,isSetClassOperation:m,applyStyles:function(){e&&a.css(b.extend(e.from||{},e.to||{}))},before:function(a){r=a,g(t,s,function(){r=k,a()})},after:function(a){u=a,g(w,v,function(){u=k,a()})},cancel:function(){s&&(l(s,function(a){(a||k)(!0)}),r(!0)),v&&(l(v,function(a){(a||k)(!0)}),u(!0))}}}}}function H(a,c,d,e,f,g,h,i){function m(b){var e="$animate:"+b;x&&x[e]&&x[e].length>0&&w(function(){d.triggerHandler(e,{event:a,className:c})})}function n(){m("before")}function o(){
m("after")}function p(){m("close"),i()}function q(){q.hasBeenRun||(q.hasBeenRun=!0,g())}function s(){if(!s.hasBeenRun){v&&v.applyStyles(),s.hasBeenRun=!0,h&&h.tempClasses&&l(h.tempClasses,function(a){j.removeClass(d,a)});var b=d.data(r);b&&(v&&v.isClassBased?J(d,c):(w(function(){var b=d.data(r)||{};H==b.index&&J(d,c,a)}),d.data(r,b))),p()}}var u=k,v=G(d,a,c,h);if(!v)return q(),n(),o(),s(),u;a=v.event,c=v.className;var x=b.element._data(v.node);if(x=x&&x.events,e||(e=f?f.parent():d.parent()),K(d,e))return q(),n(),o(),s(),u;var y=d.data(r)||{},z=y.active||{},A=y.totalActive||0,B=y.last,C=!1;if(A>0){var D=[];if(v.isClassBased){if("setClass"==B.event)D.push(B),J(d,c);else if(z[c]){var E=z[c];E.event==a?C=!0:(D.push(E),J(d,c))}}else if("leave"==a&&z["ng-leave"])C=!0;else{for(var F in z)D.push(z[F]);y={},J(d,!0)}D.length>0&&l(D,function(a){a.cancel()})}if(!v.isClassBased||v.isSetClassOperation||"animate"==a||C||(C="addClass"==a==d.hasClass(c)),C)return q(),n(),o(),p(),u;z=y.active||{},A=y.totalActive||0,"leave"==a&&d.one("$destroy",function(a){var c=b.element(this),d=c.data(r);if(d){var e=d.active["ng-leave"];e&&(e.cancel(),J(c,"ng-leave"))}}),j.addClass(d,t),h&&h.tempClasses&&l(h.tempClasses,function(a){j.addClass(d,a)});var H=M++;return A++,z[c]=v,d.data(r,{last:v,active:z,index:H,totalActive:A}),n(),v.before(function(b){var e=d.data(r);b=b||!e||!e.active[c]||v.isClassBased&&e.active[c].event!=a,q(),b===!0?s():(o(),v.after(s))}),v.cancel}function I(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(t):c.querySelectorAll("."+t);l(d,function(a){a=b.element(a);var c=a.data(r);c&&c.active&&l(c.active,function(a){a.cancel()})})}}function J(a,b){if(i(a,v))u.disabled||(u.running=!1,u.structural=!1);else if(b){var c=a.data(r)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(j.removeClass(a,t),a.removeData(r))}}function K(a,c){if(u.disabled)return!0;if(i(a,v))return u.running;var d,e,f;do{if(0===c.length)break;var g=i(c,v),h=g?u:c.data(r)||{};if(h.disabled)return!0;if(g&&(f=!0),d!==!1){var j=c.data(s);b.isDefined(j)&&(d=j)}e=e||h.running||h.last&&!h.last.isClassBased}while(c=c.parent());return!f||!d&&e}j=A,v.data(r,u);var L=x.$watch(function(){return z.totalPendingRequests},function(a,b){0===a&&(L(),x.$$postDigest(function(){x.$$postDigest(function(){u.running=!1})}))}),M=0,N=e.classNameFilter(),O=N?function(a){return N.test(a)}:function(){return!0};return{animate:function(a,b,c,d,e){return d=d||"ng-inline-animate",e=D(e)||{},e.from=c?b:null,e.to=c?c:b,C(function(b){return H("animate",d,h(a),null,null,k,e,b)})},enter:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),B(c,!0),a.enter(c,d,e),C(function(a){return H("enter","ng-enter",h(c),d,e,k,f,a)})},leave:function(c,d){return d=D(d),c=b.element(c),I(c),B(c,!0),C(function(b){return H("leave","ng-leave",h(c),null,null,function(){a.leave(c)},d,b)})},move:function(c,d,e,f){return f=D(f),c=b.element(c),d=g(d),e=g(e),I(c),B(c,!0),a.move(c,d,e),C(function(a){return H("move","ng-move",h(c),d,e,k,f,a)})},addClass:function(a,b,c){return this.setClass(a,b,[],c)},removeClass:function(a,b,c){return this.setClass(a,[],b,c)},setClass:function(c,d,e,g){g=D(g);var i="$$animateClasses";if(c=b.element(c),c=h(c),B(c))return a.$$setClassImmediately(c,d,e,g);var j,k=c.data(i),m=!!k;return k||(k={},k.classes={}),j=k.classes,d=n(d)?d:d.split(" "),l(d,function(a){a&&a.length&&(j[a]=!0)}),e=n(e)?e:e.split(" "),l(e,function(a){a&&a.length&&(j[a]=!1)}),m?(g&&k.options&&(k.options=b.extend(k.options||{},g)),k.promise):(c.data(i,k={classes:j,options:g}),k.promise=C(function(b){var d=c.parent(),e=f(c),g=e.parentNode;if(!g||g.$$NG_REMOVED||e.$$NG_REMOVED)return void b();var h=c.data(i);c.removeData(i);var j=c.data(r)||{},k=E(c,h,j.active);return k?H("setClass",k,c,d,null,function(){k[0]&&a.$$addClassImmediately(c,k[0]),k[1]&&a.$$removeClassImmediately(c,k[1])},h.options,b):b()}))},cancel:function(a){a.$$cancelFn()},enabled:function(a,b){switch(arguments.length){case 2:if(a)J(b);else{var c=b.data(r)||{};c.disabled=!0,b.data(r,c)}break;case 1:u.disabled=!a;break;default:a=!u.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function i(){J||(J=h(function(){W=[],J=null,U={}}))}function m(a,b){J&&J(),W.push(b),J=h(function(){l(W,function(a){a()}),W=[],J=null,U={}})}function p(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){r(Z),Z=[]},c,!1))}function r(a){l(a,function(a){var b=a.data(Q);b&&l(b.closeAnimationFns,function(a){a()})})}function s(a,b){var c=b?U[b]:null;if(!c){var e=0,f=0,g=0,h=0;l(a,function(a){if(a.nodeType==q){var b=d.getComputedStyle(a)||{},c=b[E+K];e=Math.max(t(c),e);var i=b[E+M];f=Math.max(t(i),f);{b[G+M]}h=Math.max(t(b[G+M]),h);var j=t(b[G+K]);j>0&&(j*=parseInt(b[G+N],10)||1),g=Math.max(j,g)}}),c={total:0,transitionDelay:f,transitionDuration:e,animationDelay:h,animationDuration:g},b&&(U[b]=c)}return c}function t(a){var b=0,c=o(a)?a.split(/\s*,\s*/):[];return l(c,function(a){b=Math.max(parseFloat(a)||0,b)}),b}function u(a){var b=a.parent(),c=b.data(P);return c||(b.data(P,++V),c=V),c+"-"+f(a).getAttribute("class")}function v(a,b,c,d){var e=["ng-enter","ng-leave","ng-move"].indexOf(c)>=0,g=u(b),h=g+" "+c,i=U[h]?++U[h].total:0,k={};if(i>0){var l=c+"-stagger",m=g+" "+l,n=!U[m];n&&j.addClass(b,l),k=s(b,m),n&&j.removeClass(b,l)}j.addClass(b,c);var o=b.data(Q)||{},p=s(b,h),q=p.transitionDuration,r=p.animationDuration;if(e&&0===q&&0===r)return j.removeClass(b,c),!1;var t=d||e&&q>0,v=r>0&&k.animationDelay>0&&0===k.animationDuration,w=o.closeAnimationFns||[];b.data(Q,{stagger:k,cacheKey:h,running:o.running||0,itemIndex:i,blockTransition:t,closeAnimationFns:w});var z=f(b);return t&&(x(z,!0),d&&b.css(d)),v&&y(z,!0),!0}function w(a,b,c,d,e){function h(){b.off(M,i),j.removeClass(b,n),j.removeClass(b,o),K&&g.cancel(K),C(b,c);var a=f(b);for(var d in r)a.style.removeProperty(r[d])}function i(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-L,0)>=G&&e>=D&&d()}var k=f(b),m=b.data(Q);if(-1==k.getAttribute("class").indexOf(c)||!m)return void d();var n="",o="";l(c.split(" "),function(a,b){var c=(b>0?" ":"")+a;n+=c+"-active",o+=c+"-pending"});var q="",r=[],t=m.itemIndex,u=m.stagger,v=0;if(t>0){var w=0;u.transitionDelay>0&&0===u.transitionDuration&&(w=u.transitionDelay*t);var z=0;u.animationDelay>0&&0===u.animationDuration&&(z=u.animationDelay*t,r.push(I+"animation-play-state")),v=Math.round(100*Math.max(w,z))/100}v||(j.addClass(b,n),m.blockTransition&&x(k,!1));var A=m.cacheKey+" "+n,B=s(b,A),D=Math.max(B.transitionDuration,B.animationDuration);if(0===D)return j.removeClass(b,n),C(b,c),void d();!v&&e&&Object.keys(e).length>0&&(B.transitionDuration||(b.css("transition",B.animationDuration+"s linear all"),r.push("transition")),b.css(e));var E=Math.max(B.transitionDelay,B.animationDelay),G=E*T;if(r.length>0){var J=k.getAttribute("style")||"";";"!==J.charAt(J.length-1)&&(J+=";"),k.setAttribute("style",J+" "+q)}var K,L=Date.now(),M=H+" "+F,N=(E+D)*S,O=(v+N)*T;return v>0&&(j.addClass(b,o),K=g(function(){K=null,B.transitionDuration>0&&x(k,!1),B.animationDuration>0&&y(k,!1),j.addClass(b,n),j.removeClass(b,o),e&&(0===B.transitionDuration&&b.css("transition",B.animationDuration+"s linear all"),b.css(e),r.push("transition"))},v*T,!1)),b.on(M,i),m.closeAnimationFns.push(function(){h(),d()}),m.running++,p(b,O),h}function x(a,b){a.style[E+L]=b?"none":""}function y(a,b){a.style[G+O]=b?"paused":""}function z(a,b,c,d){return v(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d,e){return b.data(Q)?w(a,b,c,d,e):(C(b,c),void d())}function B(a,b,c,d,e){var f=z(a,b,c,e.from);if(!f)return i(),void d();var g=f;return m(b,function(){g=A(a,b,c,d,e.to)}),function(a){(g||k)(a)}}function C(a,b){j.removeClass(a,b);var c=a.data(Q);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(Q))}function D(a,b){var c="";return a=n(a)?a:a.split(/\s+/),l(a,function(a,d){a&&a.length>0&&(c+=(d>0?" ":"")+a+b)}),c}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="PlayState",P="$$ngAnimateKey",Q="$$ngAnimateCSS3Data",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{animate:function(a,b,c,d,e,f){return f=f||{},f.from=c,f.to=d,B("animate",a,b,e,f)},enter:function(a,b,c){return c=c||{},B("enter",a,"ng-enter",b,c)},leave:function(a,b,c){return c=c||{},B("leave",a,"ng-leave",b,c)},move:function(a,b,c){return c=c||{},B("move",a,"ng-move",b,c)},beforeSetClass:function(a,b,c,d,e){e=e||{};var f=D(c,"-remove")+" "+D(b,"-add"),g=z("setClass",a,f,e.from);return g?(m(a,d),g):(i(),void d())},beforeAddClass:function(a,b,c,d){d=d||{};var e=z("addClass",a,D(b,"-add"),d.from);return e?(m(a,c),e):(i(),void c())},beforeRemoveClass:function(a,b,c,d){d=d||{};var e=z("removeClass",a,D(b,"-remove"),d.from);return e?(m(a,c),e):(i(),void c())},setClass:function(a,b,c,d,e){e=e||{},c=D(c,"-remove"),b=D(b,"-add");var f=c+" "+b;return A("setClass",a,f,d,e.to)},addClass:function(a,b,c,d){return d=d||{},A("addClass",a,D(b,"-add"),c,d.to)},removeClass:function(a,b,c,d){return d=d||{},A("removeClass",a,D(b,"-remove"),c,d.to)}}}])}])}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)||(e=""+e,g[a]=e),e!==h[a]&&(d.cookies(a,e),i=!0);if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(a,b,c){"use strict";function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;b.module("ngResource",["ng"]).provider("$resource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(d,h){function i(a){return j(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function j(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function k(b,c){this.template=b,this.defaults=o({},a.defaults,c),this.urlParams={}}function l(i,j,r,s){function t(a,b){var c={};return b=o({},j,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function u(a){return a.resource}function v(a){f(a||{},this)}var w=new k(i,s);return r=o({},a.defaults.actions,r),v.prototype.toJSON=function(){var a=o({},this);return delete a.$promise,delete a.$resolved,a},n(r,function(a,e){var i=/^(POST|PUT|PATCH)$/i.test(a.method);v[e]=function(j,k,l,r){var s,x,y,z={};switch(arguments.length){case 4:y=r,x=l;case 3:case 2:if(!q(k)){z=j,s=k,x=l;break}if(q(j)){x=j,y=k;break}x=k,y=l;case 1:q(j)?x=j:i?s=j:z=j;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var A=this instanceof v,B=A?s:a.isArray?[]:new v(s),C={},D=a.interceptor&&a.interceptor.response||u,E=a.interceptor&&a.interceptor.responseError||c;n(a,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(C[b]=p(a))}),i&&(C.data=s),w.setUrlParams(C,o({},t(s,a.params||{}),z),a.url);var F=d(C).then(function(c){var d=c.data,h=B.$promise;if(d){if(b.isArray(d)!==!!a.isArray)throw g("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2}",e,a.isArray?"array":"object",b.isArray(d)?"array":"object");a.isArray?(B.length=0,n(d,function(a){B.push("object"==typeof a?new v(a):a)})):(f(d,B),B.$promise=h)}return B.$resolved=!0,c.resource=B,c},function(a){return B.$resolved=!0,(y||m)(a),h.reject(a)});return F=F.then(function(a){var b=D(a);return(x||m)(b,a.headers),b},E),A?F:(B.$promise=F,B.$resolved=!1,B)},v.prototype["$"+e]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=v[e].call(this,a,this,b,c);return d.$promise||d}}),v.bind=function(a){return l(i,o({},j,a),r)},v}var m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return k.prototype={setUrlParams:function(a,c,d){var e,f,h=this,j=d||h.template,k=h.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(h.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:h.defaults[d],b.isDefined(e)&&null!==e?(f=i(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(j=j.replace(/\/+$/,"")||"/"),j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){h.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},l}]})}(window,window.angular),function(a,b,c){"use strict";function d(){function a(a,c){return b.extend(Object.create(a),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){var f=b.copy(e);if(b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0),b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch),d[a]=b.extend(f,a&&c(a,f)),a){var g="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[g]=b.extend({redirectTo:a},c(g,f))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(a){return"string"==typeof a&&(a={redirectTo:a}),this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(c,e,f,g,h,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i=e[f];h&&i&&(d[h.name]=i)}return d}function m(a){var d=t.current;q=o(),r=q&&d&&q.$$route===d.$$route&&b.equals(q.pathParams,d.pathParams)&&!q.reloadOnSearch&&!s,r||!d&&!q||c.$broadcast("$routeChangeStart",q,d).defaultPrevented&&a&&a.preventDefault()}function n(){var a=t.current,d=q;r?(a.params=d.params,b.copy(a.params,f),c.$broadcast("$routeUpdate",a)):(d||a)&&(s=!1,t.current=d,d&&d.redirectTo&&(b.isString(d.redirectTo)?e.path(p(d.redirectTo,d.params)).search(d.params).replace():e.url(d.redirectTo(d.pathParams,e.path(),e.search())).replace()),g.when(d).then(function(){if(d){var a,c,e=b.extend({},d.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a,null,null,c)}),b.isDefined(a=d.template)?b.isFunction(a)&&(a=a(d.params)):b.isDefined(c=d.templateUrl)&&(b.isFunction(c)&&(c=c(d.params)),c=k.getTrustedResourceUrl(c),b.isDefined(c)&&(d.loadedTemplateUrl=c,a=j(c))),b.isDefined(a)&&(e.$template=a),g.all(e)}}).then(function(e){d==t.current&&(d&&(d.locals=e,b.copy(d.params,f)),c.$broadcast("$routeChangeSuccess",d,a))},function(b){d==t.current&&c.$broadcast("$routeChangeError",d,a,b)}))}function o(){var c,f;return b.forEach(d,function(d,g){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function p(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(?:[?*])?(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var q,r,s=!1,t={routes:d,reload:function(){s=!0,c.$evalAsync(function(){m(),n()})},updateParams:function(a){if(!this.current||!this.current.$$route)throw i("norout","Tried updating route when with no current route");a=b.extend({},this.current.params,a),e.path(p(this.current.$$route.originalPath,a)),e.search(a)}};return c.$on("$locationChangeStart",m),c.$on("$locationChangeSuccess",n),t}]}function e(){this.$get=function(){return{}}}function f(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(d.cancel(n),n=null),l&&(l.$destroy(),l=null),m&&(n=d.leave(m),n.then(function(){n=null}),m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f).then(function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function g(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var h=b.module("ngRoute",["ng"]).provider("$route",d),i=b.$$minErr("ngRoute");h.provider("$routeParams",e),h.directive("ngView",f),h.directive("ngView",g),f.$inject=["$route","$anchorScroll","$animate"],g.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return g(b,j(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[],d=j(c,b.noop);return d.chars(a),c.join("")}function f(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),z[d])for(;t.last()&&A[t.last()];)e("",t.last());y[d]&&t.last()==d&&e("",d),g=v[d]||!!g,g||t.push(d);var i={};f.replace(n,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=t.length-1;f>=0&&t[f]!=d;f--);if(f>=0){for(e=t.length-1;e>=f;e--)c.end&&c.end(t[e]);t.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,g,i,j,t=[],u=a;for(t.last=function(){return t[t.length-1]};a;){if(j="",g=!0,t.last()&&C[t.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+t.last()+"[^>]*>","i"),function(a,b){return b=b.replace(q,"$1").replace(s,"$1"),c.chars&&c.chars(h(b)),""}),e("",t.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),g=!1)):r.test(a)?(i=a.match(r),i&&(a=a.replace(i[0],""),g=!1)):p.test(a)?(i=a.match(m),i&&(a=a.substring(i[0].length),i[0].replace(m,e),g=!1)):o.test(a)&&(i=a.match(l),i?(i[4]&&(a=a.substring(i[0].length),i[0].replace(l,d)),g=!1):(j+="<",a=a.substring(1))),g&&(f=a.indexOf("<"),j+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(h(j)))),a==u)throw k("badparse","The sanitizer was unable to parse the following block of html: {0}",a);u=a}e()}function h(a){return a?(I.innerHTML=a.replace(/</g,"&lt;"),I.textContent):""}function i(a){return a.replace(/&/g,"&amp;").replace(t,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&C[a]&&(d=a),d||D[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),h="img"===a&&"src"===g||"background"===g;H[g]!==!0||E[g]===!0&&!c(d,h)||(e(" "),e(f),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||D[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var k=b.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,m=/^<\/\s*([\w:-]+)[^>]*>/,n=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,o=/^</,p=/^<\//,q=/<!--(.*?)-->/g,r=/<!DOCTYPE([^>]*?)>/i,s=/<!\[CDATA\[(.*?)]]>/g,t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^\#-~| |!])/g,v=f("area,br,col,hr,img,wbr"),w=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),x=f("rp,rt"),y=b.extend({},x,w),z=b.extend({},w,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),A=b.extend({},x,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),B=f("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),C=f("script,style"),D=b.extend({},v,z,A,y,B),E=f("background,cite,href,longdesc,src,usemap,xlink:href"),F=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),G=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),H=b.extend({},E,G,F),I=document.createElement("pre");b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,d=/^mailto:/;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(a,b,c){"use strict";function d(a,c,d){e.directive(a,["$parse","$swipe",function(e,f){var g=75,h=.3,i=30;return function(j,k,l){function m(a){if(!n)return!1;var b=Math.abs(a.y-n.y),d=(a.x-n.x)*c;return o&&g>b&&d>0&&d>i&&h>b/d}var n,o,p=e(l[a]),q=["touch"];b.isDefined(l.ngSwipeDisableMouse)||q.push("mouse"),f.bind(k,{start:function(a,b){n=a,o=!0},cancel:function(a){o=!1},end:function(a,b){m(a)&&j.$apply(function(){k.triggerHandler(d),p(j,{$event:b})})}},q)}}])}var e=b.module("ngTouch",[]);e.factory("$swipe",[function(){function a(a){var b=a.touches&&a.touches.length?a.touches:[a],c=a.changedTouches&&a.changedTouches[0]||a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]||b[0].originalEvent||b[0];return{x:c.clientX,y:c.clientY}}function c(a,c){var d=[];return b.forEach(a,function(a){var b=e[a][c];b&&d.push(b)}),d.join(" ")}var d=10,e={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(b,e,f){var g,h,i,j,k=!1;f=f||["mouse","touch"],b.on(c(f,"start"),function(b){i=a(b),k=!0,g=0,h=0,j=i,e.start&&e.start(i,b)});var l=c(f,"cancel");l&&b.on(l,function(a){k=!1,e.cancel&&e.cancel(a)}),b.on(c(f,"move"),function(b){if(k&&i){var c=a(b);if(g+=Math.abs(c.x-j.x),h+=Math.abs(c.y-j.y),j=c,!(d>g&&d>h))return h>g?(k=!1,void(e.cancel&&e.cancel(b))):(b.preventDefault(),void(e.move&&e.move(c,b)))}}),b.on(c(f,"end"),function(b){k&&(k=!1,e.end&&e.end(a(b),b))})}}}]),e.config(["$provide",function(a){a.decorator("ngClickDirective",["$delegate",function(a){return a.shift(),a}])}]),e.directive("ngClick",["$parse","$timeout","$rootElement",function(a,c,d){function e(a,b,c,d){return Math.abs(a-c)<p&&Math.abs(b-d)<p}function f(a,b,c){for(var d=0;d<a.length;d+=2)if(e(a[d],a[d+1],b,c))return a.splice(d,d+2),!0;return!1}function g(a){if(!(Date.now()-j>o)){var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].clientX,d=b[0].clientY;1>c&&1>d||l&&l[0]===c&&l[1]===d||(l&&(l=null),"label"===a.target.tagName.toLowerCase()&&(l=[c,d]),f(k,c,d)||(a.stopPropagation(),a.preventDefault(),a.target&&a.target.blur()))}}function h(a){var b=a.touches&&a.touches.length?a.touches:[a],d=b[0].clientX,e=b[0].clientY;k.push(d,e),c(function(){for(var a=0;a<k.length;a+=2)if(k[a]==d&&k[a+1]==e)return void k.splice(a,a+2)},o,!1)}function i(a,b){k||(d[0].addEventListener("click",g,!0),d[0].addEventListener("touchstart",h,!0),k=[]),j=Date.now(),f(k,a,b)}var j,k,l,m=750,n=12,o=2500,p=25,q="ng-click-active";return function(c,d,e){function f(){o=!1,d.removeClass(q)}var g,h,j,k,l=a(e.ngClick),o=!1;d.on("touchstart",function(a){o=!0,g=a.target?a.target:a.srcElement,3==g.nodeType&&(g=g.parentNode),d.addClass(q),h=Date.now();var b=a.touches&&a.touches.length?a.touches:[a],c=b[0].originalEvent||b[0];j=c.clientX,k=c.clientY}),d.on("touchmove",function(a){f()}),d.on("touchcancel",function(a){f()}),d.on("touchend",function(a){var c=Date.now()-h,l=a.changedTouches&&a.changedTouches.length?a.changedTouches:a.touches&&a.touches.length?a.touches:[a],p=l[0].originalEvent||l[0],q=p.clientX,r=p.clientY,s=Math.sqrt(Math.pow(q-j,2)+Math.pow(r-k,2));o&&m>c&&n>s&&(i(q,r),g&&g.blur(),b.isDefined(e.disabled)&&e.disabled!==!1||d.triggerHandler("click",[a])),f()}),d.onclick=function(a){},d.on("click",function(a,b){c.$apply(function(){l(c,{$event:b||a})})}),d.on("mousedown",function(a){d.addClass(q)}),d.on("mousemove mouseup",function(a){d.removeClass(q)})}}]),d("ngSwipeLeft",-1,"swipeleft"),d("ngSwipeRight",1,"swiperight")}(window,window.angular),function(){function a(a,b){if(a!==b){var c=a===a,d=b===b;if(a>b||!c||"undefined"==typeof a&&d)return 1;if(b>a||!d||"undefined"==typeof b&&c)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return n(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return"function"==typeof a||!1}function e(a){return"string"==typeof a?a:null==a?"":a+""}function f(a){return a.charCodeAt(0)}function g(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function h(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function i(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function j(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j)return e>=i?j:j*(d[e]?1:-1)}return b.index-c.index}function k(a){return Ma[a]}function l(a){return Na[a]}function m(a){return"\\"+Qa[a]}function n(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function o(a){return!!a&&"object"==typeof a}function p(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function q(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=P,f[++e]=c);return f}function r(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function s(a){for(var b=-1,c=a.length;++b<c&&p(a.charCodeAt(b)););return b}function t(a){for(var b=a.length;b--&&p(a.charCodeAt(b)););return b}function u(a){return Oa[a]}function v(p){function W(a){if(o(a)&&!fh(a)&&!(a instanceof Ma)){if(a instanceof aa)return a;if(Ef.call(a,"__chain__")&&Ef.call(a,"__wrapped__"))return Vc(a)}return new aa(a)}function $(){}function aa(a,b,c){this.__wrapped__=a,this.__actions__=c||[],this.__chain__=!!b}function Ma(a){this.__wrapped__=a,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=gg,this.__views__=null}function Na(){var a=this.__actions__,b=this.__iteratees__,c=this.__views__,d=new Ma(this.__wrapped__);return d.__actions__=a?$a(a):null,d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=b?$a(b):null,d.__takeCount__=this.__takeCount__,d.__views__=c?$a(c):null,d}function Oa(){if(this.__filtered__){var a=new Ma(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Pa(){var a=this.__wrapped__.value();if(!fh(a))return Vb(a,this.__actions__);var b=this.__dir__,c=0>b,d=Ec(0,a.length,this.__views__),e=d.start,f=d.end,g=f-e,h=c?f:e-1,i=ag(g,this.__takeCount__),j=this.__iteratees__,k=j?j.length:0,l=0,m=[];a:for(;g--&&i>l;){h+=b;for(var n=-1,o=a[h];++n<k;){var p=j[n],q=p.iteratee,r=p.type;if(r==L){if(p.done&&(c?h>p.index:h<p.index)&&(p.count=0,p.done=!1),p.index=h,!p.done){var s=p.limit;if(!(p.done=s>-1?p.count++>=s:!q(o)))continue a}}else{var t=q(o);if(r==N)o=t;else if(!t){if(r==M)continue a;break a}}}m[l++]=o}return m}function Qa(){this.__data__={}}function Ra(a){return this.has(a)&&delete this.__data__[a]}function Sa(a){return"__proto__"==a?w:this.__data__[a]}function Ta(a){return"__proto__"!=a&&Ef.call(this.__data__,a)}function Ua(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Va(a){var b=a?a.length:0;for(this.data={hash:Yf(null),set:new Rf};b--;)this.push(a[b])}function Wa(a,b){var c=a.data,d="string"==typeof b||le(b)?c.set.has(b):c.hash[b];return d?0:-1}function Za(a){var b=this.data;"string"==typeof a||le(a)?b.set.add(a):b.hash[a]=!0}function $a(a,b){var c=-1,d=a.length;for(b||(b=of(d));++c<d;)b[c]=a[c];return b}function _a(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function ab(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function bb(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function cb(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function db(a,b){
for(var c=-1,d=a.length,e=of(d);++c<d;)e[c]=b(a[c],c,a);return e}function eb(a){for(var b=-1,c=a.length,d=fg;++b<c;){var e=a[b];e>d&&(d=e)}return d}function fb(a){for(var b=-1,c=a.length,d=gg;++b<c;){var e=a[b];d>e&&(d=e)}return d}function gb(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function hb(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function ib(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function jb(a){for(var b=a.length,c=0;b--;)c+=+a[b]||0;return c}function kb(a,b){return"undefined"==typeof a?b:a}function lb(a,b,c,d){return"undefined"!=typeof a&&Ef.call(d,c)?a:b}function mb(a,b,c){var d=rh(b);if(!c)return ob(b,a,d);for(var e=-1,f=d.length;++e<f;){var g=d[e],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&("undefined"!=typeof h||g in a)||(a[g]=i)}return a}function nb(a,b){for(var c=-1,d=a.length,e=Lc(d),f=b.length,g=of(f);++c<f;){var h=b[c];e?(h=parseFloat(h),g[c]=Ic(h,d)?a[h]:w):g[c]=a[h]}return g}function ob(a,b,c){c||(c=b,b={});for(var d=-1,e=c.length;++d<e;){var f=c[d];b[f]=a[f]}return b}function pb(a,b,c){var d=typeof a;return"function"==d?"undefined"==typeof b?a:Yb(a,b,c):null==a?af:"object"==d?Gb(a):"undefined"==typeof b?Kb(a+""):Hb(a+"",b)}function qb(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),"undefined"!=typeof h)return h;if(!le(a))return a;var i=fh(a);if(i){if(h=Fc(a),!b)return $a(a,h)}else{var j=Gf.call(a),k=j==V;if(j!=Y&&j!=Q&&(!k||e))return Ka[j]?Hc(a,j,b):e?a:{};if(h=Gc(k?{}:a),!b)return ob(a,h,rh(a))}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?_a:zb)(a,function(d,e){h[e]=qb(d,b,c,e,a,f,g)}),h}function rb(a,b,c){if("function"!=typeof a)throw new xf(O);return Sf(function(){a.apply(w,c)},b)}function sb(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=Dc(),h=g==c,i=h&&b.length>=200?vg(b):null,j=b.length;i&&(g=Wa,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function tb(a,b){var c=!0;return qg(a,function(a,d,e){return c=!!b(a,d,e)}),c}function ub(a,b,c,d){var e=a.length;for(c=null==c?0:+c||0,0>c&&(c=-c>e?0:e+c),d="undefined"==typeof d||d>e?e:+d||0,0>d&&(d+=e),e=c>d?0:d>>>0,c>>>=0;e>c;)a[c++]=b;return a}function vb(a,b){var c=[];return qg(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function wb(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function xb(a,b,c){for(var d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d];if(o(h)&&Lc(h.length)&&(fh(h)||ee(h))){b&&(h=xb(h,b,c));var i=-1,j=h.length;for(g.length+=j;++i<j;)g[++f]=h[i]}else c||(g[++f]=h)}return g}function yb(a,b){return sg(a,b,Be)}function zb(a,b){return sg(a,b,rh)}function Ab(a,b){return tg(a,b,rh)}function Bb(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];hh(a[g])&&(f[++e]=g)}return f}function Cb(a,b,c,d,e,f){if(a===b)return 0!==a||1/a==1/b;var g=typeof a,h=typeof b;return"function"!=g&&"object"!=g&&"function"!=h&&"object"!=h||null==a||null==b?a!==a&&b!==b:Db(a,b,Cb,c,d,e,f)}function Db(a,b,c,d,e,f,g){var h=fh(a),i=fh(b),j=R,k=R;h||(j=Gf.call(a),j==Q?j=Y:j!=Y&&(h=te(a))),i||(k=Gf.call(b),k==Q?k=Y:k!=Y&&(i=te(b)));var l=j==Y||e&&j==V,m=k==Y||e&&k==V,n=j==k;if(n&&!h&&!l)return zc(a,b,j);if(e){if(!(n||l&&m))return!1}else{var o=l&&Ef.call(a,"__wrapped__"),p=m&&Ef.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g);if(!n)return!1}f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?yc:Ac)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Eb(a,b,c,d,e){for(var f=-1,g=b.length,h=!e;++f<g;)if(h&&d[f]?c[f]!==a[b[f]]:!(b[f]in a))return!1;for(f=-1;++f<g;){var i=b[f],j=a[i],k=c[f];if(h&&d[f])var l="undefined"!=typeof j||i in a;else l=e?e(j,k,i):w,"undefined"==typeof l&&(l=Cb(k,j,e,!0));if(!l)return!1}return!0}function Fb(a,b){var c=[];return qg(a,function(a,d,e){c.push(b(a,d,e))}),c}function Gb(a){var b=rh(a),c=b.length;if(!c)return _e(!0);if(1==c){var d=b[0],e=a[d];if(Mc(e))return function(a){return null!=a&&a[d]===e&&("undefined"!=typeof e||d in Uc(a))}}for(var f=of(c),g=of(c);c--;)e=a[b[c]],f[c]=e,g[c]=Mc(e);return function(a){return null!=a&&Eb(Uc(a),b,f,g)}}function Hb(a,b){return Mc(b)?function(c){return null!=c&&c[a]===b&&("undefined"!=typeof b||a in Uc(c))}:function(c){return null!=c&&Cb(b,c[a],null,!0)}}function Ib(a,b,c,d,e){if(!le(a))return a;var f=Lc(b.length)&&(fh(b)||te(b));return(f?_a:zb)(b,function(b,g,h){if(o(b))return d||(d=[]),e||(e=[]),Jb(a,h,g,Ib,c,d,e);var i=a[g],j=c?c(i,b,g,a,h):w,k="undefined"==typeof j;k&&(j=b),!f&&"undefined"==typeof j||!k&&(j===j?j===i:i!==i)||(a[g]=j)}),a}function Jb(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):w,l="undefined"==typeof k;l&&(k=i,Lc(i.length)&&(fh(i)||te(i))?k=fh(j)?j:j&&j.length?$a(j):[]:ih(i)||ee(i)?k=ee(j)?we(j):ih(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Kb(a){return function(b){return null==b?w:b[a]}}function Lb(a,b){return a+Nf(eg()*(b-a+1))}function Mb(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Nb(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c="undefined"==typeof c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=of(e);++d<e;)f[d]=a[d+b];return f}function Ob(a,b){var c;return qg(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Pb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Qb(a,b,c){var d=-1,e=a.length,f=Lc(e)?of(e):[];return qg(a,function(a){for(var c=b.length,e=of(c);c--;)e[c]=null==a?w:a[b[c]];f[++d]={criteria:e,index:d,value:a}}),Pb(f,function(a,b){return j(a,b,c)})}function Rb(a,b){var c=0;return qg(a,function(a,d,e){c+=+b(a,d,e)||0}),c}function Sb(a,b){var d=-1,e=Dc(),f=a.length,g=e==c,h=g&&f>=200,i=h?vg():null,j=[];i?(e=Wa,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function Tb(a,b){for(var c=-1,d=b.length,e=of(d);++c<d;)e[c]=a[b[c]];return e}function Ub(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?Nb(a,d?0:f,d?f+1:e):Nb(a,d?f+1:0,d?e:f)}function Vb(a,b){var c=a;c instanceof Ma&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=[c],g=b[d];Pf.apply(f,g.args),c=g.func.apply(g.thisArg,f)}return c}function Wb(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&jg>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)?d=f+1:e=f}return e}return Xb(a,b,af,c)}function Xb(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h="undefined"==typeof b;f>e;){var i=Nf((e+f)/2),j=c(a[i]),k=j===j;if(g)var l=k||d;else l=h?k&&(d||"undefined"!=typeof j):d?b>=j:b>j;l?e=i+1:f=i}return ag(f,ig)}function Yb(a,b,c){if("function"!=typeof a)return af;if("undefined"==typeof b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function Zb(a){return Kf.call(a,0)}function $b(a,b,c){for(var d=c.length,e=-1,f=_f(a.length-d,0),g=-1,h=b.length,i=of(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function _b(a,b,c){for(var d=-1,e=c.length,f=-1,g=_f(a.length-e,0),h=-1,i=b.length,j=of(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function ac(a,b){return function(c,d,e){var f=b?b():{};if(d=Cc(d,e,3),fh(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else qg(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function bc(a){return function(){var b=arguments,c=b.length,d=b[0];if(2>c||null==d)return d;var e=b[c-2],f=b[c-1],g=b[3];c>3&&"function"==typeof e?(e=Yb(e,f,5),c-=2):(e=c>2&&"function"==typeof f?f:null,c-=e?1:0),g&&Jc(b[1],b[2],g)&&(e=3==c?null:e,c=2);for(var h=0;++h<c;){var i=b[h];i&&a(d,i,e)}return d}}function cc(a,b){return function(c,d){var e=c?c.length:0;if(!Lc(e))return a(c,d);for(var f=b?e:-1,g=Uc(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function dc(a){return function(b,c,d){for(var e=Uc(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function ec(a,b){function c(){var e=this&&this!==Xa&&this instanceof c?d:a;return e.apply(b,arguments)}var d=gc(a);return c}function fc(a){return function(b){for(var c=-1,d=Ze(Le(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function gc(a){return function(){var b=pg(a.prototype),c=a.apply(b,arguments);return le(c)?c:b}}function hc(a){function b(c,d,e){e&&Jc(c,d,e)&&(d=null);var f=xc(c,a,null,null,null,null,null,d);return f.placeholder=b.placeholder,f}return b}function ic(a,b){return function(c,d,e){e&&Jc(c,d,e)&&(d=null);var g=Cc(),h=null==d;if(g===pb&&h||(h=!1,d=g(d,e,3)),h){var i=fh(c);if(i||!se(c))return a(i?c:Tc(c));d=f}return Bc(c,d,b)}}function jc(a,c){return function(d,e,f){if(e=Cc(e,f,3),fh(d)){var g=b(d,e,c);return g>-1?d[g]:w}return wb(d,e,a)}}function kc(a){return function(c,d,e){return c&&c.length?(d=Cc(d,e,3),b(c,d,a)):-1}}function lc(a){return function(b,c,d){return c=Cc(c,d,3),wb(b,c,a,!0)}}function mc(a){return function(){var b=arguments.length;if(!b)return function(){return arguments[0]};for(var c,d=a?b:-1,e=0,f=of(b);a?d--:++d<b;){var g=f[e++]=arguments[d];if("function"!=typeof g)throw new xf(O);var h=c?"":xg(g);c="wrapper"==h?new aa([]):c}for(d=c?-1:b;++d<b;){g=f[d],h=xg(g);var i="wrapper"==h?wg(g):null;c=i&&Kc(i[0])?c[xg(i[0])].apply(c,i[3]):1==g.length&&Kc(g)?c[h]():c.thru(g)}return function(){var a=arguments;if(c&&1==a.length&&fh(a[0]))return c.plant(a[0]).value();for(var d=0,e=f[d].apply(this,a);++d<b;)e=f[d].call(this,e);return e}}}function nc(a,b){return function(c,d,e){return"function"==typeof d&&"undefined"==typeof e&&fh(c)?a(c,d):b(c,Yb(d,e,3))}}function oc(a){return function(b,c,d){return("function"!=typeof c||"undefined"!=typeof d)&&(c=Yb(c,d,3)),a(b,c,Be)}}function pc(a){return function(b,c,d){return("function"!=typeof c||"undefined"!=typeof d)&&(c=Yb(c,d,3)),a(b,c)}}function qc(a){return function(b,c,d){return b=e(b),b&&(a?b:"")+uc(b,c,d)+(a?"":b)}}function rc(a){var b=$d(function(c,d){var e=q(d,b.placeholder);return xc(c,a,null,d,e)});return b}function sc(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&"undefined"==typeof f&&fh(c)?a(c,d,e,g):Mb(c,Cc(d,f,4),e,g,b)}}function tc(a,b,c,d,e,f,g,h,i,j){function k(){for(var u=arguments.length,v=u,x=of(u);v--;)x[v]=arguments[v];if(d&&(x=$b(x,d,e)),f&&(x=_b(x,f,g)),o||r){var A=k.placeholder,B=q(x,A);if(u-=B.length,j>u){var C=h?$a(h):null,F=_f(j-u,0),G=o?B:null,H=o?null:B,I=o?x:null,J=o?null:x;b|=o?D:E,b&=~(o?E:D),p||(b&=~(y|z));var K=[a,b,c,I,G,J,H,C,i,F],L=tc.apply(w,K);return Kc(a)&&yg(L,K),L.placeholder=A,L}}var M=m?c:this;n&&(a=M[t]),h&&(x=Qc(x,h)),l&&i<x.length&&(x.length=i);var N=this&&this!==Xa&&this instanceof k?s||gc(a):a;return N.apply(M,x)}var l=b&F,m=b&y,n=b&z,o=b&B,p=b&A,r=b&C,s=!n&&gc(a),t=a;return k}function uc(a,b,c){var d=a.length;if(b=+b,d>=b||!Zf(b))return"";var e=b-d;return c=null==c?" ":c+"",Re(c,Lf(e/c.length)).slice(0,e)}function vc(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=of(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==Xa&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&y,g=gc(a);return e}function wc(a){return function(b,c,d,e){var f=Cc(d);return f===pb&&null==d?Wb(b,c,a):Xb(b,c,f(d,e,1),a)}}function xc(a,b,c,d,e,f,g,h){var i=b&z;if(!i&&"function"!=typeof a)throw new xf(O);var j=d?d.length:0;if(j||(b&=~(D|E),d=e=null),j-=e?e.length:0,b&E){var k=d,l=e;d=e=null}var m=i?null:wg(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(Nc(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:_f(h-j,0)||0,b==y)var o=ec(n[0],n[2]);else o=b!=D&&b!=(y|D)||n[4].length?tc.apply(w,n):vc.apply(w,n);var p=m?ug:yg;return p(o,n)}function yc(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length,k=!0;if(i!=j&&!(e&&j>i))return!1;for(;k&&++h<i;){var l=a[h],m=b[h];if(k=w,d&&(k=e?d(m,l,h):d(l,m,h)),"undefined"==typeof k)if(e)for(var n=j;n--&&(m=b[n],!(k=l&&l===m||c(l,m,d,e,f,g))););else k=l&&l===m||c(l,m,d,e,f,g)}return!!k}function zc(a,b,c){switch(c){case S:case T:return+a==+b;case U:return a.name==b.name&&a.message==b.message;case X:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Z:case _:return a==b+""}return!1}function Ac(a,b,c,d,e,f,g){var h=rh(a),i=h.length,j=rh(b),k=j.length;if(i!=k&&!e)return!1;for(var l=e,m=-1;++m<i;){var n=h[m],o=e?n in b:Ef.call(b,n);if(o){var p=a[n],q=b[n];o=w,d&&(o=e?d(q,p,n):d(p,q,n)),"undefined"==typeof o&&(o=p&&p===q||c(p,q,d,e,f,g))}if(!o)return!1;l||(l="constructor"==n)}if(!l){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function Bc(a,b,c){var d=c?gg:fg,e=d,f=e;return qg(a,function(a,g,h){var i=b(a,g,h);((c?e>i:i>e)||i===d&&i===f)&&(e=i,f=a)}),f}function Cc(a,b,c){var d=W.callback||$e;return d=d===$e?pb:d,c?d(a,b,c):d}function Dc(a,b,d){var e=W.indexOf||ed;return e=e===ed?c:e,a?e(a,b,d):e}function Ec(a,b,c){for(var d=-1,e=c?c.length:0;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=ag(b,a+g);break;case"takeRight":a=_f(a,b-g)}}return{start:a,end:b}}function Fc(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Ef.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Gc(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=uf),new b}function Hc(a,b,c){var d=a.constructor;switch(b){case ba:return Zb(a);case S:case T:return new d(+a);case ca:case da:case ea:case fa:case ga:case ha:case ia:case ja:case ka:var e=a.buffer;return new d(c?Zb(e):e,a.byteOffset,a.length);case X:case _:return new d(a);case Z:var f=new d(a.source,xa.exec(a));f.lastIndex=a.lastIndex}return f}function Ic(a,b){return a=+a,b=null==b?lg:b,a>-1&&a%1==0&&b>a}function Jc(a,b,c){if(!le(c))return!1;var d=typeof b;if("number"==d)var e=c.length,f=Lc(e)&&Ic(b,e);else f="string"==d&&b in c;if(f){var g=c[b];return a===a?a===g:g!==g}return!1}function Kc(a){var b=xg(a);return!!b&&a===W[b]&&b in Ma.prototype}function Lc(a){return"number"==typeof a&&a>-1&&a%1==0&&lg>=a}function Mc(a){return a===a&&(0===a?1/a>0:!le(a))}function Nc(a,b){var c=a[1],d=b[1],e=c|d,f=F>e,g=d==F&&c==B||d==F&&c==G&&a[7].length<=b[8]||d==(F|G)&&c==B;if(!f&&!g)return a;d&y&&(a[2]=b[2],e|=c&y?0:A);var h=b[3];if(h){var i=a[3];a[3]=i?$b(i,h,b[4]):$a(h),a[4]=i?q(a[3],P):$a(b[4])}return h=b[5],h&&(i=a[5],a[5]=i?_b(i,h,b[6]):$a(h),a[6]=i?q(a[5],P):$a(b[6])),h=b[7],h&&(a[7]=$a(h)),d&F&&(a[8]=null==a[8]?b[8]:ag(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Oc(a,b){a=Uc(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Pc(a,b){var c={};return yb(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Qc(a,b){for(var c=a.length,d=ag(b.length,c),e=$a(a);d--;){var f=b[d];a[d]=Ic(f,c)?e[f]:w}return a}function Rc(a){{var b;W.support}if(!o(a)||Gf.call(a)!=Y||!Ef.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return yb(a,function(a,b){c=b}),"undefined"==typeof c||Ef.call(a,c)}function Sc(a){for(var b=Be(a),c=b.length,d=c&&a.length,e=W.support,f=d&&Lc(d)&&(fh(a)||e.nonEnumArgs&&ee(a)),g=-1,h=[];++g<c;){var i=b[g];(f&&Ic(i,d)||Ef.call(a,i))&&h.push(i)}return h}function Tc(a){return null==a?[]:Lc(a.length)?le(a)?a:uf(a):Ge(a)}function Uc(a){return le(a)?a:uf(a)}function Vc(a){return a instanceof Ma?a.clone():new aa(a.__wrapped__,a.__chain__,$a(a.__actions__))}function Wc(a,b,c){b=(c?Jc(a,b,c):null==b)?1:_f(+b||1,1);for(var d=0,e=a?a.length:0,f=-1,g=of(Lf(e/b));e>d;)g[++f]=Nb(a,d,d+=b);return g}function Xc(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function Yc(a,b,c){var d=a?a.length:0;return d?((c?Jc(a,b,c):null==b)&&(b=1),Nb(a,0>b?0:b)):[]}function Zc(a,b,c){var d=a?a.length:0;return d?((c?Jc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Nb(a,0,0>b?0:b)):[]}function $c(a,b,c){return a&&a.length?Ub(a,Cc(b,c,3),!0,!0):[]}function _c(a,b,c){return a&&a.length?Ub(a,Cc(b,c,3),!0):[]}function ad(a,b,c,d){var e=a?a.length:0;return e?(c&&"number"!=typeof c&&Jc(a,b,c)&&(c=0,d=e),ub(a,b,c,d)):[]}function bd(a){return a?a[0]:w}function cd(a,b,c){var d=a?a.length:0;return c&&Jc(a,b,c)&&(b=!1),d?xb(a,b):[]}function dd(a){var b=a?a.length:0;return b?xb(a,!0):[]}function ed(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?_f(e+d,0):d;else if(d){var f=Wb(a,b),g=a[f];return(b===b?b===g:g!==g)?f:-1}return c(a,b,d||0)}function fd(a){return Zc(a,1)}function gd(){for(var a=[],b=-1,d=arguments.length,e=[],f=Dc(),g=f==c;++b<d;){var h=arguments[b];(fh(h)||ee(h))&&(a.push(h),e.push(g&&h.length>=120?vg(b&&h):null))}d=a.length;var i=a[0],j=-1,k=i?i.length:0,l=[],m=e[0];a:for(;++j<k;)if(h=i[j],(m?Wa(m,h):f(l,h,0))<0){for(b=d;--b;){var n=e[b];if((n?Wa(n,h):f(a[b],h,0))<0)continue a}m&&m.push(h),l.push(h)}return l}function hd(a){var b=a?a.length:0;return b?a[b-1]:w}function id(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?_f(d+c,0):ag(c||0,d-1))+1;else if(c){e=Wb(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return n(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function jd(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=Dc(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)Tf.call(b,f,1);return b}function kd(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=Cc(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Tf.call(a,d--,1),e--)}return f}function ld(a){return Yc(a,1)}function md(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Jc(a,b,c)&&(b=0,c=d),Nb(a,b,c)):[]}function nd(a,b,c){var d=a?a.length:0;return d?((c?Jc(a,b,c):null==b)&&(b=1),Nb(a,0,0>b?0:b)):[]}function od(a,b,c){var d=a?a.length:0;return d?((c?Jc(a,b,c):null==b)&&(b=1),b=d-(+b||0),Nb(a,0>b?0:b)):[]}function pd(a,b,c){return a&&a.length?Ub(a,Cc(b,c,3),!1,!0):[]}function qd(a,b,c){return a&&a.length?Ub(a,Cc(b,c,3)):[]}function rd(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=Jc(a,b,e)?null:b,b=!1);var g=Cc();return(g!==pb||null!=d)&&(d=g(d,e,3)),b&&Dc()==c?r(a,d):Sb(a,d)}function sd(a){for(var b=-1,c=(a&&a.length&&eb(db(a,Df)))>>>0,d=of(c);++b<c;)d[b]=db(a,Kb(b));return d}function td(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(fh(c)||ee(c))var d=d?sb(d,c).concat(sb(c,d)):c}return d?Sb(d):[]}function ud(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||fh(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function vd(a){var b=W(a);return b.__chain__=!0,b}function wd(a,b,c){return b.call(c,a),a}function xd(a,b,c){return b.call(c,a)}function yd(){return vd(this)}function zd(){return new aa(this.value(),this.__chain__)}function Ad(a){for(var b,c=this;c instanceof $;){var d=Vc(c);b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}return e.__wrapped__=a,b}function Bd(){var a=this.__wrapped__;return a instanceof Ma?(this.__actions__.length&&(a=new Ma(this)),new aa(a.reverse(),this.__chain__)):this.thru(function(a){return a.reverse()})}function Cd(){return this.value()+""}function Dd(){return Vb(this.__wrapped__,this.__actions__)}function Ed(a,b,c){var d=fh(a)?bb:tb;return c&&Jc(a,b,c)&&(b=null),("function"!=typeof b||"undefined"!=typeof c)&&(b=Cc(b,c,3)),d(a,b)}function Fd(a,b,c){var d=fh(a)?cb:vb;return b=Cc(b,c,3),d(a,b)}function Gd(a,b){return Kg(a,Gb(b))}function Hd(a,b,c,d){var e=a?a.length:0;return Lc(e)||(a=Ge(a),e=a.length),e?(c="number"!=typeof c||d&&Jc(b,c,d)?0:0>c?_f(e+c,0):c||0,"string"==typeof a||!fh(a)&&se(a)?e>c&&a.indexOf(b,c)>-1:Dc(a,b,c)>-1):!1}function Id(a,b,c){var d=fh(a)?db:Fb;return b=Cc(b,c,3),d(a,b)}function Jd(a,b){return Id(a,Kb(b))}function Kd(a,b,c){var d=fh(a)?cb:vb;return b=Cc(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function Ld(a,b,c){if(c?Jc(a,b,c):null==b){a=Tc(a);var d=a.length;return d>0?a[Lb(0,d-1)]:w}var e=Md(a);return e.length=ag(0>b?0:+b||0,e.length),e}function Md(a){a=Tc(a);for(var b=-1,c=a.length,d=of(c);++b<c;){var e=Lb(0,b);b!=e&&(d[b]=d[e]),d[e]=a[b]}return d}function Nd(a){var b=a?a.length:0;return Lc(b)?b:rh(a).length}function Od(a,b,c){var d=fh(a)?ib:Ob;return c&&Jc(a,b,c)&&(b=null),("function"!=typeof b||"undefined"!=typeof c)&&(b=Cc(b,c,3)),d(a,b)}function Pd(a,b,c){if(null==a)return[];var d=-1,e=a.length,f=Lc(e)?of(e):[];return c&&Jc(a,b,c)&&(b=null),b=Cc(b,c,3),qg(a,function(a,c,e){f[++d]={criteria:b(a,c,e),index:d,value:a}}),Pb(f,i)}function Qd(){var a=arguments,b=a[0],c=a[3],d=0,e=a.length-1;if(null==b)return[];for(var f=of(e);e>d;)f[d]=a[++d];return c&&Jc(a[1],a[2],c)&&(f=a[1]),Qb(b,xb(f),[])}function Rd(a,b,c,d){return null==a?[]:(d&&Jc(b,c,d)&&(c=null),fh(b)||(b=null==b?[]:[b]),fh(c)||(c=null==c?[]:[c]),Qb(a,b,c))}function Sd(a,b){return Fd(a,Gb(b))}function Td(a,b){if("function"!=typeof b){if("function"!=typeof a)throw new xf(O);var c=a;a=b,b=c}return a=Zf(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function Ud(a,b,c){return c&&Jc(a,b,c)&&(b=null),b=a&&null==b?a.length:_f(+b||0,0),xc(a,F,null,null,null,null,b)}function Vd(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new xf(O);var d=a;a=b,b=d}return function(){return--a>0?c=b.apply(this,arguments):b=null,c}}function Wd(a,b,c){function d(){m&&Mf(m),i&&Mf(i),i=m=n=w}function e(){var c=b-(Ug()-k);if(0>=c||c>b){i&&Mf(i);var d=n;i=m=n=w,d&&(o=Ug(),j=a.apply(l,h),m||i||(h=l=null))}else m=Sf(e,c)}function f(){m&&Mf(m),i=m=n=w,(q||p!==b)&&(o=Ug(),j=a.apply(l,h),m||i||(h=l=null))}function g(){if(h=arguments,k=Ug(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=Mf(i)),o=k,j=a.apply(l,h)):i||(i=Sf(f,d))}return g&&m?m=Mf(m):m||b===p||(m=Sf(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=null),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if("function"!=typeof a)throw new xf(O);if(b=0>b?0:+b||0,c===!0){var r=!0;q=!1}else le(c)&&(r=c.leading,p="maxWait"in c&&_f(+c.maxWait||0,b),q="trailing"in c?c.trailing:q);return g.cancel=d,g}function Xd(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new xf(O);var c=function(){var d=arguments,e=c.cache,f=b?b.apply(this,d):d[0];if(e.has(f))return e.get(f);var g=a.apply(this,d);return e.set(f,g),g};return c.cache=new Xd.Cache,c}function Yd(a){if("function"!=typeof a)throw new xf(O);return function(){return!a.apply(this,arguments)}}function Zd(a){return Vd(a,2)}function $d(a,b){if("function"!=typeof a)throw new xf(O);return b=_f("undefined"==typeof b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=_f(c.length-b,0),f=of(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=of(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function _d(a){if("function"!=typeof a)throw new xf(O);return function(b){return a.apply(this,b)}}function ae(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new xf(O);return c===!1?d=!1:le(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),La.leading=d,La.maxWait=+b,La.trailing=e,Wd(a,b,La)}function be(a,b){return b=null==b?af:b,xc(b,D,null,[a],[])}function ce(a,b,c,d){return b&&"boolean"!=typeof b&&Jc(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),c="function"==typeof c&&Yb(c,d,1),qb(a,b,c)}function de(a,b,c){return b="function"==typeof b&&Yb(b,c,1),qb(a,!0,b)}function ee(a){var b=o(a)?a.length:w;return Lc(b)&&Gf.call(a)==Q}function fe(a){return a===!0||a===!1||o(a)&&Gf.call(a)==S}function ge(a){return o(a)&&Gf.call(a)==T}function he(a){return!!a&&1===a.nodeType&&o(a)&&Gf.call(a).indexOf("Element")>-1}function ie(a){if(null==a)return!0;var b=a.length;return Lc(b)&&(fh(a)||se(a)||ee(a)||o(a)&&hh(a.splice))?!b:!rh(a).length}function je(a,b,c,d){if(c="function"==typeof c&&Yb(c,d,3),!c&&Mc(a)&&Mc(b))return a===b;var e=c?c(a,b):w;return"undefined"==typeof e?Cb(a,b,c):!!e}function ke(a){return o(a)&&"string"==typeof a.message&&Gf.call(a)==U}function le(a){var b=typeof a;return"function"==b||!!a&&"object"==b}function me(a,b,c,d){var e=rh(b),f=e.length;if(!f)return!0;if(null==a)return!1;if(c="function"==typeof c&&Yb(c,d,3),!c&&1==f){var g=e[0],h=b[g];if(Mc(h))return h===a[g]&&("undefined"!=typeof h||g in Uc(a))}for(var i=of(f),j=of(f);f--;)h=i[f]=b[e[f]],j[f]=Mc(h);return Eb(Uc(a),e,i,j,c)}function ne(a){return qe(a)&&a!=+a}function oe(a){return null==a?!1:Gf.call(a)==V?If.test(Cf.call(a)):o(a)&&za.test(a)}function pe(a){return null===a}function qe(a){return"number"==typeof a||o(a)&&Gf.call(a)==X}function re(a){return o(a)&&Gf.call(a)==Z||!1}function se(a){return"string"==typeof a||o(a)&&Gf.call(a)==_}function te(a){return o(a)&&Lc(a.length)&&!!Ja[Gf.call(a)]}function ue(a){return"undefined"==typeof a}function ve(a){var b=a?a.length:0;return Lc(b)?b?$a(a):[]:Ge(a)}function we(a){return ob(a,Be(a))}function xe(a,b,c){var d=pg(a);return c&&Jc(a,b,c)&&(b=null),b?ob(b,d,rh(b)):d}function ye(a){return Bb(a,Be(a))}function ze(a,b){return a?Ef.call(a,b):!1}function Ae(a,b,c){c&&Jc(a,b,c)&&(b=null);for(var d=-1,e=rh(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?Ef.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function Be(a){if(null==a)return[];le(a)||(a=uf(a));var b=a.length;b=b&&Lc(b)&&(fh(a)||og.nonEnumArgs&&ee(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype===a,f=of(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&Ic(h,b)||"constructor"==h&&(e||!Ef.call(a,h))||f.push(h);return f}function Ce(a,b,c){var d={};return b=Cc(b,c,3),zb(a,function(a,c,e){d[c]=b(a,c,e)}),d}function De(a){for(var b=-1,c=rh(a),d=c.length,e=of(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Ee(a,b,c){var d=null==a?w:a[b];return"undefined"==typeof d&&(d=c),hh(d)?d.call(a):d}function Fe(a,b,c,d){var e=fh(a)||te(a);if(b=Cc(b,d,4),null==c)if(e||le(a)){var f=a.constructor;c=e?fh(a)?new f:[]:pg(hh(f)&&f.prototype)}else c={};return(e?_a:zb)(a,function(a,d,e){return b(c,a,d,e)}),c}function Ge(a){return Tb(a,rh(a))}function He(a){return Tb(a,Be(a))}function Ie(a,b,c){return b=+b||0,"undefined"==typeof c?(c=b,b=0):c=+c||0,a>=b&&c>a}function Je(a,b,c){c&&Jc(a,b,c)&&(b=c=null);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=eg();return ag(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return Lb(a,b)}function Ke(a){return a=e(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function Le(a){return a=e(a),a&&a.replace(Aa,k).replace(va,"")}function Me(a,b,c){a=e(a),b+="";var d=a.length;return c="undefined"==typeof c?d:ag(0>c?0:+c||0,d),c-=b.length,c>=0&&a.indexOf(b,c)==c}function Ne(a){return a=e(a),a&&ra.test(a)?a.replace(pa,l):a}function Oe(a){return a=e(a),a&&Da.test(a)?a.replace(Ca,"\\$&"):a}function Pe(a,b,c){a=e(a),b=+b;var d=a.length;if(d>=b||!Zf(b))return a;var f=(b-d)/2,g=Nf(f),h=Lf(f);return c=uc("",h,c),c.slice(0,g)+a+c}function Qe(a,b,c){return c&&Jc(a,b,c)&&(b=0),dg(a,b)}function Re(a,b){var c="";if(a=e(a),b=+b,1>b||!a||!Zf(b))return c;do b%2&&(c+=a),b=Nf(b/2),a+=a;while(b);return c}function Se(a,b,c){return a=e(a),c=null==c?0:ag(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function Te(a,b,c){var d=W.templateSettings;c&&Jc(a,b,c)&&(b=c=null),a=e(a),b=mb(mb({},c||b),d,lb);var f,g,h=mb(mb({},b.imports),d.imports,lb),i=rh(h),j=Tb(h,i),k=0,l=b.interpolate||Ba,n="__p += '",o=vf((b.escape||Ba).source+"|"+l.source+"|"+(l===ua?wa:Ba).source+"|"+(b.evaluate||Ba).source+"|$","g"),p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Ia+"]")+"\n";a.replace(o,function(b,c,d,e,h,i){return d||(d=e),n+=a.slice(k,i).replace(Ea,m),c&&(f=!0,n+="' +\n__e("+c+") +\n'"),h&&(g=!0,n+="';\n"+h+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),n+="';\n";var q=b.variable;q||(n="with (obj) {\n"+n+"\n}\n"),n=(g?n.replace(la,""):n).replace(ma,"$1").replace(na,"$1;"),n="function("+(q||"obj")+") {\n"+(q?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+n+"return __p\n}";var r=Bh(function(){return rf(i,p+"return "+n).apply(w,j)});if(r.source=n,ke(r))throw r;return r}function Ue(a,b,c){var d=a;return(a=e(a))?(c?Jc(d,b,c):null==b)?a.slice(s(a),t(a)+1):(b+="",a.slice(g(a,b),h(a,b)+1)):a}function Ve(a,b,c){var d=a;return a=e(a),a?a.slice((c?Jc(d,b,c):null==b)?s(a):g(a,b+"")):a}function We(a,b,c){var d=a;return a=e(a),a?(c?Jc(d,b,c):null==b)?a.slice(0,t(a)+1):a.slice(0,h(a,b+"")+1):a}function Xe(a,b,c){c&&Jc(a,b,c)&&(b=null);var d=H,f=I;if(null!=b)if(le(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,f="omission"in b?e(b.omission):f}else d=+b||0;if(a=e(a),d>=a.length)return a;var h=d-f.length;if(1>h)return f;var i=a.slice(0,h);if(null==g)return i+f;if(re(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=vf(g.source,(xa.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+f}function Ye(a){return a=e(a),a&&qa.test(a)?a.replace(oa,u):a}function Ze(a,b,c){return c&&Jc(a,b,c)&&(b=null),a=e(a),a.match(b||Fa)||[]}function $e(a,b,c){return c&&Jc(a,b,c)&&(b=null),o(a)?bf(a):pb(a,b)}function _e(a){return function(){return a}}function af(a){return a}function bf(a){return Gb(qb(a,!0))}function cf(a,b){return Hb(a+"",qb(b,!0))}function df(a,b,c){if(null==c){var d=le(b),e=d&&rh(b),f=e&&e.length&&Bb(b,e);(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Bb(b,rh(b)));var g=!0,h=-1,i=hh(a),j=f.length;c===!1?g=!1:le(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__),e=d.__actions__=$a(this.__actions__);return e.push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}var f=[this.value()];return Pf.apply(f,arguments),b.apply(a,f)}}(l))}return a}function ef(){return p._=Hf,this}function ff(){}function gf(a){return Kb(a+"")}function hf(a){return function(b){return null==a?w:a[b]}}function jf(a,b,c){c&&Jc(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=_f(Lf((b-a)/(c||1)),0),f=of(e);++d<e;)f[d]=a,a+=c;return f}function kf(a,b,c){if(a=+a,1>a||!Zf(a))return[];var d=-1,e=of(ag(a,hg));for(b=Yb(b,c,1);++d<a;)hg>d?e[d]=b(d):b(d);return e}function lf(a){var b=++Ff;return e(a)+b}function mf(a,b){return a+b}function nf(a,b,c){c&&Jc(a,b,c)&&(b=null);var d=Cc(),e=null==b;return d===pb&&e||(e=!1,b=d(b,c,3)),e?jb(fh(a)?a:Tc(a)):Rb(a,b)}p=p?Ya.defaults(Xa.Object(),p,Ya.pick(Xa,Ha)):Xa;var of=p.Array,pf=p.Date,qf=p.Error,rf=p.Function,sf=p.Math,tf=p.Number,uf=p.Object,vf=p.RegExp,wf=p.String,xf=p.TypeError,yf=of.prototype,zf=uf.prototype,Af=wf.prototype,Bf=(Bf=p.window)&&Bf.document,Cf=rf.prototype.toString,Df=Kb("length"),Ef=zf.hasOwnProperty,Ff=0,Gf=zf.toString,Hf=p._,If=vf("^"+Oe(Gf).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jf=oe(Jf=p.ArrayBuffer)&&Jf,Kf=oe(Kf=Jf&&new Jf(0).slice)&&Kf,Lf=sf.ceil,Mf=p.clearTimeout,Nf=sf.floor,Of=oe(Of=uf.getPrototypeOf)&&Of,Pf=yf.push,Qf=zf.propertyIsEnumerable,Rf=oe(Rf=p.Set)&&Rf,Sf=p.setTimeout,Tf=yf.splice,Uf=oe(Uf=p.Uint8Array)&&Uf,Vf=oe(Vf=p.WeakMap)&&Vf,Wf=function(){try{var a=oe(a=p.Float64Array)&&a,b=new a(new Jf(10),0,1)&&a}catch(c){}return b}(),Xf=oe(Xf=of.isArray)&&Xf,Yf=oe(Yf=uf.create)&&Yf,Zf=p.isFinite,$f=oe($f=uf.keys)&&$f,_f=sf.max,ag=sf.min,bg=oe(bg=pf.now)&&bg,cg=oe(cg=tf.isFinite)&&cg,dg=p.parseInt,eg=sf.random,fg=tf.NEGATIVE_INFINITY,gg=tf.POSITIVE_INFINITY,hg=sf.pow(2,32)-1,ig=hg-1,jg=hg>>>1,kg=Wf?Wf.BYTES_PER_ELEMENT:0,lg=sf.pow(2,53)-1,mg=Vf&&new Vf,ng={},og=W.support={};

!function(a){og.funcDecomp=/\bthis\b/.test(function(){return this}),og.funcNames="string"==typeof rf.name;try{og.dom=11===Bf.createDocumentFragment().nodeType}catch(b){og.dom=!1}try{og.nonEnumArgs=!Qf.call(arguments,1)}catch(b){og.nonEnumArgs=!0}}(0,0),W.templateSettings={escape:sa,evaluate:ta,interpolate:ua,variable:"",imports:{_:W}};var pg=function(){function a(){}return function(b){if(le(b)){a.prototype=b;var c=new a;a.prototype=null}return c||p.Object()}}(),qg=cc(zb),rg=cc(Ab,!0),sg=dc(),tg=dc(!0),ug=mg?function(a,b){return mg.set(a,b),a}:af;Kf||(Zb=Jf&&Uf?function(a){var b=a.byteLength,c=Wf?Nf(b/kg):0,d=c*kg,e=new Jf(b);if(c){var f=new Wf(e,0,c);f.set(new Wf(a,0,c))}return b!=d&&(f=new Uf(e,d),f.set(new Uf(a,d))),e}:_e(null));var vg=Yf&&Rf?function(a){return new Va(a)}:_e(null),wg=mg?function(a){return mg.get(a)}:ff,xg=function(){return og.funcNames?"constant"==_e.name?Kb("name"):function(a){for(var b=a.name,c=ng[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}:_e("")}(),yg=function(){var a=0,b=0;return function(c,d){var e=Ug(),f=K-(e-b);if(b=e,f>0){if(++a>=J)return c}else a=0;return ug(c,d)}}(),zg=$d(function(a,b){return fh(a)||ee(a)?sb(a,xb(b,!1,!0)):[]}),Ag=kc(),Bg=kc(!0),Cg=$d(function(b,c){b||(b=[]),c=xb(c);var d=c.length,e=nb(b,c);for(c.sort(a);d--;){var f=parseFloat(c[d]);if(f!=g&&Ic(f)){var g=f;Tf.call(b,f,1)}}return e}),Dg=wc(),Eg=wc(!0),Fg=$d(function(a){return Sb(xb(a,!1,!0))}),Gg=$d(function(a,b){return fh(a)||ee(a)?sb(a,b):[]}),Hg=$d(sd),Ig=$d(function(a,b){var c=a?a.length:0;return Lc(c)&&(a=Tc(a)),nb(a,xb(b))}),Jg=ac(function(a,b,c){Ef.call(a,c)?++a[c]:a[c]=1}),Kg=jc(qg),Lg=jc(rg,!0),Mg=nc(_a,qg),Ng=nc(ab,rg),Og=ac(function(a,b,c){Ef.call(a,c)?a[c].push(b):a[c]=[b]}),Pg=ac(function(a,b,c){a[c]=b}),Qg=$d(function(a,b,c){var d=-1,e="function"==typeof b,f=a?a.length:0,g=Lc(f)?of(f):[];return qg(a,function(a){var f=e?b:null!=a&&a[b];g[++d]=f?f.apply(a,c):w}),g}),Rg=ac(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Sg=sc(gb,qg),Tg=sc(hb,rg),Ug=bg||function(){return(new pf).getTime()},Vg=$d(function(a,b,c){var d=y;if(c.length){var e=q(c,Vg.placeholder);d|=D}return xc(a,d,b,c,e)}),Wg=$d(function(a,b){b=b.length?xb(b):ye(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=xc(a[e],y,a)}return a}),Xg=$d(function(a,b,c){var d=y|z;if(c.length){var e=q(c,Xg.placeholder);d|=D}return xc(b,d,a,c,e)}),Yg=hc(B),Zg=hc(C),$g=$d(function(a,b){return rb(a,1,b)}),_g=$d(function(a,b,c){return rb(a,b,c)}),ah=mc(),bh=mc(!0),ch=rc(D),dh=rc(E),eh=$d(function(a,b){return xc(a,G,null,null,null,xb(b))}),fh=Xf||function(a){return o(a)&&Lc(a.length)&&Gf.call(a)==R};og.dom||(he=function(a){return!!a&&1===a.nodeType&&o(a)&&!ih(a)});var gh=cg||function(a){return"number"==typeof a&&Zf(a)},hh=d(/x/)||Uf&&!d(Uf)?function(a){return Gf.call(a)==V}:d,ih=Of?function(a){if(!a||Gf.call(a)!=Y)return!1;var b=a.valueOf,c=oe(b)&&(c=Of(b))&&Of(c);return c?a==c||Of(a)==c:Rc(a)}:Rc,jh=bc(mb),kh=$d(function(a){var b=a[0];return null==b?b:(a.push(kb),jh.apply(w,a))}),lh=lc(zb),mh=lc(Ab),nh=oc(sg),oh=oc(tg),ph=pc(zb),qh=pc(Ab),rh=$f?function(a){if(a)var b=a.constructor,c=a.length;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&c&&Lc(c)?Sc(a):le(a)?$f(a):[]}:Sc,sh=bc(Ib),th=$d(function(a,b){if(null==a)return{};if("function"!=typeof b[0]){var b=db(xb(b),wf);return Oc(a,sb(Be(a),b))}var c=Yb(b[0],b[1],3);return Pc(a,function(a,b,d){return!c(a,b,d)})}),uh=$d(function(a,b){return null==a?{}:"function"==typeof b[0]?Pc(a,Yb(b[0],b[1],3)):Oc(a,xb(b))}),vh=fc(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),wh=fc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),xh=qc(),yh=qc(!0);8!=dg(Ga+"08")&&(Qe=function(a,b,c){return(c?Jc(a,b,c):null==b)?b=0:b&&(b=+b),a=Ue(a),dg(a,b||(ya.test(a)?16:10))});var zh=fc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Ah=fc(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Bh=$d(function(a,b){try{return a.apply(w,b)}catch(c){return ke(c)?c:new qf(c)}}),Ch=ic(eb),Dh=ic(fb,!0);return W.prototype=$.prototype,aa.prototype=pg($.prototype),aa.prototype.constructor=aa,Ma.prototype=pg($.prototype),Ma.prototype.constructor=Ma,Qa.prototype["delete"]=Ra,Qa.prototype.get=Sa,Qa.prototype.has=Ta,Qa.prototype.set=Ua,Va.prototype.push=Za,Xd.Cache=Qa,W.after=Td,W.ary=Ud,W.assign=jh,W.at=Ig,W.before=Vd,W.bind=Vg,W.bindAll=Wg,W.bindKey=Xg,W.callback=$e,W.chain=vd,W.chunk=Wc,W.compact=Xc,W.constant=_e,W.countBy=Jg,W.create=xe,W.curry=Yg,W.curryRight=Zg,W.debounce=Wd,W.defaults=kh,W.defer=$g,W.delay=_g,W.difference=zg,W.drop=Yc,W.dropRight=Zc,W.dropRightWhile=$c,W.dropWhile=_c,W.fill=ad,W.filter=Fd,W.flatten=cd,W.flattenDeep=dd,W.flow=ah,W.flowRight=bh,W.forEach=Mg,W.forEachRight=Ng,W.forIn=nh,W.forInRight=oh,W.forOwn=ph,W.forOwnRight=qh,W.functions=ye,W.groupBy=Og,W.indexBy=Pg,W.initial=fd,W.intersection=gd,W.invert=Ae,W.invoke=Qg,W.keys=rh,W.keysIn=Be,W.map=Id,W.mapValues=Ce,W.matches=bf,W.matchesProperty=cf,W.memoize=Xd,W.merge=sh,W.mixin=df,W.negate=Yd,W.omit=th,W.once=Zd,W.pairs=De,W.partial=ch,W.partialRight=dh,W.partition=Rg,W.pick=uh,W.pluck=Jd,W.property=gf,W.propertyOf=hf,W.pull=jd,W.pullAt=Cg,W.range=jf,W.rearg=eh,W.reject=Kd,W.remove=kd,W.rest=ld,W.restParam=$d,W.shuffle=Md,W.slice=md,W.sortBy=Pd,W.sortByAll=Qd,W.sortByOrder=Rd,W.spread=_d,W.take=nd,W.takeRight=od,W.takeRightWhile=pd,W.takeWhile=qd,W.tap=wd,W.throttle=ae,W.thru=xd,W.times=kf,W.toArray=ve,W.toPlainObject=we,W.transform=Fe,W.union=Fg,W.uniq=rd,W.unzip=sd,W.values=Ge,W.valuesIn=He,W.where=Sd,W.without=Gg,W.wrap=be,W.xor=td,W.zip=Hg,W.zipObject=ud,W.backflow=bh,W.collect=Id,W.compose=bh,W.each=Mg,W.eachRight=Ng,W.extend=jh,W.iteratee=$e,W.methods=ye,W.object=ud,W.select=Fd,W.tail=ld,W.unique=rd,df(W,W),W.add=mf,W.attempt=Bh,W.camelCase=vh,W.capitalize=Ke,W.clone=ce,W.cloneDeep=de,W.deburr=Le,W.endsWith=Me,W.escape=Ne,W.escapeRegExp=Oe,W.every=Ed,W.find=Kg,W.findIndex=Ag,W.findKey=lh,W.findLast=Lg,W.findLastIndex=Bg,W.findLastKey=mh,W.findWhere=Gd,W.first=bd,W.has=ze,W.identity=af,W.includes=Hd,W.indexOf=ed,W.inRange=Ie,W.isArguments=ee,W.isArray=fh,W.isBoolean=fe,W.isDate=ge,W.isElement=he,W.isEmpty=ie,W.isEqual=je,W.isError=ke,W.isFinite=gh,W.isFunction=hh,W.isMatch=me,W.isNaN=ne,W.isNative=oe,W.isNull=pe,W.isNumber=qe,W.isObject=le,W.isPlainObject=ih,W.isRegExp=re,W.isString=se,W.isTypedArray=te,W.isUndefined=ue,W.kebabCase=wh,W.last=hd,W.lastIndexOf=id,W.max=Ch,W.min=Dh,W.noConflict=ef,W.noop=ff,W.now=Ug,W.pad=Pe,W.padLeft=xh,W.padRight=yh,W.parseInt=Qe,W.random=Je,W.reduce=Sg,W.reduceRight=Tg,W.repeat=Re,W.result=Ee,W.runInContext=v,W.size=Nd,W.snakeCase=zh,W.some=Od,W.sortedIndex=Dg,W.sortedLastIndex=Eg,W.startCase=Ah,W.startsWith=Se,W.sum=nf,W.template=Te,W.trim=Ue,W.trimLeft=Ve,W.trimRight=We,W.trunc=Xe,W.unescape=Ye,W.uniqueId=lf,W.words=Ze,W.all=Ed,W.any=Od,W.contains=Hd,W.detect=Kg,W.foldl=Sg,W.foldr=Tg,W.head=bd,W.include=Hd,W.inject=Sg,df(W,function(){var a={};return zb(W,function(b,c){W.prototype[c]||(a[c]=b)}),a}(),!1),W.sample=Ld,W.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Ld(b,a)}):Ld(this.value())},W.VERSION=x,_a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){W[a].placeholder=W}),_a(["dropWhile","filter","map","takeWhile"],function(a,b){var c=b!=N,d=b==L;Ma.prototype[a]=function(a,e){var f=this.__filtered__,g=f&&d?new Ma(this):this.clone(),h=g.__iteratees__||(g.__iteratees__=[]);return h.push({done:!1,count:0,index:0,iteratee:Cc(a,e,1),limit:-1,type:b}),g.__filtered__=f||c,g}}),_a(["drop","take"],function(a,b){var c=a+"While";Ma.prototype[a]=function(c){var d=this.__filtered__,e=d&&!b?this.dropWhile():this.clone();if(c=null==c?1:_f(Nf(c)||0,0),d)b?e.__takeCount__=ag(e.__takeCount__,c):hd(e.__iteratees__).limit=c;else{var f=e.__views__||(e.__views__=[]);f.push({size:c,type:a+(e.__dir__<0?"Right":"")})}return e},Ma.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},Ma.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[c](a,b).reverse()}}),_a(["first","last"],function(a,b){var c="take"+(b?"Right":"");Ma.prototype[a]=function(){return this[c](1).value()[0]}}),_a(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");Ma.prototype[a]=function(){return this[c](1)}}),_a(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Gb:Kb;Ma.prototype[a]=function(a){return this[c](d(a))}}),Ma.prototype.compact=function(){return this.filter(af)},Ma.prototype.reject=function(a,b){return a=Cc(a,b,1),this.filter(function(b){return!a(b)})},Ma.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=0>a?this.takeRight(-a):this.drop(a);return"undefined"!=typeof b&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Ma.prototype.toArray=function(){return this.drop(0)},zb(Ma.prototype,function(a,b){var c=W[b];if(c){var d=/^(?:filter|map|reject)|While$/.test(b),e=/^(?:first|last)$/.test(b);W.prototype[b]=function(){var b=arguments,f=(b.length,this.__chain__),g=this.__wrapped__,h=!!this.__actions__.length,i=g instanceof Ma,j=b[0],k=i||fh(g);k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var l=i&&!h;if(e&&!f)return l?a.call(g):c.call(W,this.value());var m=function(a){var d=[a];return Pf.apply(d,b),c.apply(W,d)};if(k){var n=l?g:new Ma(this),o=a.apply(n,b);if(!e&&(h||o.__actions__)){var p=o.__actions__||(o.__actions__=[]);p.push({func:xd,args:[m],thisArg:W})}return new aa(o,f)}return this.thru(m)}}}),_a(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(a){var b=(/^(?:replace|split)$/.test(a)?Af:yf)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);W.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}}),zb(Ma.prototype,function(a,b){var c=W[b];if(c){var d=c.name,e=ng[d]||(ng[d]=[]);e.push({name:b,func:c})}}),ng[tc(null,z).name]=[{name:"wrapper",func:null}],Ma.prototype.clone=Na,Ma.prototype.reverse=Oa,Ma.prototype.value=Pa,W.prototype.chain=yd,W.prototype.commit=zd,W.prototype.plant=Ad,W.prototype.reverse=Bd,W.prototype.toString=Cd,W.prototype.run=W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Dd,W.prototype.collect=W.prototype.map,W.prototype.head=W.prototype.first,W.prototype.select=W.prototype.filter,W.prototype.tail=W.prototype.rest,W}var w,x="3.6.0",y=1,z=2,A=4,B=8,C=16,D=32,E=64,F=128,G=256,H=30,I="...",J=150,K=16,L=0,M=1,N=2,O="Expected a function",P="__lodash_placeholder__",Q="[object Arguments]",R="[object Array]",S="[object Boolean]",T="[object Date]",U="[object Error]",V="[object Function]",W="[object Map]",X="[object Number]",Y="[object Object]",Z="[object RegExp]",$="[object Set]",_="[object String]",aa="[object WeakMap]",ba="[object ArrayBuffer]",ca="[object Float32Array]",da="[object Float64Array]",ea="[object Int8Array]",fa="[object Int16Array]",ga="[object Int32Array]",ha="[object Uint8Array]",ia="[object Uint8ClampedArray]",ja="[object Uint16Array]",ka="[object Uint32Array]",la=/\b__p \+= '';/g,ma=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39|#96);/g,pa=/[&<>"'`]/g,qa=RegExp(oa.source),ra=RegExp(pa.source),sa=/<%-([\s\S]+?)%>/g,ta=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,va=/[\u0300-\u036f\ufe20-\ufe23]/g,wa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xa=/\w*$/,ya=/^0[xX]/,za=/^\[object .+?Constructor\]$/,Aa=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ba=/($^)/,Ca=/[.*+?^${}()|[\]\/\\]/g,Da=RegExp(Ca.source),Ea=/['\n\r\u2028\u2029\\]/g,Fa=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"+(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Ga=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Ha=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Ia=-1,Ja={};Ja[ca]=Ja[da]=Ja[ea]=Ja[fa]=Ja[ga]=Ja[ha]=Ja[ia]=Ja[ja]=Ja[ka]=!0,Ja[Q]=Ja[R]=Ja[ba]=Ja[S]=Ja[T]=Ja[U]=Ja[V]=Ja[W]=Ja[X]=Ja[Y]=Ja[Z]=Ja[$]=Ja[_]=Ja[aa]=!1;var Ka={};Ka[Q]=Ka[R]=Ka[ba]=Ka[S]=Ka[T]=Ka[ca]=Ka[da]=Ka[ea]=Ka[fa]=Ka[ga]=Ka[X]=Ka[Y]=Ka[Z]=Ka[_]=Ka[ha]=Ka[ia]=Ka[ja]=Ka[ka]=!0,Ka[U]=Ka[V]=Ka[W]=Ka[$]=Ka[aa]=!1;var La={leading:!1,maxWait:0,trailing:!1},Ma={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Na={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Oa={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Pa={"function":!0,object:!0},Qa={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ra=Pa[typeof exports]&&exports&&!exports.nodeType&&exports,Sa=Pa[typeof module]&&module&&!module.nodeType&&module,Ta=Ra&&Sa&&"object"==typeof global&&global,Ua=Pa[typeof self]&&self&&self.Object&&self,Va=Pa[typeof window]&&window&&window.Object&&window,Wa=Sa&&Sa.exports===Ra&&Ra,Xa=Ta||Va!==(this&&this.window)&&Va||Ua||this,Ya=v();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xa._=Ya,define(function(){return Ya})):Ra&&Sa?Wa?(Sa.exports=Ya)._=Ya:Ra._=Ya:Xa._=Ya}.call(this),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){function ba(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ca(a){return"string"==typeof a}function da(a){return"function"==ba(a)}function ea(a){return a[ga]||(a[ga]=++ha)}function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){return ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,ka.apply(null,arguments)}function q(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function r(a,b){function c(){}c.prototype=b.prototype,a.a=b.prototype,a.prototype=new c,a.prototype.constructor=a}function la(a){var b,c=ma;for(b in c)a.call(void 0,c[b],b,c)}function oa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<na.length;f++)c=na[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function ra(a){return eval(""+a)}function ta(a,b){return qa(a).split(b!==t?b:" ")}function u(a,b,c,d){if(!(b=a instanceof b)&&c)throw new y(c,d,void 0!==t?void 0:a);return b}function va(a,b){return u(a,b)&&a.constructor===b}function wa(a,b){if(!0===va(a,b))throw new TypeError("Illegal constructor "+xa(b))}function za(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function Aa(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function Ba(a,b,c,d,e){if(!(b=Ca(a)===b)&&c)throw new y(c,d,e!==t?e:a);return b}function Ea(a){return a===+a}function Fa(a){return!z(+a)}function Ca(a){var b=Object[ua[0]][ua[6]].call(a).match(/^\[object (\w+)\]$/);return b?b[1]:typeof a}function xa(a,b,c,d){var e="",f=2>arguments.length;return f&&(b={H:pa.H},c="",d=[]),Ga(b,!0,function(b,f){var g=b[f];f=Ha(b,g);var h;if((h=!(za(g)&&g.window===g&&g.self===g))&&(h=!(za(g)&&0<g.nodeType&&da(g.cloneNode))),h&&za(g)){if(g===a)return e=c+"."+f,!0;if(0>d.indexOf(g)&&(d.push(g),e=xa(a,g,c+"."+f,d)))return!0}}),f&&(e=e?e.substr(1).replace("."+ua[0]+".","#"):"~"+(da(a)?Ia(a)+"()":Ca(a))),e}function Ha(a,b){var c=[];return Ga(a,!1,function(a,d){a[d]===b&&c.push(d)}),c.sort(Ja)[0]}function Ja(a,b){return b.length-a.length}function Ga(a,b,c){var d,e;if(a){for(d in a)if((!b||a[ua[2]](d))&&c(a,d,!0))return;for(e=ua.length;e--&&(d=ua[e],b&&!a[ua[2]](d)||!c(a,d,!1)););}}function Ia(a){return(a=/^\s*function ([^\( ]+)/.exec(a))?a[1]:"anonymous"}function Ka(a,b,c){c[b]="#"+b}function Ma(a){return"transparent"!==a&&"none"!==a&&(!La.test(a)||.002<=pa.RegExp.$2)}function Oa(a){return/^<svg/.test(a)?"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a):a}function Qa(){return!1}function Ra(){}function Ta(a){return"CANVAS"===a.tagName?[a]:a.getElementsByTagName("CANVAS")}function Ua(a,b,c){var d;if(b=a.ownerDocument===b?a.cloneNode(!0):b.importNode(a,!0),c)for(a=Ta(a),c=Ta(b),d=c.length;d--;)c[d].getContext("2d").drawImage(a[d],0,0);return b}function Wa(a){return a.parentNode.removeChild(a)}function Za(a){var b=a.complete,c=0<a.naturalWidth;if(b&&!c&&Na)try{Xa.drawImage(a,0,0),c=!0}catch(d){}return b&&c}function $a(a){var b,c,d;if(a)for(c in b=u(a,$a),a)c in this&&(d=a[c],d!==this[c]&&("fillColor"===c||0<(d=+d))&&(this[c]=d));a=b?a.Xb:Ma(this.fillColor),a||(this.Xb=a)}function y(a,b,c){var d,e=arguments.length;b=e>1?+b:b,e=e>2?qa(c):"",b!==t&&(d=(d=/.*\(([^\)]+)/.exec((""+a).replace(/(\/\*([\s\S]*?)\*\/)|(\/\/(.*)$)/gm,"")))?ta(d[1].replace(/\s+/g,""),","):[],d.forEach(Ka),d=d[b]||"#"+b),this.message=(a?xa(a):"")+(d||e?" (":"")+(d?"Argument "+d:"")+(e?(d?" ":"")+e:"")+(d||e?")":"")}function Bb(a,b){var c;return 0>(c=a%b)==0>b?c:c+b}function Cb(a,b,c){return(a-=0)>c?c:b>a?b:a}function Db(a,b,c,d){return(d-=0)||(d=0),c>b?a>=b-d&&c+d>=a:a>=c-d&&b+d>=a}function Eb(a,b,c,d,e,f){return jb(kb((a-e)*(d-f)-(b-f)*(c-e),2)/(kb(c-e,2)+kb(d-f,2)))}function Fb(a,b,c,d,e){for(var f,g,h,i=c.length,j=i,k=c[0],l=0,m=0,n=0,o=d/2||0,p=e?1:3;1!=l&&j>p;)f=c[--j],d=c[--j],h=c[j?j-1:(i+(j-1))%i],g=c[j?j-2:(i+(j-2))%i],d>=a-o&&a+o>=d&&f>=b-o&&b+o>=f||g>=a-o&&a+o>=g&&h>=b-o&&b+o>=h?l=1:l||d!==a?!l&&Db(a,d,g,o)&&((a>d&&g>a||d>a&&a>g)&&(k=f+(a-d)/(g-d)*(h-f),m+=k>b,n+=b>k),l=Db(b,f,h,o)&&Eb(a,b,d,f,g,h)<=o?2:0):(g===a&&(b>f&&h>b||f>b&&b>h)||(a>=k&&g>a||k>=a&&a>g)&&(f>=b?++m:++n),l=Db(b,f,h,o)&&Eb(a,b,d,f,g,h)<=o?2:0),k=d;return e&&3===l&&l||l?l:e&&0!==n&&0!==m%2?3:0}function Hb(a,b,c){var d=Cb(+a,-90,90);if(b&&z(d))throw new y(b,c,a);return d}function Ib(a,b,c){var d=+a;if((-180>d||d>180)&&(d=Bb(d+180,360)-180),b&&z(d))throw new y(b,c,a);return d}function Jb(a,b,c){var d;if(a!==t&&z(d=+a)&&b)throw new y(b,c,a);return d}function Kb(a,b,c){var d=!Gb[a];if(b&&d)throw new y(b,c,a);return!d}function Lb(a){return!a||z(a.lat)||z(a.lng)?!1:!0}function A(a,b,c,d){this.lat=Hb(a,A,0),this.lng=Ib(b,A,1),c!==t&&(this.alt=Jb(c,A,2)),d!==t&&Kb(d,A,3)&&(this.ctx=d)}function Mb(a,b,c){var d=!!a&&!(z(a.lat=Hb(a.lat))||z(a.lng=Ib(a.lng))||a.alt!==t&&z(a.alt=Jb(a.alt))||a.ctx!==t&&!Kb(a.ctx));if(!d&&b)throw new y(b,c,a);return d}function Nb(a){if(!a)throw new y(Nb,0,a);return u(a,A)?a:new A(a.lat,a.lng,a.alt,a.ctx)}function B(a,b,c,d){Ob(this,Hb(a,B,0),Ib(b,B,1),Hb(c,B,2),Ib(d,B,3))}function Ob(a,b,c,d,e){return a.j=c,a.n=e,d>b&&(c=b,b=d,d=c),a.s=b,a.r=d,a.Uc=a.pc=a.Wa=null,a}function Qb(a,b){var c=b-a;return c+(0>c?360:0)}function Pb(a,b){var c=a+b/2;return c-(c>180?360:0)}function Rb(a,b,c,d,e,f,g,h,i){var j,k,l;return c=cb(c,g),a=db(a,e),e=Qb(b,d),j=Pb(b,e),g=Qb(f,h),l=Pb(f,g)-j,l+=0>l-1e-6?360:0,180>l-1e-6?(j=b,k=h):(l=360-l,j=f,k=d),l=l+e/2+g/2,l+5e-7>=360?(j=-180,k=180):e>l-5e-7?(j=b,k=d):g>l-5e-7&&(j=f,k=h),i?Ob(i,a,j,c,k):new B(a,j,c,k)}function Sb(a,b,c){return c||(Mb(a,Sb,0),Mb(b,Sb,1)),new B(a.lat,a.lng,b.lat,b.lng)}function Tb(a,b){if(!Aa(a))throw new y(Tb,0,a);var c,d=1,e=a.length,f=null;if(e>0)for(c=a[0],f=Sb(c,c,b);e>d;d++)c=a[d],f.La(c.lat,c.lng,b,f);return f}function Ub(a,b){if(!(b||a&&null!=a.length))throw new y(Ub,0,a);var c,d=3,e=a.length;if(e>0)for(c=new B(a[0],a[1],a[0],a[1]);e>d;d+=3)c.La(a[d],a[d+1],b,c);return c}function Vb(a,b){if(b&&(!a||null==a.length))throw new y(Vb,0,a);var c,d=1,e=a.length;if(e>0)for(c=new B(a[0].s,a[0].j,a[0].r,a[0].n);e>d;d++)c.lb(a[d],b,c);return c}function C(a,b){a&&Wb(a,C,0),this.I=null,this.C=a||[],this.Xa=b,this.na=Xb(this,0,this.C.length)}function Xb(a,b,c){a=a.C;var d=0;for(b=db(b,0),c=cb(c,a.length),c-=2,b+=1;c>b;)d+=Yb(a[b],a[b+=3]);return d}function Zb(a,b,c,d,e){var f=a.C.length;b=Hb(b,e),c=Ib(c,e),a.C.push(Hb(b,e),Ib(c,e),d===t?0:Jb(d,e)),f&&(a.na+=Yb(a.C[f-2],c)),a.I=null}function Wb(a,b,c){for(var d,e=a.length,f=!(e%3);f&&e;)f=!(z(a[--e]=Jb((d=a[e])===t?0:d))||z(a[--e]=Ib(a[e]))||z(a[--e]=Hb(a[e])));if(!f&&b)throw new y(b,c,a)}function Yb(a,b){return 0>a/b&&180<hb(b-a)}function $b(a){var b=new C,c=0,d=a.length;if(d%2)throw new y($b,0,a);for(;d>c;)Zb(b,a[c++],a[c++],0,$b);return b}function ac(a,b,c,d,e){this.ti=a||10,this.hb=this.uc=this.Kh=null,this.cg=d||0,this.dg=e||0,this.xh=b||1,this.yh=c||1,this.flush()}function bc(a,b){for(var c,d,e,f,g,h,i,j,k,l,m=0,n=4;n--;){for(l=n+4,g=[],c=+!(n%3),h=b[n],j=(d=a[n]).length;j--;){if(e=d[j],f=e.d)for(k=f.length;k--;)((i=f[k][n])>h)-c&&(h=i);for(k=4;k--;)(f=e[k])&&(c?f[l]<h&&g.push(f):f[l]>h&&g.push(f))}m+=g.length,b[n]=h,a[n]=g}return m&&(b=bc(a,b)),b}function ec(a,b,c){var d,e;if(d=a.uc)for(e=4;e--;)if(e%3?b[e]>=d[e]:b[e]<=d[e]){if(!c){a.uc=null;break}d[e]=b[e]}}function dc(a,b){var c,d=a.hb;if(b){if(c=b,c!==d)for(d=c;c=c.Id;)(c.d||3>!c[0]+!c[1]+!c[2]+!c[3])&&(d=c)}else for(;!d.d&&2<!d[0]+!d[1]+!d[2]+!d[3]&&(c=d[0]||d[1]||d[2]||d[3]);)d=c;a.hb=d}function hc(a,b,c,d,e,f,g){var h,i,j=b.d;i=b[7];var k,l=b[8],m=b[5],n=b[4],o=b[9],p=b[6];if(j)if(h=j.length,d>i||m>f||e>n||p>g)for(;h--;)i=j[h],m=i[3],n=i[0],p=i[1],k=i[2],m>f||d>p||n>g||e>k||c.push(i);else for(;h--;)c.push(j[h]);f>=l&&(o>=e&&b[1]&&hc(a,b[1],c,d,e,f,g),g>=o&&b[3]&&hc(a,b[3],c,d,e,f,g)),l>=d&&(o>=e&&b[0]&&hc(a,b[0],c,d,e,f,g),g>=o&&b[2]&&hc(a,b[2],c,d,e,f,g))}function cc(a,b,c,d,e,f){a?(this.Id=a,this.Zh=b,1&b?(c=a[8],e=a[5]):(c=a[7],e=a[8]),2&b?(d=a[9],f=a[6]):(d=a[4],f=a[9])):this.Zh=this.Id=null,this[7]=c,this[5]=e,this[8]=(c+e)/2,this[4]=d,this[6]=f,this[9]=(d+f)/2}function fc(a,b){return a[b]||(a[b]=new cc(a,b))}function gc(a,b,c,d,e){this.id=++ic,this.vh=a,this[0]=c,this[1]=d,this[2]=e,this[3]=b}function jc(a){this.$d=new ac(+a||10,180,90,0,0),this.fd=[],this.Oe=!1,this.Va=this.Ab=this.I=null}function kc(a,b,c,d,e){a=a.fd;var f,g,h,i=a.length,j=[];if(i)for(g=c+360,h=e+360;i--;)f=a[i],lc(f,b,c,d,e)?j.push(f):lc(f,b,g,d,h)&&j.push(f);return j}function lc(a,b,c,d,e){var f=a[0],g=a[1],h=a[2];return!(a[3]>e||c>g||f>d||b>h)}function mc(a,b){var c,d,e,f;if(d=b.length){for(c=a.length,e={};c--;)e[a[c].id]=1;for(;d--;)(f=b[d]).id in e||a.push(f)}}function nc(a,b){var c,d=a.$d,e=b.gb(),f=b.$a(),g=-e.lat,e=e.lng,h=-f.lat,f=f.lng;return b.Vb()?(c=d.V(-180,g,f,h),mc(c,d.V(e,g,180,h)),mc(c,kc(a,g,f,h,e+360))):(c=d.V(e,g,f,h),mc(c,kc(a,g,e,h,f))),c}function D(){}function uc(){0!=vc&&(wc[ea(this)]=this)}function xc(a,b){this.type=a,this.currentTarget=this.target=b}function yc(a,b,c){yc.a.constructor.call(this,a),this.oldValue=c,this.newValue=b}function zc(a,b){var c=[];a&&c.push(xa(a)),1<arguments.length&&c.push(b),this.message=c.join(" ")}function Ac(a,b){return b>a?-1:a>b?1:0}function Cc(){}function Hc(){return aa.navigator?aa.navigator.userAgent:null}function Oc(){var a=aa.document;return a?a.documentMode:void 0}function Wc(a){var b;if(!(b=Vc[a])){b=0;for(var c=String(Pc).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=Ac(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||Ac(0==k[2].length,0==l[2].length)||Ac(k[2],l[2])}while(0==b)}b=Vc[a]=b>=0}return b}function dd(a){return dd[" "](a),a}function ed(a,b){a&&this.vd(a,b)}function id(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)id(a,b[f],c,d,e);return null}return a=jd(a,b,c,!1,d,e),b=a.key,ma[b]=a,b}function jd(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");e=!!e;var g=fd;b in g||(g[b]={aa:0,K:0}),g=g[b],e in g||(g[e]={aa:0,K:0},g.aa++);var h,g=g[e],i=ea(a);if(g.K++,g[i]){h=g[i];for(var j=0;j<h.length;j++)if(g=h[j],g.Ka==c&&g.Le==f){if(g.tb)break;return d||(h[j].dd=!1),h[j]}}else h=g[i]=[],g.aa++;return j=kd(),g=new Cc,g.vd(c,j,a,b,e,f),g.dd=d,j.src=a,j.Ka=g,h.push(g),gd[i]||(gd[i]=[]),gd[i].push(g),a.addEventListener?a!=aa&&a.customEvent_||a.addEventListener(b,j,e):a.attachEvent(b in hd?hd[b]:hd[b]="on"+b,j),g}function kd(){var a=ld,b=$c?function(c){return a.call(b.src,b.Ka,c)}:function(c){return c=a.call(b.src,b.Ka,c),c?void 0:c};return b}function md(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)md(a,b[f],c,d,e);return null}return a=jd(a,b,c,!0,d,e),b=a.key,ma[b]=a,b}function nd(a,b,c,d,e){if("array"==ba(b)){for(var f=0;f<b.length;f++)nd(a,b[f],c,d,e);return null}if(d=!!d,f=fd,a=b in f&&(f=f[b],d in f&&(f=f[d],a=ea(a),f[a]))?f[a]:null,!a)return!1;for(f=0;f<a.length;f++)if(a[f].Ka==c&&a[f].N==d&&a[f].Le==e)return od(a[f].key);return!1}function od(a){var b=ma[a];if(!b||b.tb)return!1;var c=b.src,d=b.type,e=b.th,f=b.N;if(c.removeEventListener?c!=aa&&c.customEvent_||c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in hd?hd[d]:hd[d]="on"+d,e),c=ea(c),gd[c]){var e=gd[c],g=cd(e,b);g>=0&&bd.splice.call(e,g,1),0==e.length&&delete gd[c]}return b.tb=!0,(b=fd[d][f][c])&&(b.hh=!0,pd(d,f,c,b)),delete ma[a],!0}function pd(a,b,c,d){if(!d.zd&&d.hh){for(var e=0,f=0;e<d.length;e++)d[e].tb?d[e].th.src=null:(e!=f&&(d[f]=d[e]),f++);d.length=f,d.hh=!1,0==f&&(delete fd[a][b][c],fd[a][b].aa--,0==fd[a][b].aa&&(delete fd[a][b],fd[a].aa--),0==fd[a].aa&&delete fd[a])}}function qd(a){var b=0;if(null!=a){if(a=ea(a),gd[a]){a=gd[a];for(var c=a.length-1;c>=0;c--)od(a[c].key),b++}}else la(function(a,c){od(c),b++})}function rd(a,b,c,d,e){var f=1;if(b=ea(b),a[b]){var g=--a.K,h=a[b];h.zd?h.zd++:h.zd=1;try{for(var i=h.length,j=0;i>j;j++){var k=h[j];k&&!k.tb&&(f&=!1!==sd(k,e))}}finally{a.K=Math.max(g,a.K),h.zd--,pd(c,d,b,h)}}return Boolean(f)}function sd(a,b){return a.dd&&od(a.key),a.handleEvent(b)}function td(a,b){var c=b.type||b,d=fd;if(!(c in d))return!0;if(ca(b))b=new xc(b,a);else if(b instanceof xc)b.target=b.target||a;else{var e=b;b=new xc(c,a),oa(b,e)}var f,g,e=1,d=d[c],c=!0 in d;if(c){for(f=[],g=a;g;g=g.fb())f.push(g);g=d[!0],g.K=g.aa;for(var h=f.length-1;!b.sb&&h>=0&&g.K;h--)b.currentTarget=f[h],e&=rd(g,f[h],b.type,!0,b)&&0!=b.Pd}if(!1 in d)if(g=d[!1],g.K=g.aa,c)for(h=0;!b.sb&&h<f.length&&g.K;h++)b.currentTarget=f[h],e&=rd(g,f[h],b.type,!1,b)&&0!=b.Pd;else for(d=a;!b.sb&&d&&g.K;d=d.fb())b.currentTarget=d,e&=rd(g,d,b.type,!1,b)&&0!=b.Pd;return Boolean(e)}function ld(a,b){if(a.tb)return!0;var c=a.type,d=fd;if(!(c in d))return!0;var e,f,d=d[c];if(!$c){var g;if(!(g=b))a:{g=["window","event"];for(var h=aa;e=g.shift();){if(null==h[e]){g=null;break a}h=h[e]}g=h}if(e=g,g=!0 in d,h=!1 in d,g){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var i=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(j){i=!0}(i||void 0==e.returnValue)&&(e.returnValue=!0)}}i=new ed,i.vd(e,this),e=!0;try{if(g){for(var k=[],l=i.currentTarget;l;l=l.parentNode)k.push(l);f=d[!0],f.K=f.aa;for(var m=k.length-1;!i.sb&&m>=0&&f.K;m--)i.currentTarget=k[m],e&=rd(f,k[m],c,!0,i);if(h)for(f=d[!1],f.K=f.aa,m=0;!i.sb&&m<k.length&&f.K;m++)i.currentTarget=k[m],e&=rd(f,k[m],c,!1,i)}else e=sd(a,i)}finally{k&&(k.length=0)}return e}return c=new ed(b,this),e=sd(a,c)}function E(){uc.call(this)}function F(a){var b;wa(this,F),F.a.constructor.call(this),this.qa=ud++,a&&(b="min",Ea(a[b])&&(this.gh=a[b]),b="max",Ea(a[b])&&(this.fh=a[b]),b="visibility",b in a&&(this.ae=!!a[b]),b="zIndex",b in a&&(this.Wc=+a[b]||0),b="provider",b in a&&(this.k=a[b]),b="data",b in a&&this.setData(a[b]))}function wd(a){var b,c,d,e=a.ce;return e||(b=(c=a.Wc)!==t,(e=a.O)?(e=wd(e).slice(),e[0]|=b):e=[0|b],e.push(c||0,(d=a.Wh)!==t?d:a.qa),a.ce=e),e}function xd(a,b,c){if(!c||a[0]|b[0])for(var d,e=a.length,f=b.length,g=cb(e,f),h=1,i=1+c;g>h;h+=i)if(d=a[h]-b[h])return d;return c?0:e-f}function yd(a){zd(this,yd,a)}function zd(a,b,c){var d,e,f,g;if(c){for(d=Ad,g=u(c,yd);d--;)if(e=Bd[d],c.hasOwnProperty(e))if(f=c[e],g)a[e]=f;else{if((f=Cd[d](f))===Dd)throw new y(b,0,e+": "+c[e]);f!==a[e]&&f!==t&&(a[e]=f)}b=g?c.Re:0<a.lineWidth&&Ma(a.strokeColor),a.Re=b,b=g?c.Xb:Ma(a.fillColor),a.Xb=b}return a}function Fd(a,b){b&&this.Vh(b.style),a&&(this.xd=!0),Fd.a.constructor.call(this,b)}function Gd(a,b,c){if(!u(this,I)&&!u(this,Hd))throw Error("Illegal constructor call "+xa(Gd));Gd.a.constructor.call(this,a,c),this.q(b)}function Id(a,b,c,d){var e,f,g=[],h=b.length;for(e=0;h>e;e++)f=b[e],f.length&&g.push(Jd(a,f,c,d));return g}function Jd(a,b,c,d){var e,f=[],g=b.length,h=0;for(a.ig=0,e=e||0;g>h;)f.push(Kd(a,b[h++],b[h++],e,d));return c&&f.push(Kd(a,b[0],b[1],e,d)),f}function Kd(a,b,c,d,e){var f=a.ig;return f&&180<hb(f-c)&&(c+=0>f?-360:360),a.ig=c,e.Te(b,c+d)}function Hd(a,b){var c;Hd.a.constructor.call(this,!1,a,b),b&&(c=b.arrows)&&this.Ph(c)}function Nd(a,b){return a.de-b.de}function Ld(a,b){var c,d,e,f,g,h,i=a.la.C,j=-2,k=[],l=Yb;for(c=nc(a.uh,b).sort(Nd),e=c.length,f=0;e>f;f++)d=c[f],g=d.de,d=3*g,j+1!==g&&k.push(h=[i[d],i[d+1]]),j=g,d+=3,g=i[d],d=i[d+1],h.push(g,d);if(a.la.nd()){for(i=[],f=0;f<k.length;f++)if(h=k[f],e=h.length){for(j=[],c=0;e>c;c+=2)0==c||c>0&&!l(h[c+1],h[c-1])?j.push(h[c],h[c+1]):(j.push(h[c],h[c+1]),i.push(j),j=[],h[c-1]+=0>h[c-1]?360:-360,j.push(h[c-2],h[c-1],h[c],h[c+1]));i.push(j)}k=i}return k}function I(a,b){I.a.constructor.call(this,!0,a,b)}function Pd(a,b,c,d){for(var e,f,g=c.length,h=1,i=0,j=c[0];g>h;h++)e=c[h],f=j.y+(a-j.x)/(e.x-j.x)*(e.y-j.y),cb(j.x,e.x)<=a&&db(j.x,e.x)>=a&&(d?f>b:b>f)&&i++,j=e;return i%2>0}function Zd(a){var b,c,d,e=[],f=a;do c=eb(100*(f.Hd?f.Hd:f.x))/100,d=eb(100*(f.rf?f.rf:f.y))/100,(!b||.01<jb(kb(b.x-c,2)+kb(b.y-d,2)))&&(b=new J(c,d),e.push(b)),f=f.next;while(f&&f!==a);return e}function Od(a){var b,c,d;b=[[]],c=a.Ha().C,d=[];var e,f,g,h=c.length,i=!1;for(e=0;h>e;e+=3)f=c[e],g=c[e+1],i||180!=hb(g)||(d.push(f),d.push(g),d.push(f),d.push(-g),i=!0),d.push(f),d.push(g);if(c=d,a=a.o(),d=a.U(),360>d&&-180==a.j&&(a=new B(a.s,180,a.r,a.n)),360>d&&180==a.n&&(a=new B(a.s,a.j,a.r,-180)),a.Vb()){g=c.length;var j;for(d=-1,e=Yb,h=0;g-2>h;h+=2)if(e(c[h+1],c[h+3])){d=h+2;break}-1===d&&e(c[g-1],c[1])&&(d=g),-1!==d&&(e=c[d-2],h=c[d-1],f=c[d%g],j=c[(d+1)%g],180!==hb(e)&&180!==hb(f)&&(i=hb(f-e),g=hb(j-h),g+=g>180?-360:0,j=hb(180-j),j+=j>180?-360:0,i/=hb(g)/hb(j),e=f+(f>e?-i:i),h=h>0?180:-180,c.splice(d,0,e,h,e,-h)))}return b[0]=$d([].concat(c),a.j),360>a.U()&&a.qe(new A(a.s,180))&&(c=$d([].concat(c),a.n),b.push(c)),b}function $d(a,b){for(var c,d=[],e=Number.POSITIVE_INFINITY,f=-1,g=a.length,d=0;g>d;d+=2)c=hb(a[d+1]-b),c+=c>180?360-c:c,e>c&&(e=c,f=d);return d>0?(d=a.splice(f,a.length-f),d.concat(a)):a}function ae(a,b){ae.a.constructor.call(this,null,b),this.Bf(a)}
function be(a,b,c){if(!a||!b||!c)throw new y(be,null,"Must specify name, version and revision parameter");this.name=a,this.version=b,this.revision=c}function de(a,b,c){if(!a)throw new y(de,1,"Must specify a name parameter");return ce[a]||(ce[a]=new be(a,b,c))}function ee(){}function fe(a){a&&"function"==typeof a.g&&a.g()}function ge(a,b){var c=a.bb(),d=c.ownerDocument;ge.a.constructor.call(this),this.W=a,this.u=c=c.appendChild(he(d,"DIV","position:absolute;bottom:4em;left:0.5em;z-index:1;height:0px")),this.le=he(d,"DIV","position:absolute;top:0px;pointer-events:none;",ie),this.ni=c.appendChild(this.le).firstChild.firstChild.style,c=c.appendChild(he(d,"DIV","-webkit-touch-callout: none;-webkit-user-select:none;-khtml-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select:none;whiteSpace:nowrap;position:relative;top:2.2em;")),this.jd=c.appendChild(he(d,"SPAN")),this.jd.setAttribute("unselectable","on"),this.ai=c.appendChild(he(d,"A","color:inherit","Terms of use")),this.ai.target="_blank",this.Qj=c=c.appendChild(he(d,"SPAN","color:inherit"," | ")),this.Rj=c.appendChild(function(){var a=he(d,"A","color:inherit","Report image");return a.target="_blank",a}()),this.Ug=je.slice(),this.Sd(b),this.kc=s(this.kc,this),this.va=s(this.va,this),this.W.addEventListener(this.W.b.Pf,this.kc),this.W.f.addEventListener("add",this.va),this.W.f.addEventListener("remove",this.va),this.W.f.addEventListener("set",this.va),this.va()}function he(a,b,c,d){return a=a.createElement(b),c&&(a.style.cssText=c),d&&(a.innerHTML=d),a}function oe(a,b,c,d){oe.a.constructor.call(this,a,b,c),this.modifiers=d}function L(){L.a.constructor.call(this),this.P={},this.Nd={position:new A(0,0),pitch:0,yaw:0,roll:0,fov:70},this.ub=0}function se(a,b,c,d){var e,f,g,h=d.length;for(a.Sc=0,a.ff={},a.bf={};h--;)e=d[h],g=c[e],f=b[e],null!=g?(a.ff[e]=f,a.bf[e]=g,b[e]=g,(Lb(g)&&Lb(f)&&(g.lat!==f.lat||g.lng!==f.lng)||!Lb(g)&&g!==f)&&(a.Sc|=re[e])):delete b[e];return b}function te(a){te.a.constructor.call(this,L.prototype.b.m),this.requested=a}function J(a,b){this.x=+a,this.y=+b}function ue(){}function ve(a,b){this.projection=a||M,this.l=0,this.Tc=this.exp=ib(b||256)/sb,we(this),this.y=this.x=0}function we(a){30<a.Tc&&(a.Tc=30),a.w=kb(2,a.Tc),a.h=kb(2,a.Tc)}function N(a){N.a.constructor.call(this),a=a||{},this.min=0,this.max=22,this.qi=!!a.dark,a.min&&this.Rd(a.min),a.max&&this.Qd(a.max),this.pixelProjection=new ve(a.projection,a.minWorldSize)}function O(a){var b={};O.a.constructor.call(this,a),this.td=b.previousSibling=b.nextSibling=b,a&&"objects"in a&&this.Fb(a.objects)}function xe(a,b,c){a.hc(c.k)}function ye(a){a.Kc()}function ze(a,b,c){a.p(c.tg)}function Ae(a){this.push(a)}function Md(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o=a.length;if(o){for(f=[];o--;)for(m=a[o],k=m.length,l=0,h=1;k>h;h++)(n=Be(m[h-1],m[h],c,b,d,e))&&(i=n[0],j=n[1],l&&l.F(i)?g.push(j):f.push(g=n),l=j);k=f.length,k>1&&f[0][0].F(f[k-1][f[k-1].length-1])&&f[0].splice.apply(f[0],[0,1].concat(f.splice(k-1,1)[0]))}else f=a;return f}function Be(a,b,c,d,e,f){var g=a.x;a=-a.y;var h=b.x;b=-b.y;var i,j,k;if(c=-c,f=-f,g>h){if(h>e||d>g)return;j=g,k=a,g=h,a=b,h=j,b=k,j=1}else if(g>e||d>h)return;if(a>b){if(b>c||f>a)return;i=1,a=-a,b=-b,k=f,f=-c,c=-k}else if(a>c||f>b)return;if(d>g){if((a+=(d-g)*(b-a)/(h-g))>c)return;g=d}if(f>a){if((g+=(f-a)*(h-g)/(b-a))>e)return;a=f}return h>e&&(b=a+(e-g)*(b-a)/(h-g),h=e),b>c&&(h=g+(c-a)*(h-g)/(b-a),b=c),i&&(a=-a,b=-b),j?[new J(h,-b),new J(g,-a)]:[new J(g,-a),new J(h,-b)]}function Sd(a,b,c,d,e,f){var g={};return g.x=a,g.y=b,g.next=c,(g.Z=d)&&(g.Z.next=g),c&&(g.next.Z=g),g.cf=null,g.af=null,g.V=e,g.Be=0,g.be=0,g.alpha=f,g}function Td(a){for(;a&&a.V;)a=a.next;return a}function Rd(a){if(a)for(;a.next;)a=a.next;return a}function Yd(a){var b=a;if(b)do b=b.next;while(b!=a&&(!b.V||b.V&&b.be));return b}function Xd(a){var b=Rd(a);b.Z.next=a,a.Z=b.Z}function Ce(a,b,c,d){return jb((a-c)*(a-c)+(b-d)*(b-d))}function De(a,b,c,d,e,f){var g=a.x+f*(b.x-a.x);f=a.y+f*(b.y-a.y),e.Yf=Ce(a.x,a.y,g,f)/Ce(a.x,a.y,b.x,b.y),e.Zf=Ce(c.x,c.y,g,f)/Ce(c.x,c.y,d.x,d.y),e.ck=1*g,e.dk=1*f}function Ud(a,b,c,d,e){var f,g;g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x);var h;return g||(a.Hd=a.x,a.rf=a.y,a.x+=(bb()-.5)/1e4,a.y+=(bb()-.5)/1e4,g=(b.x-a.x)*(d.y-c.y)-(b.y-a.y)*(d.x-c.x))?(f=((c.x-a.x)*(d.y-c.y)-(c.y-a.y)*(d.x-c.x))/g,g=((b.y-a.y)*(c.x-a.x)-(b.x-a.x)*(c.y-a.y))/g,0>f||f>1||0>g||g>1?0:(De(a,b,c,d,e,f),0===e.Yf&&0<=(h=e.Zf)&&1>=h&&(a.Hd||(a.Hd=a.x,a.rf=a.y),a.x+=(bb()-.5)/1e4,a.y+=(bb()-.5)/1e4,De(a,b,c,d,e,f)),1)):0}function Wd(a,b){var c,d,e,f=0;for(Sd(0,a.y,null,null,0,0),d=Sd(-2147483648,a.y,null,null,0,0),c=b;c.next;c=c.next)(e=Ud(d,a,c,c.next,{}))&&f++;return f%2}function Vd(a,b,c){for(;b!==c&&b.alpha<a.alpha;)b=b.next;a.next=b,a.Z=b.Z,a.next.Z=a,a.Z&&(a.Z.next=a)}function Qd(a){for(var b,c=null,d=0,e=a.length;e>d;d++)b=Sd(a[d].x,a[d].y,c,null,0,0),(b.next=c)&&(c.Z=b),c=b;return c}function Ee(a,b,c,d,e){void 0===d&&(d=0,e=a.length-1);for(var f,g,h=b*b,i=0,j=d,k=a[d].x,l=a[d].y,m=a[e].x,n=a[e].y,o=d+1,p=k!==m?(n-l)/(m-k):null;e>o;)g=a[o++],f=g.x,g=g.y,i<(f=cb(null!==p?kb(hb(g-p*f-(l-p*k)),2)/(kb(p,2)+1):hb(f-k),kb(f-k,2)+kb(g-l,2),kb(f-m,2)+kb(g-n,2)))&&(i=f,j=o-1);return i>=h||c>0?(d=Ee(a,b,c=(c||0)-1,d,j),d.splice(d.length-1,1),d=d.concat(Ee(a,b,c,j,e))):d=[a[d],a[e]],d}function Fe(a,b,c,d){this.key="",this.x=a,this.y=b,this.z=c,this.data=d,this.valid=!0}function P(a,b,c,d,e,f,g){P.a.constructor.call(this,b,c,d,null),this.key=a,this.ef=g,this.Ta=e,1!==f&&(this.wa=f),this.ua=null,this.Oa={}}function Ge(a,b){return xd(wd(a),wd(b),!1)}function He(a){return a.ef.getInvalidations(vd.SPATIAL)}function Ie(a){var b,c,d,e=a.Eh||Ab,f=He(a),g=a.ua||a.xb(),h=g.length;if(a.sa=!0,a.ta=!0,f.Ne(e))if(f.Ng(e)||f.Rg(e))a.sa=a.ta=!1;else if(f.yd(e)||f.Bc(e)){if(f.yd(e)){if(b=a.ef.requestSpatialsByTile(a,!1,!1),c=b.length,c!==h)a.ta=!1;else for(;c--&&a.ta;)d=b[c],a.Oa[d.qa]?d.cb().yd(e)&&(a.ta=!1):a.ta=!1;a.sa&=a.ta}if(f.Bc(e))for(;h--&&a.sa;)f=g[h].cb(),f.Ne(e)&&f.Bc(e)&&(a.sa=!1)}else f.Se(e)&&(a.sa=!1)}function Je(a){for(var b=a.length;b--;)a[b]=Ee(a[b],.6,2);return a}function Ke(a,b,c){var d=b.Re;return d&&(a.strokeStyle=b.strokeColor,a.lineWidth=b.lineWidth*c,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.miterLimit=b.miterLimit,a.setLineDash&&b.lineDash!==Sa&&(a.setLineDash(b.lineDash),a.lineDashOffset=b.lineDashOffset)),d}function Me(a,b){var c=b.Xb;return c&&(a.fillStyle=b.fillColor),c}function Le(a,b,c,d,e,f,g){var h,i,j;if(d||e)for(void 0===g&&(g=a.length),i=f||0;g>i;i++)if(f=a[i],h=f.length){for(b.beginPath(),b.moveTo(f[0].x,f[0].y),j=1;h>j;j++)b.lineTo(f[j].x,f[j].y);c&&(b.closePath(),e&&b.fill()),d&&b.stroke()}}function Qe(a,b,c){var d=[];1<arguments.length&&d.push(b),2<arguments.length&&d.push("out of ["+c[0]+"..."+c[1]+"]"),this.message=(a?xa(a):"")+(d.length?" ("+d.join(" ")+")":"")}function Re(a,b){var c=this;if(!da(b))throw new y(Se,1,b);if(!da(a.next||da(a.cycle)))throw new y(Re,2,'Argument "mode" must implement H.util.AsyncQueue.Mode');this.wh=[],this.sh=[],this.pj=a,this.Dj=b,this.Ej=function(){Te(c)},this.tf=null,this.Lh=function(){c.tf||(c.tf=pa.setTimeout(c.Ej,1))}}function Te(a){var b,c=a.sh,d=0,e=a.pj;for(e.hg(),a.tf=null;d<c.length;)b=c[d],b.Og?c.splice(d,1):d++;for(;b=e.next(a.wh,a.sh);)b.cancelled?b.Ya(null,"cancelled"):(c.push(b),a.Dj(b,b.data))}function Ve(){Ue(this,null,null,null)}function Ue(a,b,c,d){return a.data=b,a.cancelled=!1,a.Og=!1,a.vj=c,a.wj=d,a.me=null,a}function We(a,b){We.a.constructor.call(this,new Xe(a),b)}function Xe(a){if(isNaN(a)||0>a)throw new y(We,1,'Argument "maxTime" must be a positive number');this.nj=a,this.Rc=Pe()}function Ye(a){a=a||{},this.min=a.min||0,this.max=a.max||22,this.uid=""+Pa++,a.getCopyrights&&Ba(a.getCopyrights,"Function",Ye)&&(this.getCopyrights=a.getCopyrights),Ye.a.constructor.call(this)}function R(a,b,c){if(!(a>=0))throw new y(R,0,a);if(b&&!da(b))throw new y(R,1,b);if(c&&!da(c))throw new y(R,2,c);this.We=+a,this.Fa=0,this.kh=b,this.filter=c,this.d={},this.Cc=this.Ob=null}function Ze(a,b){return b&&(a.Ob=$e(a,b,a.Ob)),b}function af(a){for(;a.Fa>a.We&&a.Cc;)a.za(a.Cc,!0)}function $e(a,b,c){return c!==b&&((b.$b||b.Ma)&&a.za(b),(b.$b=c)&&(b.Ma=c.Ma,c.Ma=b),b.Ma||(a.Ob=b),b.$b||(a.Cc=b),a.Fa+=b.size),b}function bf(a){var b;if(wa(this,bf),bf.a.constructor.call(this,a),"tileSize"in a){if(b=ib(+a.tileSize)/sb,isNaN(b)||b%1||0>b||b>30)throw new y(bf,0,"tileSize: "+a.tileSize);this.tileSize=+a.tileSize}}function cf(a,b){cf.a.constructor.call(this,b),this.ya=a,this.wa=b.pixelRatio,this.tileSize*=eb(this.wa),this.qf=s(this.qf,this),this.jf=s(this.jf,this),this.uf=s(this.uf,this),this.pf=s(this.pf,this),this.of=s(this.of,this),this.ya.addEventListener(Ye.prototype.b.m,this.of,!1,this),this.Lb=[],this.Yd=new R(b.tileCacheSize||256,this.qf),this.kd=new R(b.dataCacheSize||512,this.jf),this.Dh=new We(20,this.uf),this.pb={},this.Vg=Pe()}function df(a,b){var c=b||{};if(!a)throw new y(ef,0,a);this.S=s(this.S,this),this.k=a,this.k.addEventListener(Ye.prototype.b.m,this.S,!1,this),this.tileSize=a.tileSize,this.Zd={},N.call(this,{min:this.k.min,max:this.k.max,minWorldSize:this.tileSize,projection:c.nk,dark:c.dark})}function gf(a,b){return b[4]-a[4]}function hf(a,b){hf.a.constructor.call(this,new jf(a),b)}function jf(a){if(isNaN(a)||0>a)throw new y(hf,1,'Argument "maxParallel" must be a positive number');this.mj=a}function kf(a,b,c){var d=this;this.Tj=new hf(a||6,function(a){lf(d,a)}),this.sc=c||document,this.Ed=s(this.Ed,this),this.Ee=null,b&&(this.Cd=this.rj)}function lf(a,b){var c,d=b.data;c=a.Cd(function(){var d=c.element;d.ownerDocument!==a.sc&&(c.element=d=a.sc.importNode(d,!0)),b.Ya(d,null)},function(a){b.Ya(null,a)}),b.Qh(c.cancel),d.crossOrigin&&(c.element.crossOrigin=d.crossOrigin),c.element.src=d.url}function mf(a){this.frame=a.createElement("iframe"),this.frame.style.display="none",this.Hf=[],this.sc=a,a.body.appendChild(this.frame)}function S(a){wa(this,S),S.a.constructor.call(this,a),this.Y={},this.entryWeight=1,this.cd=this.getCache(),this.Kb=s(this.Kb,this)}function Se(a){if(!a||!da(a.getURL))throw new y(Se,0,"options.getURL");Se.a.constructor.call(this,a),this.cj=a.getURL,this.entryWeight=this.tileSize=a.tileSize||256,this.pi=a.crossOrigin}function Q(a,b,c,d){this.left=+a,this.top=+b,this.right=+c,this.bottom=+d}function ff(a,b){return new Q(a.x,a.y,b.x,b.y)}function ef(a,b){var c=b||{};this.opacity=c.opacity||1,df.call(this,a,c)}function of(a,b){var c=b||{};c.tileSize=c.tileSize||256,c.pixelRatio=c.pixelRatio||1,this.yb=new cf(a,c),this.zb=new ef(this.yb,{opacity:1}),c.minWorldSize=this.yb.tileSize,of.a.constructor.call(this,c),this.opacity=this.zb.opacity,this.tileSize=this.zb.tileSize,this.ya=a,this.Fd=s(this.Fd,this),this.yb.addEventListener(this.yb.b.m,this.Fd),this.ya.addEventListener("update",this.Fd)}function T(a,b){var c,d,e=b||{};if(!u(a,Element))throw new y(T,0,a);c=a.ownerDocument.createElement("div"),this.u=a,T.a.constructor.call(this),this.padding=new Q(0,0,0,0),this.center=new J(0,0),this.margin=0,this.element=c,c.style.zIndex=0,c.style.height=c.style.width="100%",c.style.position="relative"===a.style.position?"absolute":"relative",this.resize(),a.appendChild(c),(d=e.padding)!==t&&this.Df(d.top,d.right,d.bottom,d.left),this.Cf((d=e.margin)!==t?d:0),(d=e.fixedCenter)!==t&&(this.sg=!!d)}function rf(a){var b=a.padding;a.center.set((a.width+b.left-b.right)/2<<0,(a.height+b.top-b.bottom)/2<<0)}function tf(a){wa(this,tf),tf.a.constructor.call(this,a),a=[];for(var b in vd)a[vd[b]]=new D;this.kb=a}function sf(a,b){this.w=+a,this.h=+b}function U(a,b){var c,d;if(U.a.constructor.call(this),b){if(c="size",c in b){if(d=b[c],!d||isNaN(d.w)||isNaN(d.h))throw new y(U,1,c);this.ic=new sf(d.w,d.h)}if(c="anchor",c in b){if(d=b[c],!d||isNaN(d.x)||isNaN(d.y))throw new y(U,1,c);this.nc=new J(d.x,d.y)}c="hitArea",c in b&&(d=b[c],u(d,uf,U,1),this.Me=b[c]),c="asCanvas",c in b&&(d=b[c],this.je=!(d!==t&&!b[c]))}switch(c=a,vf[Ca(c)]){case 2:wf(this,c,!1),this.Da=c,this.R=1;break;case 1:if(Za(c)){wf(this,c,!0),this.Da=this.je?xf(this,c):c,this.R=1;break}c=c.src;case 0:if(c){c=Oa(c),this.R=0,this.ud=ne.load(c,s(this.yj,this),s(this.xj,this));break}default:throw this.R=-1,new y(U,0,"No image data")}}function xf(a,b){var c=document.createElement("CANVAS");return c.getContext("2d").drawImage(b,0,0,c.width=a.ic.w,c.height=a.ic.h),c}function wf(a,b,c){var d,e,f,g,h;(d=a.ic)?(e=d.w,c=d.h):(e=b.naturalWidth||b.width,0===e&&c&&Na&&(f=!0,(g=b.parentNode)&&(h=b.nextSibling),document.body.appendChild(b)),a.ic=new sf(e=b.naturalWidth||b.width,c=b.naturalHeight||b.height),f&&(g?g.insertBefore(b,h):document.body.removeChild(b))),a.nc||(a.nc=new J(e/2|0,c))}function G(a){a=a||{};var b=new O({provider:this,min:a.min,max:a.max});G.a.constructor.call(this,a),this.Jh=b,b.Q(this),this.Qc=new jc,this.Hc=new jc,this.ld=new jc}function Af(a,b,c){this.Dc=a,this.jc=b,this.pg=!(!c||!c.enableSubpixelRendering),this.ownerDocument=b.oe.ownerDocument,this.Ve={}}function Bf(a,b){return a.gd(b)}function Cf(a,b,c){this.Bd=[],Cf.a.constructor.apply(this,arguments)}function V(a,b){if(z(this.x=+a))throw new y(V,0,a);if(z(this.y=+b))throw new y(V,1,b)}function Df(a){a=a||{},this.oj=a.minSpeed||3,this.bi=a.vectorTolerance||3,this.eh=a.maxSpeed||300,this.ak=a.timeTolerance||50,this.xa=[],this.Ac=this.Lc=!1,this.qb=this.ba=null}function Ef(a,b){var c,d,e,f;return b?(a.bifocal&&b.bifocal?(c=Gf(a),d=Gf(b)):b.bifocal?(c=Hf(a),e=Hf(b).distance(c),f=Hf(b,!0).distance(c),d=e>f?Hf(b,!0):Hf(b)):a.bifocal&&!b.bifocal?(d=Hf(b),e=Hf(a).distance(d),f=Hf(a,!0).distance(d),c=e>f?Hf(a,!0):Hf(a)):(c=a,d=b),e=c.x-d.x,c=c.y-d.y,c=new V(e,c)):c=new V(0,0),c}function If(a){var b;return!a||z(a.bx)||z(a.by)?0:(b=a.bx-a.x,a=a.by-a.y,jb(b*b+a*a))}function Gf(a){var b,c;return!a||z(a.bx)||z(a.by)||(b=a.x-a.bx,c=a.y-a.by,b=new J(a.x-b/2,a.y-c/2)),b}function Hf(a,b){return b?new J(a.bx,a.by):new J(a.x,a.y)}function Jf(){this.bh=91.401472,this.reset()}function Kf(a){Kf.a.constructor.call(this,Jf.prototype.b.Nf),this.offset=a}function Lf(a){return{x:a.Ye*a.bh,y:a.Ze*a.bh,z:a.$e}}function Mf(a,b,c,d){Mf.a.constructor.call(this),this.oe=a,this.t=d,this.element=a.appendChild(this.createElement(a.ownerDocument)),Nf(this,b,c)}function Nf(a,b,c){a.Uh(a.element,a.element.style,a.width=b,a.height=c,a.t)}function Of(a,b,c,d){Of.a.constructor.apply(this,arguments)}function Qf(a,b,c){if(!a)throw new y(Qf,0,a);if(!b)throw new y(Qf,1,b);this.$g=a,this.Ca=b,this.ph={},this.ze=c&&c.enableSubpixelRendering}function Rf(a){return-a*(a-2)}function Sf(a,b){if(z(this.ie=+a))throw new y(Sf,0,a);this.Td=this.ye=0,b&&this.Sh(b)}function Tf(a,b,c,d){if(!da(this.bk=a))throw new y(Tf,0,a);if(z(this.ye=+b))throw new y(Tf,1,b);if(!da(this.ih=c)&&null!=c)throw new y(Tf,2,c);if(!da(this.ng=d)&&null!=d)throw new y(Tf,3,d);this.id=Pa++,this.Ja=!1}function Uf(a,b,c,d){var e=new Q(0,0,0,0);if(Uf.a.constructor.call(this),this.t=d.pixelRatio,this.Vc={1:e.oa(),2:e.oa(),4:e.oa()},this.da=a,!a)throw new y(Uf,0,a);if(Vf(this),a.addEventListener(a.b.m,this.bc,!1,this),this.Ba=s(this.Ba,this),this.ra=s(this.ra,this),this.endInteraction=s(this.endInteraction,this),a.startInteraction=this.Ba,a.interaction=this.ra,a.endInteraction=this.endInteraction,this.Bb=b,!b)throw new y(Uf,1,b);if(this.Aa=s(this.Aa,this),this.control=s(this.control,this),this.endControl=s(this.endControl,this),b.startControl=this.Aa,b.control=this.control,b.endControl=this.endControl,b.addEventListener(b.b.m,this.Gd,!1,this),this.rc=c,!c)throw new y(Uf,2,c)}function Vf(a){var b=a.da,c=b.width,d=b.height,e=b.padding,f=e.top,g=e.left,h=e.bottom,e=e.right,b=b.margin,i=-(c+g-e)/2<<0,j=-(d+f-h)/2<<0,c=c+i,d=d+j,k=a.Vc;a=a.t,k[1].set((i-b)*a,(j-b)*a,(c+b)*a,(d+b)*a),k[2].set(i*a,j*a,c*a,d*a),k[4].set((i+g)*a,(j+f)*a,(c-e)*a,(d-h)*a)}function Wf(a,b){a.style.transition="opacity 1.5s",a.addEventListener("transitionend",function(){b()},!1),a.style.opacity=0}function Zf(a,b,c,d){Zf.a.constructor.apply(this,arguments),this.Xa=this.element.getContext("2d")}function $f(a,b,c){$f.a.constructor.apply(this,arguments),this.Ue=0,this.wa=b.Ub().t,this.ac=[],this.De=s(this.De,this)}function ag(a,b,c){b.clear(b=c.detail),delete b.Yc,a.Ue--,c=(a=c.marker).icon,c.lf&&c.lf(b,c,a)}function W(a,b,c,d){var e;W.a.constructor.call(this,a,b,c,d),this.rb=new J(0,0),(e=d.renderBaseBackground)&&(this.Mj=e.lower,this.Lj=e.higher),this.ze=!!d.enableSubpixelRendering,this.Zj=1e3,this.Wg=this.l=0,this.Kf=this.Tg=!1,this.ha=new J(.5,.5),this.ia=ib(this.t)/sb,this.J=new Df,this.B=d=new Jf,this.gf=s(this.gf,this),d.addEventListener(d.b.Nf,this.gf),this.i=new ve,d=a.element,this.Ec=a=d.ownerDocument.createElement("div"),a.style.position="absolute",a.style.width=a.style.height="100%",a.style.zIndex=0,d.insertBefore(a,d.firstChild),this.Ca=new Zf(this.Ec,1,1,this.t),a=this.rc.oc(),d=0,e=a.length;var f;for(this.Pb=[],this.Pb.length=e,this.fc=[],this.fc.length=e,this.Ra=[],this.Ra.length=e,this.Zb=a;e>d;d++)f=a[d],bg(this,d,f,1),0===d&&cg(this,f,!0);dg(this),c.addEventListener("update",this.jh,!1,this),c.addEventListener(c.b.Db,this.mf,!1,this),c.addEventListener(c.b.Eb,this.nf,!1,this),c.addEventListener(c.b.ad,this.mh,!1,this),this.Af=s(W.prototype.Af,this),this.R=eg,this.wg=[],this.Mh=[],this.lg=[],this.Hh(),this.l=fg(this,this.Bb.getZoom()+this.ia),dg(this),gg(this,b.ab().position,this.l),this.M(),this.bc()}function hg(a,b,c){return b=c-b,hb(b)<a.i.w/2?b:b-a.i.w*c/hb(c)}function cg(a,b,c){c=c?b.addEventListener:b.removeEventListener,c.call(b,b.b.Rf,a.nh,!1,a),c.call(b,b.b.Qf,a.nh,!1,a)}function bg(a,b,c,d){var e,f,g,h;c&&(h={enableSubpixelRendering:a.ze},c.requestTiles&&(e=new Qf(c,a.Ca,h)),c.requestMarkers&&(f=new Cf(c,a.Ca,h)),c.requestDomMarkers&&(g=qg(a),g=new $f(c,new Of(a.Ec,g.w,g.h,a.t),h))),d=d||0,a.Pb.splice(b,d,e),a.fc.splice(b,d,f),a.Ra.splice(b,d,g),a.Zb=a.rc.oc()}function dg(a){var b;if(0<a.Zb.length)b=a.Zb[0].max,a.Zg=a.Zb[0].min,a.Yg=b;else{b=a.qc.zoom;var c=b.max;a.Zg=b.min,a.Yg=c}b=rg(a,a.l),b!==a.l&&(a.l=b,a.i.D(b),a.M())}function jg(a,b){var c,d,e=b.requested;return d=(c=e.camera)&&c.position,c=rg(a,rg(a,e.zoom)+a.ia),d=sg({position:new A(d.lat,d.lng)}),a.l=e.animate?a.l:c,d.zoom=c,d}function gg(a,b,c){var d=a.i;d.D(c),a.ha=d.projection.Qb(b),d.x=d.w*a.ha.x,d.y=d.h*a.ha.y}function rg(a,b){var c=a.qc.zoom;return Cb(b,db(c.min,a.Zg),cb(c.max,a.Yg))}function sg(a){return a.yaw=a.pitch=a.roll=0,a.fov=70,a}function tg(a,b,c,d,e){for(var f,g=b.length;g--&&!((f=b[g])&&f.G&&(a=a.concat(f.G(c,d,e)),a.length&&e)););return a}function qg(a){return a=a.Vc[2],{w:a.right-a.left,h:a.bottom-a.top}}function ug(a){Pe()-a.Sg<a.Zj&&!a.Pa?a.zi=Ne(a.Af):(a.Pa&&(pg(a),vg(a)),a.R=eg)}function pg(a){a.wg.length=0,a.Mh.length=0,a.lg.length=0}function wg(a,b,c,d,e,f,g){for(var h,i=b.length,j=a.Zb,k=!!i,l=0,l=0;i>l;l++)b[l]&&((h=b[l].$(d,e,a.i,f,!1,g))&&!c[l]&&(vg(a,j[l]),c[l]=!0),c[l]||(k=!1));return k}function vg(a,b){a.dispatchEvent({type:a.b.Tf,target:b||a})}function ng(a){a.Sg=Pe(),a.R===eg&&(a.Pa=!1,a.R=1,ug(a))}function xg(a){return sg({position:a.i.projection.Kd(a.ha)})}function yg(a,b,c){lg(a,b*a.t,c*a.t),a.rb.set(0,0),a.M(),ng(a)}function lg(a,b,c){var d=a.i;a=a.ha,d.x=Bb(d.x+b,d.w),d.y=db(0,cb(d.w,d.y+c)),a.x=d.x/d.w,a.y=d.y/d.h}function mg(a,b,c,d){var e=a.t,f=a.da.center;c===+c&&d===+d?(c=(c-f.x)*e,d=(d-f.y)*e,a.rb.set(c,d),lg(a,c,d),a.i.D(b),lg(a,-c,-d)):(a.rb.set(0,0),a.i.D(b)),a.l=b,a.M(),ng(a)}function ig(a){og(a,!0),a.B.ca()&&a.endControl(!0),a.J.ca()&&a.endInteraction(!0),og(a,!0)}function fg(a,b){return rg(a,rg(a,b-a.ia)+a.ia)}function Ag(a,b){var c,d,e=a.ha,f=a.i.projection.Qb(b.camera.position),g=a.i.cc(f),h=g.y,g=g.x,i=b.zoom,j=a.i.cc(e),e=j.y,k=j.x,j=a.l,l=a.B.xc(),m=a.B.atX,n=a.B.atY,o=0,g=hg(a,k,g),g=g-k,h=h-e,j=i-j,e=jb(g*g+h*h+j*j);0!==l&&0!==e&&(d={x:g/e,y:h/e,z:j/e},c=l*l/(2*e),kg(a,function(b,e){var g,h,j;1!==b?(g=l*e-c*e*e/2,h=g-o,(j=d.z*h)&&(j=fg(a,a.l+j),mg(a,fg(a,j),m,n)),yg(a,eb(d.x*h),eb(d.y*h)),o=g):(a.ha=f,mg(a,fg(a,i),m,n),a.M(),ng(a))},2*e/l))}function zg(a,b,c){c=c||0,b.z&&mg(a,fg(a,a.l+b.z*c),a.B.atX,a.B.atY),yg(a,b.x*c,b.y*c)}function kg(a,b,c,d,e){a.Ua&&a.Ua.ca()&&a.Ua.stop(!0),a.Ua=new Tf(b,c,d,e),a.Ua.start()}function og(a,b){a.Ua&&a.Ua.ca()&&a.Ua.stop(b)}function X(){this.d=[],X.a.constructor.call(this)}function Bg(a,b,c){a=a.d.length;var d;if(c)d=a;else if(z(d=0>(d=+b)?db(0,a+d):cb(a,d)))throw new Qe(X,b,[0,a-1]);return d}function Cg(a,b,c,d,e,f){Cg.a.constructor.call(this,b,a),this.idx=c,this.added=d,this.removed=e,this.moved=f}function Dg(a){if(Dg.a.constructor.call(this),this.dispatchEvent=s(this.dispatchEvent,this),a)for(var b=0,c=a.length;c>b;b++)this.add(a[b])}function Y(a,b,c){if(Y.a.constructor.call(this),this.Ae=s(Y.prototype.Ae,this),this.X=Eg(c,Y),this.ma=c=new L,this.Ad=!1,c.addEventListener(c.b.mc,this.oh,!1,this),!u(a,Element))throw new y(Y,0,a);c=this.u=a.ownerDocument.createElement("div");var d=c.style;if(d.position="relative",d.height=c.style.width="100%",d.overflow="hidden",d.webkitTapHighlightColor="transparent","transparent"!==d.webkitTapHighlightColor&&(d.webkitTapHighlightColor="rgba(0,0,0,0)"),a.appendChild(c),this.Cb=new T(this.u,this.X),this.Cb.addEventListener(this.Cb.b.mc,this.oh,!1,this),a=this.f=new Dg(this.X.layers),a.addEventListener(a.b.ad,this.kf,!1,this),a.addEventListener(a.b.Db,this.kf,!1,this),a.addEventListener(a.b.Eb,this.kf,!1,this),this.Fc=new G,this.df=new of(this.Fc,this.X),this.Wf(this.df),this.Ib=null,this.f.add(b,0),this.v=this.te(this.X.engineType||Fg.P2D,this.X),b=this.X.center||new A(0,0),a=+this.X.zoom||0,c=this.X.bounds,this.Dd=s(this.Dd,this),this.ve=s(this.ve,this),u(c,B)?this.Gf(c):(this.Nc(b),this.setZoom(a)),b=this.X.imprint,b!==t&&"object"!=typeof b)throw new y(Y,1,"imprint");this.Ia=null===b?b:new ge(this,b),b=this.X.autoColor,this.ke=b===t||!!b,Gg(this)}function Eg(a,b){var c;if(a){if(c=a.pixelRatio,c===t)a.pixelRatio=1;else if(!(c>0))throw new y(b,0,"pixelRatio: "+c)}else a={pixelRatio:1};return a.renderBaseBackground||(a.renderBaseBackground={lower:3,higher:2}),a}function Gg(a){a.Ia&&a.ke&&a.Ia.Sd({invert:a.Ib.qi})}function Hg(a,b,c){a.dispatchEvent(c?new oe(a.b.Of,c.newValue,c.oldValue,c.modifiers):a.b.Of+b)}function Ig(a,b,c){function d(){var a=j.ob.bind(j),b=+i.timeout||0;Jg?(Kg(j,"timeout",a),e.timeout=b):b&&(j.fi=setTimeout(function(){e.abort(),j.ob({type:"timeout"})},b)),Kg(j,"error",a),Kg(j,"load",a),e.send(i.data)}var e,f,g,h=c&&c.headers||{},i={},j=this;if(!da(b))throw new y(Ig,1,"function required");a+="",oa(h,Lg.headers,h),oa(i,Lg,c||{}),i.headers=h,this.bg=b,this.ka=e=new XMLHttpRequest,b=i.method;try{e.open(b,a,!0);for(f in i.headers)(g=i.headers[f])&&e.setRequestHeader(f,g);e.withCredentials=!!i.withCredentials,d()}catch(k){if(Mg)this.ob({type:"cors"});else{this.ka=e=new XDomainRequest;try{e.open(b,a),d()}catch(l){this.ob({type:"cors"})}}}}function Kg(a,b,c){Mg?a.ka.addEventListener(b,c):a.ka["on"+b]=c}function Ng(a,b,c){Mg?a.ka.removeEventListener(b,c):a.ka["on"+b]=null}function Z(a,b,c){Z.a.constructor.call(this,null,c),this.Nc(a),this.Ff(b),c&&"precision"in c&&this.Ef(c.precision)}function Og(a,b){var c,d=a;if(!u(d,Element)){if(Pg.innerHTML=d,d=Pg.firstElementChild,!d)throw new y(Og,0,"No element data");Pg.removeChild(d),c=!0,Pg.innerHTML=""}this.pe=0!==Ta(d).length,this.og=c?d:Ua(d,pa.document,this.pe),b&&(c="onAttach",c in b&&Ba(d=b[c],"Function",Og,1,c)&&(this.hf=d),c="onDetach",c in b&&Ba(d=b[c],"Function",Og,1,c)&&(this.lf=d))}function uf(a,b){var c,d,e,f,g,h,i;if(f=a,e=[Qg.RECT,Qg.CIRCLE,Qg.POLYGON],b=[].concat(b),c=d=b.length,-1===e.indexOf(f))throw new y(uf,0,a);if(!b)throw new y(uf,1,b);for(;d--;)if(z(b[d]))throw new y(uf,1,b);if(f===Qg.RECT&&c>3&&(b=[b[0],b[1],b[2],b[1],b[2],b[3],b[0],b[3]],f=Qg.POLYGON),f===Qg.CIRCLE&&c>2&&(e=b[2],e>0)){for(f=b[0],g=b[1],d=cb(2*gb(e),40),h=360/d,b=[];d--;)i=h*d*yb,b.push(f+mb(i)*e,g+ob(i)*e);f=Qg.POLYGON}if(f!==Qg.POLYGON||!c||b.length%2)throw new y(uf,1,b);this.Aj=b}function Rg(a,b){var c;wa(this,Rg),Rg.a.constructor.call(this,b),this.setPosition(a),b&&"icon"in b&&(c=b.icon),this.Oc(c||Sg(this))}function Sg(a){var b=a.si;return b||(b=a.constructor.prototype.si=a.fg(Tg)),b}function zf(a,b){zf.a.constructor.call(this,a,b)}function yf(a,b){yf.a.constructor.call(this,a,b)}function Ug(a){if(!a||!da(a.requestData))throw new y(Ug,0,"options.requestData");Ug.a.constructor.call(this,a),this.Sj=a.requestData,this.Gj=!!a.providesDomMarkers||!1}function Vg(a,b){Vg.a.constructor.call(this,a,b)}function Xg(a,b,c,d,e){var f;f=fb(c),a.pixelProjection.D(f),b=a.md(b),f=a.zc(b,f),c=a.wc(f,f.left>f.right,~~c,d,e),a=c.tiles,c=c.total,d=a.length,e=[];var g;for(g=0;d>g;g++)for(f=a[g],b=f.data.length;b--;)e.push(f.data[b]);return{markers:e,total:a.length,requested:c}}var p,aa=this,ga="closure_uid_"+(1e9*Math.random()>>>0),ha=0,na="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),pa=function(){return this}();q("H.lang.inherits",r),q("H.lang.extend",oa);var s=ka;q("H.lang.bind",s);var qa=String,t=ra(),sa=ra(null);q("H.lang.tokenize",ta);var ua="prototype constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Da=parseFloat,z=isNaN;q("H.lang.forEachProp",Ga);var La=/^\s*(rgb|hsl)a\s*\(.+,([^,]+)\)\s*$/,Na=!!pa.VBArray;q("H.util.getSuperProto",function(a){return a.a}),q("H.util.eval",function(a){return eval(a)}),q("H.util.getValue",function(a,b){return a!==t?a:b}),q("H.util.svgToDataUrl",Oa);var Pa=0,Sa=[];q("H.util.cloneNode",Ua),q("H.util.removeNode",Wa);var Xa,Ya=document.createElement("CANVAS");Ya.width=Ya.height=1,Xa=Ya.getContext("2d"),q("H.map.ArrowStyle",$a),$a.prototype.Xb=!0,oa($a.prototype,{fillColor:"rgba(255,255,255,.75)",width:1.2,length:1.6,frequency:5}),$a.prototype.Fe=function(){return new $a(this)},$a.prototype.F=function(a){var b=this===a;return!b&&a&&(b=a.width===this.width&&a.fillColor===this.fillColor&&a.length===this.length&&a.frequency===this.frequency),b},$a.prototype.equals=$a.prototype.F,q("H.lang.InvalidArgumentError",y),y.prototype=Error(),y.prototype.name="InvalidArgumentError";var ab=Math,bb=ab.random,cb=ab.min,db=ab.max,eb=ab.round,fb=ab.floor,gb=ab.ceil,hb=ab.abs,ib=ab.log,jb=ab.sqrt,kb=ab.pow,lb=ab.exp,mb=ab.sin,nb=ab.asin,ob=ab.cos,pb=ab.tan,qb=ab.atan,rb=ab.atan2,sb=ab.LN2,tb=ab.PI,ub=tb/2,vb=tb/4,wb=2*tb,xb=3*tb,yb=tb/180,zb=180/tb,Ab=kb(-2,53),Gb={undefined:"GL",GL:"GL",OL:"OL",SL:"SL",SB:"SB",WE:"WE",WG:"WG"};q("H.geo.AltitudeContext",Gb),q("H.geo.Point",A),A.prototype.F=function(a){return this===a||!!a&&this.lat===a.lat&&this.lng===a.lng&&Gb[this.ctx]===Gb[a.ctx]&&(this.alt||0)===(a.alt||0)},A.prototype.equals=A.prototype.F,A.prototype.distance=function(a){var b,c;return this===a||this.lat===a.lat&&this.lng===a.lng?a=0:(b=this.lat*yb,c=a.lat*yb,a=12742001.58*nb(cb(1,jb(kb(mb((b-c)/2),2)+ob(b)*ob(c)*kb(mb((this.lng*yb-a.lng*yb)/2),2))))),a},A.prototype.distance=A.prototype.distance,A.prototype.If=function(a,b,c){var d,e,f,g,h,i;if(c){if(b/=6371000.79){a*=yb,d=yb*this.lat,f=mb(d),g=mb(b),h=ob(b),e=yb*this.lng;var j=ob(d);d=nb(j*ob(a)*g+f*h),a=rb(mb(a)*j*g,h-f*mb(d)),j=((e+a+tb)%(2*tb)-tb)*zb}return b?new A(d*zb,(j+540)%360-180):this}return a=(a%360+360)%360,0===(a+90)%180?(d=this.lng+b/(6371000.79*wb*ob(this.lat*yb))*(270===a?-360:360),new A(this.lat,(d+540)%360-180)):((b/=6371000.79)&&(a*=yb,e=this.lat*yb,f=this.lng*yb,g=e+b*ob(a),h=g-e,d=ib(pb(g/2+vb)/pb(e/2+vb)),d=z(h/d)?ob(e):h/d,i=b*mb(a)/d,hb(g)>ub&&(g=g>0?tb-g:-(tb+g))),b?new A(g*zb,((f+i+xb+(hb(e+h)>ub?tb:0))%wb-tb)*zb):this)},A.prototype.walk=A.prototype.If,A.validate=Mb,A.fromIPoint=Nb,q("H.geo.Rect",B),B.prototype.F=function(a){return this===a||!!a&&this.s===a.s&&this.j===a.j&&this.r===a.r&&this.n===a.n},B.prototype.equals=B.prototype.F,B.prototype.gb=function(){return this.Uc||(this.Uc=new A(this.s,this.j)),this.Uc},B.prototype.getTopLeft=B.prototype.gb,B.prototype.$a=function(){return this.pc||(this.pc=new A(this.r,this.n)),this.pc},B.prototype.getBottomRight=B.prototype.$a,B.prototype.bj=function(){return this.s},B.prototype.getTop=B.prototype.bj,B.prototype.Gi=function(){return this.r},B.prototype.getBottom=B.prototype.Gi,B.prototype.Ri=function(){return this.j},B.prototype.getLeft=B.prototype.Ri,B.prototype.aj=function(){return this.n},B.prototype.getRight=B.prototype.aj,B.prototype.T=function(){return this.Wa||(this.Wa=new A(this.r+(this.s-this.r)/2,Pb(this.j,this.U()))),this.Wa},B.prototype.getCenter=B.prototype.T,B.prototype.U=function(){return Qb(this.j,this.n)},B.prototype.getWidth=B.prototype.U,B.prototype.Sb=function(){return this.s-this.r},B.prototype.getHeight=B.prototype.Sb,B.prototype.Vb=function(){return this.j>this.n},B.prototype.isCDB=B.prototype.Vb,B.prototype.Pg=function(){return!this.U()&&!this.Sb()},B.prototype.isEmpty=B.prototype.Pg,B.prototype.hd=function(a,b,c){var d=this.T();return c||(a=Hb(a,this.hd,0),b=Ib(b,this.hd,1)),b=this.La(a,b,c),a=b.T(),a.lat===d.lat&&a.lng===d.lng&&this.Sb()===b.Sb()&&this.U()===b.U()},B.prototype.containsLatLng=B.prototype.hd,B.prototype.qe=function(a,b){return b||Mb(a,this.qe,0),this.hd(a.lat,a.lng,b)},B.prototype.containsPoint=B.prototype.qe,B.prototype.re=function(a,b){var c,d,e=this.T();if(!b&&!u(a,B))throw new y(this.re,0,a);return d=this.lb(a,b),c=d.T(),c.lat===e.lat&&c.lng===e.lng&&this.Sb()===d.Sb()&&this.U()===d.U()},B.prototype.containsRect=B.prototype.re,B.prototype.La=function(a,b,c,d){if(!c){if(z(a=Hb(a)))throw new y(this.La,0,a);if(z(b=Ib(b)))throw new y(this.La,1,b)}return Rb(this.s,this.j,this.r,this.n,a,b,a,b,d)},B.prototype.mergeLatLng=B.prototype.La,B.prototype.Xe=function(a,b,c){return b||Mb(a,this.Xe,0),this.La(a.lat,a.lng,b,c)},B.prototype.mergePoint=B.prototype.Xe,B.prototype.lb=function(a,b,c){if(!b&&!u(a,B))throw new y(this.lb,0,a);return Rb(this.s,this.j,this.r,this.n,a.s,a.j,a.r,a.n,c)},B.prototype.mergeRect=B.prototype.lb,B.prototype.mb=function(a,b,c,d,e,f){return e||(a=Hb(a,this.mb,0),b=Ib(b,this.mb,1),c=Hb(c,this.mb,2),d=Ib(d,this.mb,3)),Rb(this.s,this.j,this.r,this.n,a,b,c,d,f)},B.prototype.mergeTopLeftBottomRight=B.prototype.mb,B.prototype.Mg=function(a,b){if(!b&&!u(a,B))throw new y(this.Mg,0,a);var c=this.j<=this.n,d=a.j<=a.n,e=this.j<a.n,f=a.j<this.n;return this.r<=a.s&&a.r<=this.s&&(!c&&(!d||e||f)||!d&&(e||f)||e&&f)},B.prototype.intersects=B.prototype.Mg,B.merge=Rb,B.fromPoints=Sb,B.coverPoints=Tb,B.coverLatLngAlts=Ub,B.coverRects=Vb,B.prototype.Ih=function(a,b){Mb(a,this.Ih,0);var c=this.j,d=this.s,e=this.n,f=this.r,g=this.T().lng,h=a.lat-f-(d-f)/2,i=a.lng-g,i=i>180||-180>i?-(g+a.lng):i,c=c+(0>i?2*i:0),c=-180>c?360+c:c,e=e+(i>0?2*i:0),e=e>180?e-360:e,d=h>0?d+2*h:d;return d>=90&&(d=90),f=0>h?f+2*h:f,-90>=f&&(f=-90),b?Ob(b,d,c,f,e):new B(d,c,f,e)},B.prototype.resizeToCenter=B.prototype.Ih,q("H.geo.Strip",C),C.prototype.xf=function(a,b,c){Zb(this,a,b,c,this.xf)},C.prototype.pushLatLngAlt=C.prototype.xf,C.prototype.Ud=function(a,b,c){c&&Wb(c,this.Ud,2);var d;return b&&(this.na-=Xb(this,a-3,a+b+3)),d=c?this.C.splice.apply(this.C,[a,b].concat(c)):this.C.splice(a,b),c&&(this.na+=Xb(this,a-3,a+c.length+3)),b&&!c&&(this.na+=Xb(this,a-3,a-3)),this.I=null,d},C.prototype.spliceLatLngAlts=C.prototype.Ud,C.prototype.Kg=function(a,b,c,d){this.Ud(a,0,[b,c,d])},C.prototype.insertLatLngAlt=C.prototype.Kg,C.prototype.Bh=function(a){this.Ud(a,3)},C.prototype.removeLatLngAlt=C.prototype.Bh,C.prototype.yf=function(a){Zb(this,a.lat,a.lng,a.alt,this.yf)},C.prototype.pushPoint=C.prototype.yf,C.prototype.wd=function(a,b){this.Kg(3*a,b.lat,b.lng,b.alt)},C.prototype.insertPoint=C.prototype.wd,C.prototype.Kj=function(a){this.Bh(3*a)},C.prototype.removePoint=C.prototype.Kj,C.prototype.Ce=function(a,b){var c=this.C,d=3*a,e=c[d],f=c[d+1],c=c[d+2];return b&&(b.lat=e,b.lng=f,b.alt=c,void 0!==c&&this.Xa&&(b.ctx=this.Xa)),b||new A(e,f,c,null!=c?this.Xa:void 0)},C.prototype.extractPoint=C.prototype.Ce,C.prototype.mg=function(a,b,c){var d=this.C;for(b=b||0,c=c||d.length;c>b;b+=3)a(d[b],d[b+1],d[2],b/3)},C.prototype.eachLatLngAlt=C.prototype.mg,C.prototype.nd=function(a){var b=this.na;return a&&(a=this.C,b+=Yb(a[a.length-2],a[1])),
b},C.prototype.getDBCs=C.prototype.nd,C.prototype.Dg=function(){return this.C.length/3},C.prototype.getPointCount=C.prototype.Dg,C.prototype.Pi=function(){return this.C},C.prototype.getLatLngAltArray=C.prototype.Pi,C.prototype.o=function(){var a;if(!(a=this.I)){a=this.C;var b,c,d,e,f,g=a.length,h=3,i=null,j=Rb;if(g>=3)for(b=c=a[0],d=e=a[1],i=new B(b,d,c,e);g>h;h+=3)b=a[h-3],d=a[h-2],c=a[h],e=a[h+1],(d>e&&e-d>180||e>d&&-180>d-e||d>e&&180>hb(e-d))&&(f=d,d=e,e=f),c>b&&(f=b,b=c,c=f),j(i.s,i.j,i.r,i.n,b,d,c,e,i);a=this.I=i}return a},C.prototype.getBounds=C.prototype.o,C.prototype.gj=function(){return null!==this.I},C.prototype.hasBounds=C.prototype.gj,C.isDBC=Yb,C.fromLatLngArray=$b,ac.prototype.flush=function(){this.hb=this.Kh=new cc(null,0,this.cg-this.xh,this.dg-this.yh,this.cg+this.xh,this.dg+this.yh),this.uc=null},ac.prototype.remove=function(a){var b,c=a.vh,d=c.d;if(d&&(b=d.indexOf(a),-1!==b&&(d.splice(b,1),!d.length))){delete c.d;for(var e=this.hb;(d=c.Id)&&!(c.d||c[0]||c[1]||c[2]||c[3]);)c===e&&(e=d),delete c.Id,delete d[c.Zh],c=d;this.hb=e,dc(this)}return(b=b>=0)&&ec(this,a,!1),b},ac.prototype.ib=function(a,b,c,d,e,f){var g=a[8],h=a[9];return f&&(g>d||d<a[5]&&b>=g)&&(h>e||e<a[6]&&c>=h)?b=this.ib(fc(a,(c>=h?2:0)|b>=g),b,c,d,e,f-1):(b=new gc(a,b,c,d,e),(a.d||(a.d=[])).push(b),ec(this,b,!0),dc(this,a)),b},ac.prototype.V=function(a,b,c,d){var e=[];return hc(this,this.hb,e,a,b,c,d),e};var ic=0;p=jc.prototype,p.Nb=0,p.Vb=function(){return this.Oe},p.o=function(){var a,b,c;if(!this.I){c=[];var d;if(d=!this.Ab){a=this.$d;var e;!(e=a.uc)&&(d=a.hb,d.d||d[0]||d[1]||d[2]||d[3])&&(e=[d],e=bc([e,e,e,e],[d[6],d[7],d[4],d[5]]),a.uc=e),d=a=e}d&&(this.Ab=new B(-a[0],a[3],-a[2],a[1])),(b=this.Ab)&&c.push(b);var f,g,h,i;if(!this.Va&&(i=(g=this.fd).length)){for(a=90,d=360,e=-90,f=0;i--;)h=g[i],a=cb(a,h[0]),d=cb(d,h[3]),e=db(e,h[2]),f=db(f,h[1]);this.Va=new B(-a,d,-e,f-360)}(b=this.Va)&&c.push(b),(b=c[0])&&(c[1]&&(b=b.lb(c[1],!0)),this.I=b)}return this.I},p.ib=function(a,b,c,d,e){return e?(e=new gc(null,d,-a,b+360,-c),this.fd.push(e),this.Oe=!0,this.Va&&this.Va.mb(a,b,c,d,!0,this.Va)):(e=this.$d,e=e.ib(e.Kh,b,-a,d,-c,e.ti),this.Ab&&this.Ab.mb(a,b,c,d,!0,this.Ab)),++this.Nb,this.I=null,e},p.wd=function(a){var b=a.lng;return a=a.lat,this.ib(a,b,a,b,!1)},p.remove=function(a){var b,c=!1;return a.vh?(c=this.$d.remove(a),this.Ab=null):(a=(b=this.fd).indexOf(a),(c=a>=0)&&(b.splice(a,1),this.Oe=0<b.length,this.Va=null)),c&&(--this.Nb,this.I=null),c},q("H.map.provider.Invalidations",D),D.MARK_INITIAL=Ab,D.prototype.update=function(a,b){b!==oc&&(this.Hb=a,b&pc&&(this.Xh=a),b&qc&&(this.ci=a),b&rc&&(this.Xf=a),b&sc&&(this.Ch=a),b&tc&&(this.hi=a))},D.prototype.update=D.prototype.update,D.prototype.Ti=function(){return this.Hb},D.prototype.getMark=D.prototype.Ti,D.prototype.Hb=Ab,D.prototype.Ne=function(a){return this.Hb>a},D.prototype.isAny=D.prototype.Ne,D.prototype.ci=Ab,D.prototype.Bc=function(a){return this.ci>a},D.prototype.isVisual=D.prototype.Bc,D.prototype.Xh=Ab,D.prototype.yd=function(a){return this.Xh>a},D.prototype.isSpatial=D.prototype.yd,D.prototype.Xf=Ab,D.prototype.Ng=function(a){return this.Xf>a},D.prototype.isAdd=D.prototype.Ng,D.prototype.Ch=Ab,D.prototype.Rg=function(a){return this.Ch>a},D.prototype.isRemove=D.prototype.Rg,D.prototype.hi=Ab,D.prototype.Se=function(a){return this.hi>a},D.prototype.isZOrder=D.prototype.Se;var oc=0,qc=1,pc=2,rc=4,sc=8,tc=16;D.Flag={NONE:oc,jk:qc,ik:pc,Db:rc,Eb:sc,kk:tc};var vc=0,wc={};uc.prototype.kg=!1,uc.prototype.g=function(){if(!this.kg&&(this.kg=!0,this.c(),0!=vc)){var a=ea(this);delete wc[a]}},uc.prototype.Gb=function(a,b){this.Ic||(this.Ic=[]),this.Ic.push(ka(a,b))},uc.prototype.c=function(){if(this.Ic)for(;this.Ic.length;)this.Ic.shift()()},p=xc.prototype,p.c=function(){},p.g=function(){},p.sb=!1,p.defaultPrevented=!1,p.Pd=!0,p.stopPropagation=function(){this.sb=!0},p.preventDefault=function(){this.defaultPrevented=!0,this.Pd=!1},q("H.util.Event",xc),xc.prototype.stopPropagation=xc.prototype.stopPropagation,xc.prototype.stopPropagation=xc.prototype.stopPropagation,xc.prototype.CAPTURING_PHASE=1,xc.prototype.AT_TARGET=2,xc.prototype.BUBBLING_PHASE=3,xc.prototype.eventPhase=0,r(yc,xc),q("H.util.ChangeEvent",yc),r(zc,Error),q("H.lang.IllegalOperationError",zc),zc.prototype=Error(),zc.prototype.name="IllegalOperationError";var Bc=0;p=Cc.prototype,p.key=0,p.tb=!1,p.dd=!1,p.vd=function(a,b,c,d,e,f){if(da(a))this.Qg=!0;else{if(!(a&&a.handleEvent&&da(a.handleEvent)))throw Error("Invalid listener argument");this.Qg=!1}this.Ka=a,this.th=b,this.src=c,this.type=d,this.N=!!e,this.Le=f,this.dd=!1,this.key=++Bc,this.tb=!1},p.handleEvent=function(a){return this.Qg?this.Ka.call(this.Le||this.src,a):this.Ka.handleEvent.call(this.Ka,a)};var Dc,Ec,Fc,Gc;Gc=Fc=Ec=Dc=!1;var Ic;if(Ic=Hc()){var Jc=aa.navigator;Dc=0==Ic.indexOf("Opera"),Ec=!Dc&&-1!=Ic.indexOf("MSIE"),Fc=!Dc&&-1!=Ic.indexOf("WebKit"),Gc=!Dc&&!Fc&&"Gecko"==Jc.product}var Kc=Dc,Lc=Ec,Mc=Gc,Nc=Fc,Pc;a:{var Qc="",Rc;if(Kc&&aa.opera)var Sc=aa.opera.version,Qc="function"==typeof Sc?Sc():Sc;else if(Mc?Rc=/rv\:([^\);]+)(\)|;)/:Lc?Rc=/MSIE\s+([^\);]+)(\)|;)/:Nc&&(Rc=/WebKit\/(\S+)/),Rc)var Tc=Rc.exec(Hc()),Qc=Tc?Tc[1]:"";if(Lc){var Uc=Oc();if(Uc>parseFloat(Qc)){Pc=String(Uc);break a}}Pc=Qc}var Vc={},Xc=aa.document,Yc=Xc&&Lc?Oc()||("CSS1Compat"==Xc.compatMode?parseInt(Pc,10):5):void 0,Zc;(Zc=!Lc)||(Zc=Lc&&Yc>=9);var $c=Zc,ad=Lc&&!Wc("9");!Nc||Wc("528"),Mc&&Wc("1.9b")||Lc&&Wc("8")||Kc&&Wc("9.5")||Nc&&Wc("528"),Mc&&!Wc("8")||Lc&&Wc("9");var bd=Array.prototype,cd=bd.indexOf?function(a,b,c){return bd.indexOf.call(a,b,c)}:function(a,b,c){if(c=null==c?0:0>c?Math.max(0,a.length+c):c,ca(a))return ca(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};dd[" "]=function(){},r(ed,xc),p=ed.prototype,p.target=null,p.relatedTarget=null,p.offsetX=0,p.offsetY=0,p.clientX=0,p.clientY=0,p.screenX=0,p.screenY=0,p.button=0,p.keyCode=0,p.charCode=0,p.ctrlKey=!1,p.altKey=!1,p.shiftKey=!1,p.metaKey=!1,p.tc=null,p.vd=function(a,b){var c=this.type=a.type;xc.call(this,c),this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(Mc){var e;a:{try{dd(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=Nc||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Nc||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.tc=a,a.defaultPrevented&&this.preventDefault(),delete this.sb},p.stopPropagation=function(){ed.a.stopPropagation.call(this),this.tc.stopPropagation?this.tc.stopPropagation():this.tc.cancelBubble=!0},p.preventDefault=function(){ed.a.preventDefault.call(this);var a=this.tc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ad)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}},p.c=function(){};var ma={},fd={},gd={},hd={};r(E,uc),E.prototype.customEvent_=!0,p=E.prototype,p.sf=null,p.fb=function(){return this.sf},p.Q=function(a){this.sf=a},p.addEventListener=function(a,b,c,d){id(this,a,b,c,d)},p.removeEventListener=function(a,b,c,d){nd(this,a,b,c,d)},p.dispatchEvent=function(a){return td(this,a)},p.c=function(){E.a.c.call(this),qd(this),this.sf=null},q("H.util.EventTarget",E),E.prototype.Q=E.prototype.Q,E.prototype.setParentEventTarget=E.prototype.Q,E.prototype.fb=E.prototype.fb,E.prototype.getParentEventTarget=E.prototype.fb,E.prototype.addEventListener=E.prototype.addEventListener,E.prototype.addEventListener=E.prototype.addEventListener,E.prototype.removeEventListener=E.prototype.removeEventListener,E.prototype.removeEventListener=E.prototype.removeEventListener,E.prototype.dispatchEvent=E.prototype.dispatchEvent,E.prototype.dispatchEvent=E.prototype.dispatchEvent,E.prototype.g=E.prototype.g,E.prototype.dispose=E.prototype.g,E.prototype.Gb=E.prototype.Gb,E.prototype.addOnDisposeCallback=E.prototype.Gb,r(F,E),q("H.map.Object",F);var vd={ANY:0,SPATIAL:1,MARKER:2,DOM_MARKER:3,GROUP:4};F.Type=vd,F.prototype.b={li:"visibilitychange",mi:"zindexchange"};var ud=Ab;F.prototype.Ni=function(){return this.qa},F.prototype.getId=F.prototype.Ni,F.prototype.gh=-1/0,F.prototype.fh=1/0,F.prototype.ae=!0,F.prototype.setVisibility=function(a){var b=this.ae;return(a=!!a)^b&&(this.ae=a,this.p(qc),this.dispatchEvent(new yc(this.b.li,a,b))),this},F.prototype.setVisibility=F.prototype.setVisibility,F.prototype.getVisibility=function(a){for(var b,c=this;(b=c.ae)&&a&&(c=c.O););return b},F.prototype.getVisibility=F.prototype.getVisibility,F.prototype.Wc=t,F.prototype.fj=function(){return this.Wc},F.prototype.getZIndex=F.prototype.fj,F.prototype.Xj=function(a){var b=this.Wc;return a!==b&&(this.Kc(),this.Wc=a,this.p(tc),this.dispatchEvent(new yc(this.b.mi,a,b))),this},F.prototype.setZIndex=F.prototype.Xj,F.prototype.ce=t,F.prototype.Kc=function(){this.ce=t},F.compareZOrder=function(a,b){return a.gd(b)},F.prototype.gd=function(a){return this.lc-a.lc||xd(wd(this),wd(a),!1)},F.prototype.compareZOrder=F.prototype.gd,p=F.prototype,p.previousSibling=sa,p.nextSibling=sa,p.Wh=t,p.O=sa,p.Wi=function(){return this.O},F.prototype.getParentGroup=F.prototype.Wi,F.prototype.Tb=function(){for(var a,b=this;a=b.O;)b=a;return b},F.prototype.getRootGroup=F.prototype.Tb,F.prototype.contains=function(a){return this===a},F.prototype.contains=F.prototype.contains,F.prototype.Q=function(a){if(this.O)throw new zc(this.Q,"Not allowed for a child of a group");F.a.Q.call(this,a)},F.prototype.setParentEventTarget=F.prototype.Q,F.prototype.k=null,F.prototype.fa=function(){return this.k},F.prototype.getProvider=F.prototype.fa,F.prototype.hc=function(a,b){var c,d,e=this.k;if(c=e!==a){if(b&&e&&!u(e,G)||a&&!u(a,G))throw new zc(b,"Only LocalObjectProvider allows an object transfers");d=this.type!==vd.GROUP,e&&(this.p(sc),d&&e.L(this)),this.kb=sa,(this.k=a)&&(d&&a.A(this),this.p(rc))}return c},F.prototype.cb=function(){return this.kb||(this.kb=new D)},F.prototype.getInvalidations=F.prototype.cb,F.prototype.p=function(a){var b,c=this.fa();return(b=!!c)&&c.jb(this,a),b},F.prototype.invalidate=F.prototype.p,F.prototype.c=function(){this.O&&this.O.L(this),delete this.kb,F.a.c.call(this)},F.prototype.getData=function(){return this.ri},F.prototype.getData=F.prototype.getData,F.prototype.setData=function(a){return this.ri=a,this},F.prototype.setData=F.prototype.setData,q("H.map.SpatialStyle",yd),yd.prototype.Xb=!0,yd.prototype.Re=!0;var Bd=[];yd.prototype[Bd[0]="strokeColor"]="rgba(0,85,170,.6)",yd.prototype[Bd[1]="fillColor"]="rgba(0,85,170,.4)",yd.prototype[Bd[2]="lineWidth"]=2,yd.prototype[Bd[3]="lineCap"]="round",yd.prototype[Bd[4]="lineJoin"]="miter",yd.prototype[Bd[5]="miterLimit"]=10,yd.prototype[Bd[6]="lineDash"]=Sa,yd.prototype[Bd[7]="lineDashOffset"]=0;var Ad=Bd.length;yd.prototype.F=function(a){var b,c;if(b=this===a,!b&&a){for(b=0;Ad>b&&(c=Bd[b],this[c]===a[c]);b++);b=b===Ad}return b},yd.prototype.equals=yd.prototype.F,yd.prototype.Bg=function(a){return zd(new yd(this),this.Bg,a)},yd.prototype.getCopy=yd.prototype.Bg;var Dd={},Cd=[function(a){return a?qa(a):Dd},function(a){return a?qa(a):Dd},function(a){return a>=0&&100>=a?+a:Dd},function(a){return"butt"===(a=qa(a))||"square"===a||"round"===a?a:Dd},function(a){return"round"===a||"bevel"===a||"miter"===a?a:Dd},function(a){return a>0&&100>=a?+a:Dd},function(a){return a&&a.every&&a.every(Fa)?a:Dd},function(a){return z(+a)?Dd:+a}];yd.MAX_LINE_WIDTH=100;var Ed=new yd;yd.DEFAULT_STYLE=Ed,r(Fd,F),q("H.map.Spatial",Fd),Fd.prototype.type=vd.SPATIAL,Fd.prototype.lc=0,Fd.prototype.style=Ed,Fd.prototype.yc=function(){return this.style},Fd.prototype.getStyle=Fd.prototype.yc,Fd.prototype.Vh=function(a){var b=this.style,c=!0;return a?this.style=u(a,yd)?a:new yd(a):this.style?delete this.style:c=!1,c&&(this.dispatchEvent(new yc("stylechange",this.style,b)),this.p(qc)),this},Fd.prototype.setStyle=Fd.prototype.Vh,p=Fd.prototype,p.Sf=eb(yd.MAX_LINE_WIDTH/2)+1,p.fe=[],p.ge=[],p.xd=!1,p.jj=function(){return this.xd},Fd.prototype.isClosed=Fd.prototype.jj,Fd.prototype.getGeometry=Fd.prototype.pd,Fd.prototype.Li=function(){return-1},Fd.prototype.getHybridIdx=Fd.prototype.Li,r(Gd,Fd),q("H.map.GeoShape",Gd),Gd.prototype.la=null,Gd.prototype.Ha=function(){return this.la},Gd.prototype.getStrip=Gd.prototype.Ha,Gd.prototype.q=function(a){var b;if(null!==a&&!u(a,C))throw new y(Gd.prototype.q,0,a);return b=this.la,this.la=a,null!==b&&(this.dispatchEvent(new yc("stripchange",a,b)),this.p(pc)),this},Gd.prototype.setStrip=Gd.prototype.q,Gd.prototype.getBounds=Gd.prototype.o,r(Hd,Gd),q("H.map.Polyline",Hd),Hd.prototype.o=function(){return this.uh.o()},Hd.prototype.getBounds=Hd.prototype.o,Hd.prototype.q=function(a){var b,c,d,e=this.uh=new jc;return a.mg(function(a,f,g,h){if(h>0){var i,j,k;f>c?(g=c,j=f):(g=f,j=c),a>b?(i=a,k=b):(i=b,k=a),d=e.ib(i,g,k,j,j-g>180),d.de=h-1}b=a,c=f}),Hd.a.q.call(this,a)},Hd.prototype.setStrip=Hd.prototype.q,Hd.prototype.xg=function(){return this.bd&&this.bd.Fe()},Hd.prototype.getArrows=Hd.prototype.xg,Hd.prototype.Ph=function(a){var b=this.xg(),c=!1;return!a&&b?(delete this.bd,c=!0):!a||b&&b.F(a)||(this.bd=new $a(a),c=!0),c&&this.p(qc),this},Hd.prototype.setArrows=Hd.prototype.Ph,Hd.prototype.clip=function(a){return Ld(this,a)},Hd.prototype.clip=Hd.prototype.clip,Hd.prototype.pd=function(a){var b;return b=Ld(this,a.od()),b=Id(this,b,!1,a.rd()),a=a.qd(),b=Md(b,a.left,a.top,a.right,a.bottom)},Hd.prototype.getGeometry=Hd.prototype.pd,r(I,Gd),q("H.map.Polygon",I),I.prototype.o=function(){var a,b,c,d;return(a=this.Jb)||((b=this.Ha())&&(a=b.o())&&((c=b.nd(!0))&&(d=b.Dg())&&(a=a.lb(Tb([b.Ce(0),b.Ce(d-1)],!0),!0)),360===a.U()&&1===c%2&&(a=a.La(this.Wb?90:-90,0))),this.Jb=a||null),a},I.prototype.getBounds=I.prototype.o,I.prototype.pd=function(a){var b,c,d,e,f,g,h,i=a.rd();if(d=Od(this),d=Id(this,d,!0,i),e=this.o(),f=this.Ha().nd(!0),g=this.Wb,360===e.U()&&1==f%2){var j;for(f=this.Sf+1,d[0][1].x>d[0][d[0].length-1].x&&(d[0]=d[0].reverse()),b=[],c=d[0].length-1,h=0;c>h;h++)j=d[0][h],b[h]=new J(j.x-2*i.w,j.y),b[h+c]=new J(j.x-i.w,j.y),b[h+2*c]=new J(j.x,j.y),b[h+3*c]=new J(j.x+i.w,j.y),b[h+4*c]=new J(j.x+2*i.w,j.y);d[0]=b,i=i.Te(g?90:-90,0),i.y=g?i.y-f:i.y+f,f=i.oa(),i.x=d[0][d[0].length-1].x+1,f.x=d[0][0].x-1,d[0].push(i,f)}if(c=a.qd(),i=c.left,f=c.top,h=c.right,c=c.bottom,b=Pd(i,f,d[0],g),d[1]&&(b^=Pd(i,f,d[1],g)),Md(d,i,f,h,c).length){if(!a.od().re(e)){for(a=[],e=[new J(i,f),new J(h,f),new J(h,c),new J(i,c)],g=d.length;g--;){f=d[g],i=Qd(e),f=Qd(f);var k=j=void 0,l=void 0,m=void 0,n=m=void 0,o=l=h=void 0;switch(b=j=j=h=void 0,h={},c=b=1,j=0,j=~~(1*j)){case 1:c=b=0;break;case 2:b=0,c=1;break;case 3:b=1,c=0}var p=c,q=void 0,r=void 0,l=c=void 0;if(f&&i){for(j=Rd(f),Sd(f.x,f.y,null,j,0,0),k=Rd(i),Sd(i.x,i.y,null,k,0,0),j=f;j.next;j=j.next)if(!j.V)for(k=i;k.next;k=k.next)!k.V&&(q=Td(j.next),r=Td(k.next),l=Ud(j,q,k,r,h))&&(l=h.Yf,o=h.Zf,m=h.ck,n=h.dk,l=Sd(m,n,null,null,1,l),m=Sd(m,n,null,null,1,o),l.af=m,m.af=l,Vd(l,j,q),Vd(m,k,r));for(h=Wd(f,i),b&&(h=1-h),j=f;j.next;j=j.next)j.V&&(j.Be=h,h=1-h);for(h=Wd(i,f),p&&(h=1-h),k=i;k.next;k=k.next)k.V&&(k.Be=h,h=1-h);for(Xd(f),Xd(i);(h=Yd(f))!=f;){for(j=null;!h.be;h=h.af){for(b=h.Be;j=Sd(h.x,h.y,j,null,0,0),h.be=1,h=b?h.next:h.Z,h;)if(h.V){h.be=1;break}if(!h)break}j.cf=c,c=j}i=c}else i=void 0;if(i)for(f=Zd(i),a.push(f);i.cf;)i=i.cf,f=Zd(i),a.push(f)}d=a}}else d=b?this.fe:this.ge;return d},I.prototype.getGeometry=I.prototype.pd,I.prototype.Jb=null,I.prototype.q=function(a){if(!u(a,C)&&(va(this,I)||null!==a))throw new y(I.prototype.q,0,a);return this.Jb=null,I.a.q.call(this,a)},I.prototype.setStrip=I.prototype.q,I.prototype.Wb=!0,I.prototype.Pc=function(a){return this.Wb!==a&&(this.Wb=a,this.Jb=null,this.p(pc)),this},I.prototype.setNorthPoleCovering=I.prototype.Pc,I.prototype.Vi=function(){return this.Wb},I.prototype.getNorthPoleCovering=I.prototype.Vi,I.prototype.clip=function(){var a=I.prototype.clip,b=pa.console;return b&&b.warn&&(a=xa(a)+" is deprecated and will be removed soon. ",b.warn(a)),Od(this)},I.prototype.clip=I.prototype.clip,r(ae,I),q("H.map.Rect",ae),ae.prototype.Bf=function(a){if(!u(a,B))throw new y(this.Bf,0,a);a.F(this.Jb)||(this.I=a,ae.a.q.call(this,null),this.Jb=a,this.la||this.p(pc))},ae.prototype.setBounds=ae.prototype.Bf,ae.prototype.o=function(){return this.I},ae.prototype.getBounds=ae.prototype.o,ae.prototype.Pc=function(){return this},ae.prototype.setNorthPoleCovering=ae.prototype.Pc,ae.prototype.q=function(){return this},ae.prototype.setStrip=ae.prototype.q,ae.prototype.Ha=function(){return this.la||ae.a.q.call(this,this.Ke()).la},ae.prototype.getStrip=ae.prototype.Ha,ae.prototype.Ke=function(){var a,b,c,d,e=this.I,f=[a=e.s,b=e.j,t,a,d=e.n,t,c=e.r,d,t,c,b,t];return 180<=e.U()&&(f.splice(9,0,c,e=e.T().lng,t),f.splice(3,0,a,e,t)),new C(f)},q("H.util.BuildInfo",be),be.prototype.toString=function(){return this.name+";"+this.version+";"+this.revision};var ce={};be.get=de,q("H.util.ICapturable",ee),ee.prototype.N=function(){},ee.prototype.capture=ee.prototype.N,q("H.util.Disposable",uc),uc.prototype.Gb=uc.prototype.Gb,uc.prototype.addOnDisposeCallback=uc.prototype.Gb,q("H.util.dispose",fe),r(ge,uc),q("H.map.Imprint",ge);var ke=ta("font href invert reportHref"),je=ta("11px Arial,sans-serif;http://here.com/terms;;http://here.com/",";");ge.prototype.Sd=function(a){var b,c,d,e=ke.length;for(a||(this.Ug=je.slice()),d=this.Ug;e--;)b=ke[e],c=a&&b in a?d[e]=a[b]:d[e],2===e?(this.ni.fill=c?"#FFF":"#1B468D",this.u.style.color=c?"#FFF":"#333"):1===e?this.ai[b]=c:this.u.style[b]=c},ge.prototype.setOptions=ge.prototype.Sd,ge.prototype.bb=function(){return this.u},ge.prototype.getElement=ge.prototype.bb,ge.prototype.kc=function(){var a,b=je[3],c=this.W,d=this.Rj,e=this.Qj;c.Ie().type===le?e.style.display="none":(c=c.ma.ab(),a=c.position,e.style.display="inline",d.href=b+[a.lat,a.lng,22,c.yaw,90+c.pitch].join()+",panorama.day,report"),this.jd.innerHTML="&copy; "+this.pa()+" | "},ge.prototype.va=function(){this.kc(),setTimeout(this.kc,5e3)};var ie='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="3em" height="2.2em" viewBox="0 0 540 430"><path d="M 0,303 127,430 h 77 l -53,-53 c -19,-18 -24,-31 -13,-43 8,-9 18,-8 30,3 l 64,65 39,-39 -69,-70 c -28,-28 -55,-34 -81,-7 -16,15 -18,30 -17,44 L 38,265 0,303 z m 322,-97 c -41,-41 -79,-43 -113,-9 -34,34 -28,77 5,110 41,41 86,34 120,0 17,-16 26,-31 30,-41 l -34,-19 c -5,9 -12,20 -21,28 -19,19 -36,19 -48,9 l 70,-69 -9,-8 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 38,0 l -38,37 z m 138,-3 39,-39 -42,-42 C 337,145 347,127 355,119 361,113 367,109 371,108 L 339,71 c -2,1 -7,5 -12,9 -13,14 -17,35 -13,49 L 297,114 263,148 374,260 z M 494,34 C 453,-8 415,-10 381,25 c -33,33 -25,79 6,109 41,41 85,35 119,1 20,-20 30,-39 32,-48 L 505,68 c -4,9 -13,24 -24,34 -18,19 -36,19 -48,9 L 503,42 494,34 z m -85,57 c -11,-12 -11,-26 0,-37 11,-11 24,-11 37,0 l -37,37 z" /></svg>',me="1987&ndash;"+db(2014,(new Date).getFullYear())+" HERE";ge.prototype.pa=function(){var a,b,c,d=this.W,e=d.getZoom(),f=d.Fg(),d=d.f,g=d.d.length,h={},i=0,j=[me];if(f)for(;g>i;i++)if(b=d.get(i).getCopyrights(f,e))for(a=0;a<b.length;a++)h[c=b[a].label]||(j.push(c),h[c]=1);return j.join(", ")},ge.prototype.getCopyrights=ge.prototype.pa,ge.prototype.yc=function(){return this.u.style},ge.prototype.getStyle=ge.prototype.yc,ge.prototype.c=function(){this.W.removeEventListener(this.W.b.Pf,this.kc),this.W.f.removeEventListener("add",this.va),this.W.f.removeEventListener("remove",this.va),this.W.f.removeEventListener("set",this.va),this.u.parentNode&&Wa(this.u)},ge.prototype.N=function(a,b,c,d){var e,f,g=a.getContext("2d"),h=window.getComputedStyle(this.jd),i=Da(h.getPropertyValue("font-size")),j=this.le.childNodes[0];e=this.le.offsetHeight;var k=this.u.ownerDocument,l=this.jd.offsetHeight,m=+a.height,n=j.getBoundingClientRect?j.getBoundingClientRect():{};f=n.width*b;var n=n.height*b,o=m-(e+l+3)*b;e=function(a){return a=he(k,"div",null,a),a.textContent||a.innerText||""}(this.pa()),g.font=i*b+"px "+h.getPropertyValue("font-family"),g.fillStyle=h.getPropertyValue("color"),g.fillText(e,5*b,m-5*b),h=Ua(j,document,!1),h.setAttribute("width",f),h.setAttribute("height",n),f=k.createElement("div"),f.appendChild(h),ne.load(Oa(f.innerHTML),function(d){g.drawImage(d,5*b,o),c(a)},d)},ge.prototype.capture=ge.prototype.N,r(oe,yc),q("H.map.ChangeEvent",oe),oe.prototype.FOV=1,oe.prototype.PITCH=2,oe.prototype.POSITION=4,oe.prototype.ROLL=8,oe.prototype.SIZE=16,oe.prototype.YAW=32,oe.prototype.ZOOM=64;var pe=md;q("H.util.events.listenOnce",pe),q("H.util.events.dispatchEvent",td),q("H.util.events.fireListeners",function(a,b,c,d){var e=fd;return b in e&&(e=e[b],c in e)?rd(e[c],a,b,c,d):!0}),q("H.util.events.listen",id),q("H.util.events.unlisten",nd);var qe=sd,sd=function(a,b){var c,d,e,f=!0;return c=b[b.currentTarget===b.target?"AT_TARGET":a.N?"CAPTURING_PHASE":(d=!0,"BUBBLING_PHASE")],(!d||"pointerenter"!==(e=b.type)&&"pointerleave"!==e)&&(b.eventPhase=c,f=qe(a,b),d&&a.src.fb&&null===a.src.fb()&&delete b.eventPhase),f};r(L,E),q("H.map.ViewModel",L),L.prototype.b={m:"update",mc:"sync"},L.prototype.ee=ta("position pitch yaw roll fov zoom");var re=ta("fov pitch position roll yaw zoom").reduce(function(a,b){return a[b]=oe.prototype[b.toUpperCase()],a},{});L.prototype.ab=function(){return se(this,{},this.Nd,this.ee)},L.prototype.getCameraData=L.prototype.ab,L.prototype.Mc=function(a){var b,c=a.animate;if(!a)throw new y(this.Mc,0,a);if((b=a.position)&&!Lb(b))throw new y(this.Mc,0,"position");return this.P.zoom=z(a.zoom)?z(this.P.zoom)?this.ub:this.P.zoom:a.zoom,b=this.P.zoom,a=se(this,{},a,this.ee),this.P={animate:c,zoom:b,camera:a},this.dispatchEvent(new te(this.P)),this},L.prototype.setCameraData=L.prototype.Mc,L.prototype.Xd=function(a){var b=a.zoom;se(this,this.Nd,a,this.ee),b!==this.ub&&(this.Sc|=re.zoom),this.ff.zoom=this.ub,this.bf.zoom=b,this.ub=null!=b?b:this.ub,this.Nd.zoom=this.ub,this.P={},this.dispatchEvent(new oe(this.b.mc,this.bf,this.ff,this.Sc))},L.prototype.setZoom=function(a,b){if(z(a=+a))throw new y(this.setZoom,0,a);this.P={animate:b,zoom:a,camera:this.P.camera||this.Nd},this.dispatchEvent(new te(this.P))},L.prototype.setZoom=L.prototype.setZoom,L.prototype.getZoom=function(){return this.ub},L.prototype.getZoom=L.prototype.getZoom,L.prototype.$i=function(){var a=this.P.camera;return a.zoom=Ea(this.P.zoom)?this.P.zoom:a.zoom,a},L.prototype.getRequestedCameraData=L.prototype.$i,L.prototype.startControl=L.prototype.Aa,L.prototype.control=L.prototype.control,L.prototype.endControl=L.prototype.endControl,r(te,xc),q("H.math.Point",J),J.prototype.set=J,J.prototype.set=J.prototype.set,J.prototype.oa=function(a){return a?(a.x=this.x,a.y=this.y):a=new J(this.x,this.y),a},J.prototype.clone=J.prototype.oa,J.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},J.prototype.add=J.prototype.add,J.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},J.prototype.sub=J.prototype.sub,J.prototype.scale=function(a,b){return this.x*=a,this.y*=void 0===b?a:b,this},J.prototype.scale=J.prototype.scale,J.prototype.round=function(){return this.x=eb(this.x),this.y=eb(this.y),this},J.prototype.round=J.prototype.round,J.prototype.floor=function(){return this.x=fb(this.x),this.y=fb(this.y),this},J.prototype.floor=J.prototype.floor,J.prototype.ceil=function(){return this.x=gb(this.x),this.y=gb(this.y),this},J.prototype.ceil=J.prototype.ceil,J.prototype.F=function(a){return!(!a||this.x!==a.x||this.y!==a.y)},J.prototype.equals=J.prototype.F,J.prototype.distance=function(a){return jb(kb(this.x-a.x,2)+kb(this.y-a.y,2))},J.prototype.distance=J.prototype.distance,ue.prototype.Yb=function(){},q("H.geo.IProjection.prototype.latLngToPoint",ue.prototype.Yb),ue.prototype.ea=function(){},q("H.geo.IProjection.prototype.xyToGeo",ue.prototype.ea),ue.prototype.Kd=function(){},q("H.geo.IProjection.prototype.pointToGeo",ue.prototype.Kd),ue.prototype.Qb=function(){},q("H.geo.IProjection.prototype.geoToPoint",ue.prototype.Qb);var M={};q("H.geo.mercator",M),M.Xg=function(a){return cb(1,db(0,.5-ib(pb(vb+ub*a/180))/tb/2))},M.ah=function(a){return a/360+.5},M.Yb=function(a,b,c){return c?(c.x=M.ah(b),c.y=M.Xg(a)):c=new J(M.ah(b),M.Xg(a)),c},M.latLngToPoint=M.Yb,M.Qb=function(a,b){return M.Yb(a.lat,a.lng,b)},M.geoToPoint=M.Qb,M.gi=function(a){return 0>=a?90:a>=1?-90:zb*(2*qb(lb(tb*(1-2*a)))-ub)},M.ei=function(a){return 360*(1===a?1:Bb(a,1))-180},M.ea=function(a,b,c){return c?(c.lat=M.gi(b),c.lng=M.ei(a)):c=new A(M.gi(b),M.ei(a)),c},M.xyToGeo=M.ea,M.Kd=function(a,b){return M.ea(a.x,a.y,b)},M.pointToGeo=M.Kd,q("H.geo.PixelProjection",ve),ve.prototype.D=function(a){if(z(a))throw new y(this.D,0,a);var b=this.x/this.w,c=this.y/this.h;this.l=a,this.Tc=this.exp+a,we(this),this.x=b*this.w,this.y=c*this.h},ve.prototype.rescale=ve.prototype.D,ve.prototype.Gg=function(){return this.l||0},ve.prototype.getZoomScale=ve.prototype.Gg,ve.prototype.geoToPixel=function(a,b){var c=this.projection.Yb(a.lat,a.lng,b);return c.x=c.x*this.w-this.x,c.y=c.y*this.h-this.y,c},ve.prototype.geoToPixel=ve.prototype.geoToPixel,ve.prototype.pixelToGeo=function(a,b){return this.projection.ea((a.x+this.x)/this.w,(a.y+this.y)/this.h,b)},ve.prototype.pixelToGeo=ve.prototype.pixelToGeo,ve.prototype.ea=function(a,b,c){return this.projection.ea((a+this.x)/this.w,(b+this.y)/this.h,c)},ve.prototype.xyToGeo=ve.prototype.ea,ve.prototype.Te=function(a,b,c){return a=this.projection.Yb(a,b,c),a.x=a.x*this.w-this.x,a.y=a.y*this.h-this.y,a},ve.prototype.latLngToPixel=ve.prototype.Te,ve.prototype.cc=function(a){return new J(a.x*this.w-this.x,a.y*this.h-this.y)},ve.prototype.pointToPixel=ve.prototype.cc,r(N,E),q("H.map.layer.Layer",N),N.prototype.b={m:"update",Rf:"minchange",Qf:"maxchange"},N.prototype.kj=function(a){return this.min<=a&&a<=this.max},N.prototype.isValid=N.prototype.kj,N.prototype.Rd=function(a){var b=this.min;if(a!==b){if(z(a))throw new y(N.prototype.Rd,0,"min is NaN");if(!(a<=this.max))throw new y(N.prototype.Rd,0,"min > max");this.min=a,this.dispatchEvent(new yc(this.b.Rf,a,b))}return this},N.prototype.setMin=N.prototype.Rd,N.prototype.Qd=function(a){var b=this.max;if(a!==b){if(z(a))throw new y(N.prototype.Qd,0,"max is NaN");if(!(a>=this.min))throw new y(N.prototype.Qd,0,"max < min");this.max=a,this.dispatchEvent(new yc(this.b.Qf,a,b))}return this},N.prototype.setMax=N.prototype.Qd,N.prototype.S=function(){this.dispatchEvent(this.b.m)},N.prototype.c=function(){N.a.c.call(this)},N.prototype.pa=function(){return null},N.prototype.getCopyrights=N.prototype.pa,r(O,F),q("H.map.Group",O),O.prototype.type=vd.GROUP,O.prototype.hc=function(a,b){var c;return(c=O.a.hc.call(this,a,b))&&this.forEach(xe,!0),c},O.prototype.setProvider=O.prototype.hc,O.prototype.contains=function(a){var b=this===a;if(!b&&this.td.nextSibling!==this.td&&u(a,F))for(;!b&&a;)a===this?b=!0:a=a.O;return b},O.prototype.contains=O.prototype.contains,O.prototype.Kc=function(){this.ce=t,this.forEach(ye,!0)},O.prototype.resetZInfo=O.prototype.Kc,O.prototype.p=function(a){var b=O.a.p.call(this,a);return b&&(this.tg=a,this.forEach(ze,!0),delete this.tg),b},O.prototype.invalidate=O.prototype.p,O.prototype.forEach=function(a,b,c){for(var d,e=this.td,f=e.nextSibling,g=0;f!==e;)d=f.nextSibling,a.call(c,f,g++,this),b&&u(f,O)&&f.forEach(a,b,c),f=d},O.prototype.forEach=O.prototype.forEach,O.prototype.eb=function(a){var b=[];return this.forEach(Ae,a,b),b},O.prototype.getObjects=O.prototype.eb,O.prototype.o=function(){var a=null;return this.forEach(function(b){a?b.o?(b=b.o())&&(a=a.lb(b)):a=a.Xe(b.getPosition()):a=b.o?b.o():Tb([b.getPosition()])}),a},O.prototype.getBounds=O.prototype.o,O.prototype.ne=0,O.prototype.Hi=function(){return this.ne},O.prototype.getChildCount=O.prototype.Hi,O.prototype.sj=Ab,O.prototype.A=function(a){var b,c,d=this.td,e=d.previousSibling;if(u(a,F,this.A,0),a.contains(this))throw new zc(this.A,"The new object contains the parent group");if(c=a.hc(this.k,this.A),(b=a.O)!==this){if(b){b=a.previousSibling;var f=a.nextSibling;b.nextSibling=f,f.previousSibling=b}a.O=this,F.a.Q.call(a,this),e.nextSibling=a,a.previousSibling=e,a.nextSibling=d,d.previousSibling=a,this.ne++}return a.Wh=this.sj++,a.Kc(),c||a.p(tc),a},O.prototype.addObject=O.prototype.A,O.prototype.Fb=function(a){var b,c;for(Ba(a,"Array",this.Fb,0,void 0),b=a.length,c=0;b>c;c++)this.A(a[c])},O.prototype.addObjects=O.prototype.Fb,O.prototype.L=function(a){if(!a||a.O!==this)throw new zc(this.L,"object not found");var b=a.previousSibling,c=a.nextSibling;return b.nextSibling=c,c.previousSibling=b,a.O=null,F.a.Q.call(a,null),delete a.previousSibling,delete a.nextSibling,u(a.k,G)&&a.hc(null,this.L),this.ne--,a},O.prototype.removeObject=O.prototype.L,O.prototype.ec=function(a){var b,c;for(Ba(a,"Array",this.ec,0,void 0),b=a.length,c=0;b>c;c++)this.L(a[c])},O.prototype.removeObjects=O.prototype.ec,O.prototype.Na=function(){var a=this.eb();this.ec(a)},O.prototype.removeAll=O.prototype.Na,q("H.map.provider.Tile",Fe),r(P,Fe),q("H.map.provider.SpatialTile",P),P.prototype.qd=function(){var a,b=this.Hj;return b||(b=0<this.z?-Fd.prototype.Sf:0,a=this.Ta-b,b=this.Hj=new Q(b,b,a,a)),b},P.prototype.getPxClipRect=P.prototype.qd,P.prototype.od=function(){var a,b=this.Ai;return b||(b=this.rd(),a=this.qd(),b=this.Ai=Sb(b.pixelToGeo(new J(a.left,a.top)),b.pixelToGeo(new J(a.right,a.bottom)))),b},P.prototype.getGeoClipRect=P.prototype.od,P.prototype.rd=function(){var a,b=this.Ij;return b||(a=this.Ta,b=this.Ij=new ve(t,a),b.D(this.z),b.x=this.x*a,b.y=this.y*a),b},P.prototype.getPxProj=P.prototype.rd,P.prototype.wa=1,P.prototype.Xi=function(){return this.wa},P.prototype.getPixelRatio=P.prototype.Xi,P.prototype.xb=function(){return this.ua?He(this).Se(this.Eh)&&this.ua.sort(Ge):this.ua=this.ef.requestSpatialsByTile(this,!1,!1).sort(Ge),this.ua},P.prototype.Pe=function(){return this.sa&&Ie(this),this.sa},P.prototype.isCanvasValid=P.prototype.Pe,Object.defineProperty(P.prototype,"valid",{get:function(){return this.Pe()},set:Ra}),P.prototype.zh=function(){var a=this.data;return this.data=null,a},P.prototype.releaseCanvas=P.prototype.zh,P.prototype.Ah=function(){return this.Oa={},this.ua=null,this.Oa},P.prototype.releaseData=P.prototype.Ah,P.prototype.eb=function(){return this.ua},P.prototype.getObjects=P.prototype.eb,P.prototype.G=function(a,b,c){if(null===this.ua)return Sa;for(var d,e,f,g,h,i,j,k,l,m=this.ua,n=m.length,o=this.Oa,p=[],q=[];n--;)if(e=m[n],k=e.getHybridIdx(this),e.getVisibility(!0)){if(f=e.style||e.yc(),g="none"!==f.strokeColor?f.lineWidth:0,f=(j=e.xd)&&"none"!==f.fillColor,d=e.qa,h=o[d][1],h===e.fe)f&&q.push(e);else if(h!==e.ge)for(d=h.length;d--;){for(p.length=0,l=h[d].length,i=0;l>i;i++)p.push(h[d][i].x,h[d][i].y);if((d>=k||f)&&(i=-1!==k?k>d:j,i=Fb(a,b,p,g,i),0!==i&&(3!==i||f))){q.push(e);break}}if(c&&q.length)break}return q},P.prototype.$=function(a){var b,c,d,e=a.getContext("2d"),f=this.xb(),g=f.length;if(a.width=a.height=this.Ta,e.clearRect(0,0,this.Ta,this.Ta),g){for(b=0;g>b;b++)c=f[b],d=c.style||c.yc(),e.save(),(c.xd?this.Nj:this.Oj).call(this,c,e,d),e.restore();this.data=a}return this.sa=this.ta=!0,this.Eh=He(this).Hb,g>0},P.prototype.render=P.prototype.$,P.prototype.Oj=function(a,b,c){var d,e=this.Oa,e=(e=e&&e[a.qa])&&e[1];if(e||(e=a.getGeometry(this),e=Je(e)),this.Oa[a.qa]=[a,e],a.getVisibility(!0)&&(Ke(b,c,this.wa)&&Le(e,b,!1,!0,!1),"none"!==c.fillColor&&(d=a.bd)&&Me(b,d))){a=e,e=c.lineWidth,c=e*d.width/2;var e=e*d.length/2,f=e/2;d=2*e*d.frequency;for(var g,h,i,j,k,l,m,n,o,p,q,r=jb(kb(e,2)+kb(c,2)),s=this.Ta-r,r=new Q(r,r,s,s),t=tb/2,s=a.length;s--;){if(l=0,g=a[s],j=h=g.length){for(i=g,j=i.length,k=0;--j;)k+=i[j].distance(i[j-1]);j=(i=k)>=d}if(j)for(j=cb(fb(i/d),1e3),j=i/(j+1),k=j/2;--h;){for(m=(n=g[h]).distance(o=g[h-1]);l+m>=k;)q=n.x+(o.x-n.x)*(p=(k-l)/m),
p=n.y+(o.y-n.y)*p,r.se(q,p)&&(b.save(),b.translate(q,p),b.rotate(-qb((o.y-n.y)/(n.x-o.x))+(n.x<o.x?t:-t)),b.beginPath(),b.moveTo(-c,-e),b.lineTo(0,e),b.lineTo(c,-e),b.lineTo(0,-f),b.closePath(),b.fill(),b.restore()),k+=j;l+=m}}}},P.prototype.Nj=function(a,b,c){var d,e=this.Oa,e=(e=e&&e[a.qa])&&e[1];e||(e=a.getGeometry(this),e=Je(e)),this.Oa[a.qa]=[a,e],a.getVisibility(!0)&&(e===a.fe&&Me(b,c)?b.fillRect(0,0,this.Ta,this.Ta):e!==a.ge&&(d=Ke(b,c,this.wa),c=Me(b,c),a=a.getHybridIdx(this),a>=0?(Le(e,b,!0,!1,c,0,a),Le(e,b,!1,d,!1,a)):Le(e,b,!0,d,c)))};var Ne,Oe=function(){function a(){}for(var b,c,d,e=ta("o ms moz webkit "),f=5;f--&&!b;)b=e[f],b=(c=pa[b+(b?"R":"r")+"equestAnimationFrame"])&&!z(c.call(window,a))&&(d=pa[b+(b?"C":"c")+"ancelAnimationFrame"]);return Ne=b?function(a){return c.call(pa,a)}:function(a){return pa.setTimeout(a,25)},b?function(a){return d.call(pa,a)}:function(a){return pa.clearTimeout(a)}}(),Pe=pa.performance&&pa.performance.now?function(){return pa.performance.now()}:function(){return Date.now()};q("H.lang.OutOfRangeError",Qe),Qe.prototype=Error(),Qe.prototype.name="OutOfRangeError",q("H.util.AsyncQueue",Re),Re.prototype.push=function(a,b){if(!da(b))throw new y(this.push,1,b);var c=Ue(new Ve,a,this.Lh,b);return this.wh.push(c),this.Lh(),c},Re.prototype.push=Re.prototype.push,Re.prototype.Md=function(){Te(this)},Re.Task=Ve,Ve.prototype.Ya=function(a,b){this.Og=!0,this.vj(),this.wj(this,a,b)},Ve.prototype.done=Ve.prototype.Ya,Ve.prototype.cancel=function(){this.me&&this.me(),this.cancelled=!0},Ve.prototype.cancel=Ve.prototype.cancel,Ve.prototype.Qh=function(a){return this.me=a,this},Ve.prototype.setCancelFn=Ve.prototype.Qh,r(We,Re),q("H.util.SequentialQueue",We),Xe.prototype.next=function(a){return a.length&&Pe()-this.Rc<this.nj?a.shift():null},Xe.prototype.hg=function(){this.Rc=Pe()},r(Ye,E),q("H.map.provider.Provider",Ye),Ye.prototype.b={m:"update"},Ye.prototype.S=function(a){this.dispatchEvent(new xc(this.b.m,a))},Ye.prototype.dispatchUpdate=Ye.prototype.S,Ye.prototype.c=function(){E.prototype.c.call(this)},Ye.prototype.pa=function(){return null},Ye.prototype.getCopyrights=Ye.prototype.pa,q("H.util.Cache",R),R.prototype.add=function(a,b,c){var d,e;if(c!=+c||0>c)throw new y(this.add,2,c);return a=String(a),d=this.d[a],e=!0,this.filter&&(e=this.filter(a,b,c)),d?e?(this.Fa+=c-d.size,d.size=c,d.data=b,Ze(this,d)):this.za(d,!0):e&&(this.d[a]=$e(this,{id:a,data:b,size:c,$b:null,Ma:null},this.Ob)),af(this),e},R.prototype.add=R.prototype.add,R.prototype.get=function(a,b){var c=b?this.d[a]:Ze(this,this.d[a]);return c&&c.data},R.prototype.get=R.prototype.get,R.prototype.vi=function(a){var b;(b=this.d[a])&&this.za(b,!0)},R.prototype.drop=R.prototype.vi,R.prototype.forEach=function(a,b,c){var d,e;for(e in this.d)d=this.d[e],(c?c(e,d.data,d.size):1)&&a.call(b,e,d.data,d.size)},R.prototype.Na=function(a){var b,c;for(c in this.d)b=this.d[c],(a?a(c,b.data,b.size):1)&&this.za(this.d[c],!0)},R.prototype.removeAll=R.prototype.Na,R.prototype.Wj=function(a){return this.We=a,af(this),this},R.prototype.setMaxSize=R.prototype.Wj,R.prototype.Ui=function(){return this.We},R.prototype.getMaxSize=R.prototype.Ui,R.prototype.Ji=function(){return this.Fa},R.prototype.getCurrentSize=R.prototype.Ji,R.prototype.za=function(a,b){var c=a.Ma,d=a.$b;return(c||d||a==this.Ob&&a==this.Cc)&&(c?c.$b=d:this.Ob=d,d?d.Ma=c:this.Cc=c,this.Fa-=a.size,b&&(this.kh&&this.kh(a.id,a.data,a.size),delete this.d[a.id])),a.$b=a.Ma=null,a},r(bf,Ye),q("H.map.provider.TileProvider",bf),bf.prototype.createTileInternal=bf.prototype.gg,bf.prototype.Eg=function(a,b,c){return this.uid.concat("_",a,"_",b,"_",c)},bf.prototype.getTileKey=bf.prototype.Eg,bf.prototype.tileSize=256,r(cf,bf),q("H.map.provider.SpatialTileProvider",cf),cf.prototype.of=function(a){a.target.type===vd.SPATIAL&&this.S(a.target)},cf.prototype.ja=function(a,b,c,d){var e,f=this.getTileKey(a,b,c);if(e=this.Yd.get(f,d)){if(d||e.Pe())return e;this.kd.add(f,e,1)}e=this.kd.get(f,d);var g;return(g=e)&&!(g=d)&&(g=e,g.ta&&Ie(g),g=g.ta),g?(a=this.Lb.pop()||document.createElement("canvas"),e.$(a)||this.Lb.push(a),this.Yd.add(f,e,1),e):void(d||((e=this.pb[f])?e.count++:(e=this.Dh.push([f,a,b,c],this.pf),e.count=1,this.pb[f]=e)))},cf.prototype.requestTile=cf.prototype.ja,cf.prototype.Md=function(){var a=Pe();33<a-this.Vg&&(this.Dh.Md(),this.Vg=a)},cf.prototype.Ea=function(a,b,c){this.ed(this.getTileKey(a,b,c))},cf.prototype.cancelTile=cf.prototype.Ea,cf.prototype.ed=function(a){var b;(b=this.pb[a])&&(b.count--,b.count||(b.cancel(),delete this.pb[a]))},cf.prototype.cancelTileByKey=cf.prototype.ed,p=cf.prototype,p.uf=function(a,b){var c=new P(b[0],b[1],b[2],b[3],this.tileSize,this.wa,this.ya),d=this.Lb.pop()||document.createElement("canvas");c.$(d)||this.Lb.push(d),b.push(c),a.Ya(c)},p.pf=function(a,b){var c=a.data[0];b&&this.Yd.add(c,b,1),delete this.pb[c],this.S()},p.qf=function(a,b){b.data&&this.Lb.push(b.zh()),this.kd.add(a,b,1)},p.jf=function(a,b){b.Ah()},p.c=function(){for(var a in this.pb)this.pb[a].cancel();this.Yd.Na(),this.kd.Na(),this.Lb.length=0,cf.a.c.call(this)},r(df,N),q("H.map.layer.BaseTileLayer",df),df.prototype.fa=function(){return this.k},df.prototype.getProvider=df.prototype.fa,df.prototype.md=function(a,b){var c,d,e=this.pixelProjection;if(!u(a,B))throw new y(this.md,0,a);return z(b)||(c=e.Gg(),e.D(b)),d=ff(e.geoToPixel(a.gb()),e.geoToPixel(a.$a())),!z(c)&&e.D(c),d},df.prototype.geoRectToRect=df.prototype.md,df.prototype.zc=function(a,b){if(!u(a,Q))throw new y(this.zc,0,a);if(z(b=+b))throw new y(this.zc,1,b);var c,d,e=kb(2,fb(b)),f=this.tileSize;return c=fb(a.left/f),c===e&&(c-=1),d=fb(a.right/f),d===e&&(d-=1),new Q(c,Cb(fb(a.top/f),0,e-1),d,Cb(fb(a.bottom/f),0,e-1))},df.prototype.getTileBounds=df.prototype.zc,df.prototype.ja=function(a,b,c,d){return this.k.requestTile(a,b,c,d)},df.prototype.Ea=function(a,b,c){this.k.cancelTile(a,b,c)},df.prototype.cancelTile=df.prototype.Ea,df.prototype.pa=function(a,b){return this.k.getCopyrights?this.k.getCopyrights(a,b):null},df.prototype.getCopyrights=df.prototype.pa,df.prototype.wc=function(a,b,c,d,e){if(!u(a,Q))throw new y(this.wc,0,a);if(z(c=+c))throw new y(this.wc,1,c);var f=fb(c),g=kb(2,f);c=[];var h,i=0,j={},k=a.left,l=a.top,m=a.right,n=m+(b?g+(m===a.left?0:1):1),o=a.bottom;b=[];for(var p=this.k,q=p.requestTile,m=k+(1+m-k)/2+e.x/this.tileSize-.5,r=l+(1+o-l)/2+e.y/this.tileSize-.5;n>k;){for(l=a.top;o>=l;)e=k%g,j[p.Eg(e,l,f)]=!0,b.push([e,l,f,d,hb(m-k)+hb(r-l)]),l++,i++;k++}if(i)for(d||b.sort(gf),a=i;a--;)(h=q.apply(p,b[a]))&&c.push(h);if(!d){for(var s in this.Zd)this.Zd.hasOwnProperty(s)&&this.Zd[s]&&!j[s]&&this.k.cancelTileByKey(s);this.Zd=j}return{total:i,tiles:c}},df.prototype.getProviderTiles=df.prototype.wc,r(hf,Re),q("H.util.ParallelQueue",hf),jf.prototype.next=function(a,b){return a.length&&b.length<this.mj?a.shift():null},jf.prototype.hg=function(){},q("H.net.ImageLoader",kf),kf.prototype.load=function(a,b,c,d){if(!a||!ca(a))throw new y(kf.prototype.load,0,a);if(!da(b))throw new y(kf.prototype.load,1,b);if(c&&!da(c))throw new y(kf.prototype.load,2,c);return this.Tj.push({url:a,ag:b,qg:c,crossOrigin:d},this.Ed)},kf.prototype.load=kf.prototype.load,kf.prototype.Ed=function(a,b,c){b?Na?Za(b)?setTimeout(s(a.data.ag,a.data,b),0):setTimeout(s(this.Ed,this,a,b,c),0):a.data.ag(b):a.data.qg&&a.data.qg(c||"failed")},kf.prototype.Cd=function(a,b){var c=this.sc.createElement("img");return c.onload=a,c.onerror=b,{element:c,cancel:function(){c.onerror=c.onload=null,c.removeAttribute("src"),b("cancelled")}}},kf.prototype.rj=function(a,b){return this.Ee||(this.Ee=new mf(this.sc)),this.Ee.Cd(a,b)},mf.prototype.Cd=function(a,b){var c,d,e=this,f=this.Hf.pop()||this.frame.contentDocument.createElement("iframe");return d=function(a){c.onload=c.onerror=null,e.Hf.push(f),b(a)},f.parentNode||this.frame.contentDocument.body.appendChild(f),c=new f.contentWindow.fk,c.onload=function(){c.onload=c.onerror=null,e.Hf.push(f),a()},c.onerror=d,{element:c,cancel:function(){f.contentWindow.stop(),d("cancelled")}}};var ne=new kf;q("H.net.images",ne),r(S,bf),q("H.map.provider.RemoteTileProvider",S);var nf=new R(65536);S.cache=nf,S.prototype.zg=function(){return nf},S.prototype.getCache=S.prototype.zg,S.prototype.Kb=function(a){return+ta(a,"_")[0]===+this.uid},S.prototype.cacheFilter=S.prototype.Kb,S.prototype.requestInternal=S.prototype.Od,S.prototype.gg=function(a,b,c,d){return new Fe(a,b,c,d)},S.prototype.createTileInternal=S.prototype.gg,S.prototype.wi={cancel:function(){}},S.prototype.ja=function(a,b,c,d){var e,f,g=this,h=this.cd,i=this.Y;if(z(a=+a))throw new y(this.ja,0,a);if(z(b=+b))throw new y(this.ja,0,b);if(z(c=+c))throw new y(this.ja,0,c);return c=~~c,e=this.getTileKey(a,b,c),f=h.get(e),f&&f.valid||d||this.Y[e]||(i[e]=this.wi,d=this.requestInternal(a,b,c,function(d,i){delete g.Y[e],f=g.createTileInternal(a,b,c,d,i),f.key=e,h.add(e,f,g.entryWeight),g.S()},function(){delete g.Y[e]}),i[e]&&d&&(i[e]=d)),f},S.prototype.requestTile=S.prototype.ja,S.prototype.ed=function(a){var b=this.Y[a];b&&(b.cancel(),delete this.Y[a])},S.prototype.cancelTileByKey=S.prototype.ed,S.prototype.Ea=function(a,b,c){this.cancelTileByKey(this.getTileKey(a,b,c))},S.prototype.cancelTile=S.prototype.Ea,S.prototype.reload=function(a){var b;a?this.cd.Na(this.Kb):this.cd.forEach(this.ij,this,this.Kb);for(b in this.Y)this.Y[b].cancel();this.Y={},this.S()},S.prototype.reload=S.prototype.reload,S.prototype.ij=function(a,b){b.valid=!1},S.prototype.c=function(){var a;this.cd.Na(this.Kb);for(a in this.Y)this.Y[a].cancel(),delete this.Y[a]},r(Se,S),q("H.map.provider.ImageTileProvider",Se),Se.prototype.Od=function(a,b,c,d,e){var f,g=this,h=this.cj(a,b,c),i=pa.setTimeout(function(){f=ne.load(h,d,e,g.pi)},150);return{cancel:function(){f?f.cancel():pa.clearTimeout(i)}}},Se.prototype.requestInternal=Se.prototype.Od,q("H.math.Rect",Q),Q.prototype.set=Q,Q.prototype.set=Q.prototype.set,Q.prototype.gb=function(){return this.Uc||(this.Uc=new J(this.left,this.top))},Q.prototype.getTopLeft=Q.prototype.gb,Q.prototype.$a=function(){return this.pc||(this.pc=new J(this.right,this.bottom))},Q.prototype.getBottomRight=Q.prototype.$a,Q.prototype.se=function(a,b){return this.left<=a&&this.right>=a&&this.top<=b&&this.bottom>=b},Q.prototype.containsXY=Q.prototype.se,Q.fromPoints=ff,Q.prototype.oa=function(){return new Q(this.left,this.top,this.right,this.bottom)},Q.prototype.clone=Q.prototype.oa,r(ef,df),q("H.map.layer.TileLayer",ef),ef.prototype.Qa=function(a,b,c,d){if(!u(a,B))throw new y(this.Qa,0,a);if(z(b=+b))throw new y(this.Qa,1,b);var e;return b=fb(b),this.pixelProjection.D(b),a=this.md(a),e=this.zc(a,b),this.wc(e,a.left>a.right,b,c,d)},ef.prototype.requestTiles=ef.prototype.Qa,r(of,N),q("H.map.layer.ObjectLayer",of),of.prototype.Fd=function(a){a.currentTarget!==this.yb&&a.target.type===vd.SPATIAL||this.S()},of.prototype.fa=function(){return this.ya},of.prototype.getProvider=of.prototype.fa;var pf={markers:Sa,total:0};of.prototype.wb=function(a,b,c){var d,e=this.ya;return e.providesMarkers()&&(d=e.requestMarkers(a,b,!0,c)).length?{markers:d,total:d.length}:pf},of.prototype.requestMarkers=of.prototype.wb,of.prototype.vb=function(a,b,c){var d,e=this.ya;return e.providesDomMarkers()&&(d=e.requestDomMarkers(a,b,!0,c)).length?{markers:d,total:d.length}:pf},of.prototype.requestDomMarkers=of.prototype.vb;var qf={tiles:Sa,total:0};of.prototype.Qa=function(a,b,c,d){var e;return this.ya.providesSpatials()?(e=this.zb.Qa(a,b,c,d),c||(this.yb.Md(),e=this.zb.Qa(a,b,!0,d))):e=qf,e},of.prototype.requestTiles=of.prototype.Qa,of.prototype.ja=function(a,b,c,d){return this.zb.ja(a,b,c,d)},of.prototype.requestTile=of.prototype.ja,of.prototype.Ea=function(a,b,c){this.zb.Ea(a,b,c)},of.prototype.cancelTile=of.prototype.Ea,of.prototype.c=function(){this.yb.g(),this.zb.g(),this.ya.dispose(),of.a.c.call(this)},r(T,E),q("H.map.ViewPort",T),T.prototype.b={m:"update",mc:"sync"},T.prototype.sg=!0,T.prototype.Cf=function(a){if(this.margin!==+a){if(z(this.margin=+a))throw new y(this.Cf,0,a);rf(this),this.dispatchEvent(this.b.m)}},T.prototype.setMargin=T.prototype.Cf,T.prototype.Df=function(a,b,c,d){var e=this.padding;if(e.top!==a||e.right!==b||e.bottom!==c||e.left!==d){if(z(a+b+c+d))throw new y(this.Df);e.top=a,e.right=b,e.bottom=c,e.left=d,rf(this),this.dispatchEvent(this.b.m)}},T.prototype.setPadding=T.prototype.Df,T.prototype.resize=function(){var a=this.u.offsetWidth,b=this.u.offsetHeight;(this.width!==a||this.height!==b)&&(this.uj=new sf(this.width,this.height),this.width=a,this.height=b,rf(this),this.dispatchEvent(this.b.m))},T.prototype.resize=T.prototype.resize,T.prototype.Xd=function(a){this.dispatchEvent(new oe(this.b.mc,this.uj,a,oe.prototype.SIZE))},T.prototype.c=function(){pa.clearTimeout(this.oi),this.oi=null,this.u.removeChild(this.element),this.element=this.u=null,T.a.c.call(this)},T.prototype.startInteraction=T.prototype.Ba,T.prototype.interaction=T.prototype.ra,T.prototype.endInteraction=T.prototype.endInteraction,r(tf,Ye),q("H.map.provider.ObjectProvider",tf),tf.prototype.cb=function(a){return this.kb[a||vd.ANY]},tf.prototype.getInvalidations=tf.prototype.cb,tf.prototype.jb=function(a,b){var c,d;b!==oc&&(d=this.kb[vd.ANY],c=d.Hb+1,d.update(c,b),d=this.kb[a.type],d.update(c,b),a.cb().update(c,b),this.S(a))},tf.prototype.invalidateObject=tf.prototype.jb,tf.prototype.wf=Qa,tf.prototype.providesSpatials=tf.prototype.wf,tf.prototype.requestSpatials=tf.prototype.Fh,tf.prototype.requestSpatialsByTile=tf.prototype.Gh,tf.prototype.vf=Qa,tf.prototype.providesMarkers=tf.prototype.vf,tf.prototype.requestMarkers=tf.prototype.wb,tf.prototype.Jc=Qa,tf.prototype.providesDomMarkers=tf.prototype.Jc,tf.prototype.requestDomMarkers=tf.prototype.vb,q("H.math.Size",sf),r(U,E),q("H.map.Icon",U),U.prototype.Vf={ERROR:-1,LOADING:0,READY:1},U.prototype.State=U.prototype.Vf,U.prototype.R=0,U.prototype.getState=function(){return this.R},U.prototype.getState=U.prototype.getState,U.prototype.b={Uf:"statechange"},U.prototype.je=!0,U.prototype.Da=sa,U.prototype.Fi=function(){return this.Da},U.prototype.getBitmap=U.prototype.Fi;var vf={String:0,HTMLImageElement:1,HTMLCanvasElement:2};U.prototype.ic=sa,U.prototype.Ub=function(){return this.ic},U.prototype.getSize=U.prototype.Ub,U.prototype.nc=sa,U.prototype.Bi=function(){return this.nc},U.prototype.getAnchor=U.prototype.Bi,U.prototype.Me=sa,U.prototype.Ki=function(){return this.Me},U.prototype.getHitArea=U.prototype.Ki,U.prototype.yj=function(a){delete this.ud,wf(this,a,!0),this.Da=this.je?xf(this,a):a,this.R=1,this.dispatchEvent(this.b.Uf)},U.prototype.xj=function(){this.R=-1,this.dispatchEvent(this.b.Uf),delete this.ud},U.prototype.c=function(){U.a.c.call(this),this.Da?(this.Da.removeAttribute("src"),delete this.Da):this.ud&&this.ud.cancel()},r(G,tf),q("H.map.provider.LocalObjectProvider",G),G.prototype.Tb=function(){return this.Jh},G.prototype.getRootGroup=G.prototype.Tb,G.prototype.jb=function(a,b){b&pc&&this.A(a),G.a.jb.call(this,a,b)},G.prototype.invalidateObject=G.prototype.jb,G.prototype.A=function(a){var b;if(u(a,F,this.A,0),a.k!==this)throw new zc(this.A,"foreign object");if(this.L(a),u(a,yf))b=a.getPosition(),b=this.Hc.wd(new A(b.lat,b.lng));else if(u(a,zf))b=a.getPosition(),b=this.ld.wd(new A(b.lat,b.lng));else{b=this.Qc;var c=a.o(),d=c.gb(),e=c.$a();b=(c=c.Vb())?b.ib(d.lat,e.lng,e.lat,d.lng,c):b.ib(d.lat,d.lng,e.lat,e.lng,c)}b.Mf=a,a.Lf=b},G.prototype.L=function(a){var b;if(a)if(a.k!==this){if(u(a,F))throw new zc(this.A,"foreign object")}else(b=a.Lf)&&((u(a,yf)?this.Hc:u(a,zf)?this.ld:this.Qc).remove(b),delete b.Mf,delete a.Lf)},G.prototype.removeObject=G.prototype.L,G.prototype.xb=function(a,b,c,d){var e,f,g,h;if(a.Nb){for(h=a!==this.Hc,d=!d,a=nc(a,b),f=0,b=a.length,e=0;b>e;e++){g=a[e].Mf;for(var i=eb(c),j=g,k=void 0;(k=j.gh<=i&&j.fh>=i)&&(j=j.O););k&&(d||g.getVisibility(!0))&&(h||1===g.icon.getState())&&(a[f++]=g)}a.length=f}else a=Sa;return a},G.prototype.wf=function(){return 0<this.Qc.Nb},G.prototype.providesSpatials=G.prototype.wf,G.prototype.Fh=function(a,b,c,d){return this.xb(this.Qc,a,b,c,d)},G.prototype.requestSpatials=G.prototype.Fh,G.prototype.Gh=function(a,b,c){return this.xb(this.Qc,a.od(),a.z,b,c)},G.prototype.requestSpatialsByTile=G.prototype.Gh,G.prototype.vf=function(){return 0<this.Hc.Nb},G.prototype.providesMarkers=G.prototype.vf,G.prototype.wb=function(a,b,c,d){return this.xb(this.Hc,a,b,c,d)},G.prototype.requestMarkers=G.prototype.wb,G.prototype.Jc=function(){return 0<this.ld.Nb},G.prototype.providesDomMarkers=G.prototype.Jc,G.prototype.vb=function(a,b,c,d){return this.xb(this.ld,a,b,c,d)},G.prototype.requestDomMarkers=G.prototype.vb,G.prototype.c=function(){this.Jh.Na(),G.a.c.call(this)},r(Af,uc),Af.prototype.$=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.Dc,n=this.pg;if(this.Cj=g=this.Ve,this.Ve=h={},d>=m.min&&d<=m.max&&(i=this.rg(a,d,e,f),j=i.markers.sort(Bf),a=j.length))for(d=this.jc,d.setOpacity(m.opacity),m=0;a>m;m++)e=j[m],f=c.geoToPixel(e.getPosition()),k=c.w,f.x-=eb(f.x/k)*k,f.add(b),n||f.round(),(k=g[l=e.qa])?delete g[l]:k={marker:e},h[l]=k,this.renderMarker(k,e,e.icon,d,f.x,f.y);return!i||i.requested&&i.requested===i.total||!i.requested&&j.length===i.total},r(Cf,Af),p=Cf.prototype,p.rg=function(){return this.Dc.wb.apply(this.Dc,arguments)},p.$=function(){return this.Bd=[],Cf.a.$.apply(this,arguments)},p.renderMarker=function(a,b,c,d,e,f){var g=c.Ub();b=this.pg;var h=g.w,g=g.h,i=c.nc;e-=b?i.x:eb(i.x),f-=b?i.y:eb(i.y),d.Mb(c.Da,e,f,h,g),a.ue?a.ue.set(e,f,e+h,f+g):a.ue=new Q(e,f,e+h,f+g),this.Bd.push(a)},p.G=function(a,b,c){for(var d,e,f,g,h=this.Bd,i=h.length;i--;)if(d=h[i],e=d.ue,e.se(a,b)&&(d=d.marker,!(f=d.icon.Me)||f.Hg(a-e.left,b-e.top,0)))if(g)g.push(d);else if(g=[d],c)break;return g||Sa},p.c=function(){this.Bd=null,Cf.a.c.call(this)},q("H.math.Vector",V),V.prototype.add=function(a){return new V(this.x+a.x,this.y+a.y)},V.prototype.add=V.prototype.add,V.prototype.Yj=function(a){return new V(this.x-a.x,this.y-a.y)},V.prototype.subtract=V.prototype.Yj,V.prototype.xe=function(a){if(!u(a,V))throw new y(this.xe,0,a);return a=this.multiply(a),a.x+a.y},V.prototype.dot=V.prototype.xe,V.prototype.multiply=function(a){if(!u(a,V))throw new y(this.multiply,0,a);return new V(this.x*a.x,this.y*a.y)},V.prototype.multiply=V.prototype.multiply,V.prototype.D=function(a){return new V(this.x*a,this.y*a)},V.prototype.rescale=V.prototype.D,V.prototype.Gc=function(){return jb(this.xe(this))},V.prototype.magnitude=V.prototype.Gc,V.prototype.normalize=function(){var a=this.Gc();return 0!==a?new V(this.x/a,this.y/a):this},V.prototype.normalize=V.prototype.normalize,p=Df.prototype,p.start=function(a,b){if(z(a))throw new y(this.start,0,a);this.Lc&&this.clear(),this.qj=a,this.Lc=!0,this.Ac=!!b},p.Yh=function(a,b,c,d,e){var f=z(a)?0:z(b)?1:null!=c&&z(c)?2:null!=d&&z(d)?3:null!=e&&z(e)?4:t;if(f>=0)throw new y(this.Yh,f,arguments[f]);this.Lc&&(e=e||(new Date).getTime(),this.qb=this.ba,this.ba={x:a,y:b,bx:null!=c?c:0/0,by:null!=d?d:0/0,ts:e,bifocal:null!=c&&null!=d},this.Ac&&this.xa.push(this.ba))},p.clear=function(){this.xa=[],this.Ac=this.Lc=!1,this.ba=this.qb=null},p.sd=function(a){if(z(a))throw new y(this.sd,0,a);return!!(this.qj&a)},p.ca=function(){return this.Lc},p.He=function(){var a=this.xa.length,b=0,c=new V(0,0);if(this.Ac)for(;--a&&b<this.bi;)c=c.add(Ef(this.xa[a],this.xa[a-1])),b++;else c=Ef(this.ba,this.qb);return c.normalize()},p.xc=function(a){a=a||Date.now();var b=this.xa.length,c=this.xa[b-1],d=0,e=0;if(this.Ac){for(;--b&&d<this.bi;)e+=Ef(this.xa[b],this.xa[b-1]).Gc(),d++;b=e/d}else c=this.ba,b=Ef(this.ba,this.qb).Gc();return b=b>=this.oj&&a-c.ts<=this.ak?b>this.eh?this.eh:b:0},p.yg=function(a){var b;b=this.ba;var c;if(z(a))throw new y(this.yg,0,a);return b&&this.qb&&(b=If(this.qb),0!==b&&(c=If(this.ba),a=ib(kb(2,a)*(c/b))/sb)),a},r(Jf,E),Jf.prototype.start=function(a,b){this.Ja&&this.reset(),z(a)||z(b)||(this.atX=a,this.atY=b),this.Ja=!0},Jf.prototype.b={Nf:"animationupdate"},r(Kf,xc),p=Jf.prototype,p.ca=function(){return this.Ja},p.set=function(a,b,c){!this.Ja||this.Ye===a&&this.Ze===b&&this.$e===c||(this.Ye=a,this.Ze=b,this.$e=c,this.dispatchEvent(new Kf(Lf(this))))},p.reset=function(){this.Ja=!1,this.atY=this.atX=null,this.$e=this.Ze=this.Ye=0},p.xc=function(){var a=Lf(this);return jb(a.x*a.x+a.y*a.y+a.z*a.z)},p.He=function(){var a=Lf(this),b=this.xc()||1;return{x:a.x/b,y:a.y/b,z:a.z/b}},p.c=function(){this.reset(),Jf.a.c.call(this)},r(Mf,uc),p=Mf.prototype,p.bb=function(){return this.element},p.Ub=function(){return{width:this.width,height:this.height,t:this.t}},p.opacity=1,p.setOpacity=function(a){this.opacity!==a&&(this.Th(a),this.opacity=a)},p.c=function(){this.clear(),this.oe.removeChild(this.element),Nf(this,0,0),this.element=this.oe=null,Mf.a.c.call(this)},r(Of,Mf),p=Of.prototype,p.createElement=function(a){return a=a.createElement("DIV"),a.style.position="absolute",a},p.Uh=function(a,b,c,d){b.width=c+"px",b.height=d+"px"},p.Th=function(a){this.element.style.opacity=a},p.Mb=function(a,b,c){var d=this.t,e=a.style;e.webkitTransform=e.lk=e.mk=e.msTransform=e.transform="matrix("+[1,0,0,1,b/d,c/d].join()+")",a.parentNode!==this.element&&(e.position="absolute",this.element.appendChild(a))},p.clear=function(a){a?this.element.removeChild(a):this.element.innerHTML=""};var Pf={zoom:{min:-8,max:22},camera:{alt:{min:0,max:0},pitch:{min:0,max:0},roll:{min:0,max:0},yaw:{min:0,max:0},fov:{min:70,max:70}},interaction:{ZOOM:1,ek:16},capture:!0};q("H.map.render.p2d.capabilities",Pf),Qf.prototype.$=function(a,b,c,d,e,f){var g=eb(d),h=this.$g,i=g+(c.exp-h.pixelProjection.exp),j=h.max;d=h.tileSize;var k,l=h.opacity,m=this.Ca,n=m.opacity;k=m.Ub().width;var o=c.w,p=c.x,q=c.y,r={};if(g<h.min||g>j)return!0;for(e=h.Qa(a,i,e,f),a=e.total,e=e.tiles,f=e.length,this.Fj=c,this.Uj=b,this.Jf=i,n!==l&&m.setOpacity(l),c=d=d*o/(kb(2,i)*d),this.ze||(d%1&&(d=fb(d),o=c/d,p/=o,q/=o,o=kb(2,i)*d),p=fb(p),q=fb(q)),this.Pj=c,i=-d,g=k+d,h=0;f>h;h++){if(k=e[h],j=k.data){for(c=b.x-(p-k.x*d),l=b.y-(q-k.y*d),m.Mb(j,c,l,d,d),n=c;(n-=o)>i;)m.Mb(j,n,l,d,d);for(n=c;(n+=o)<g;)m.Mb(j,n,l,d,d)}r[this.Jf+"_"+k.x+"_"+k.y]=k}return this.ph=r,f===a},Qf.prototype.G=function(a,b,c){if(this.Jf!==t){var d,e,f=this.Pj,g=f/this.$g.tileSize,h=this.Fj,i=this.Uj;a=h.x+(a-i.x),b=h.y+(b-i.y),d=fb(h.w/f);var j=h=fb(a/f),i=fb(b/f);hb(j)>=d&&(j%=d),0>j&&(j=d+j),(d=this.ph[this.Jf+"_"+j+"_"+i])&&d.G&&(e=d.G((a-f*h)/g,(b-f*i)/g,c))}return e||Sa},q("H.util.animation.ease.LINEAR",function(a){return a}),q("H.util.animation.ease.EASE_IN_QUAD",function(a){return a*a}),q("H.util.animation.ease.EASE_OUT_QUAD",Rf),q("H.util.animation.ease.EASE_IN_OUT_QUINT",function(a){return a*=2,1>a?kb(a,5)/2:(a-=2,kb(a,5)/2+1)}),q("H.util.animation.ease.EASE_OUT_CIRC",function(a){return jb(2*a-a*a)}),q("H.util.kinetics.KineticMove",Sf),Sf.prototype.Sh=function(a){return this.Td=a,this.ye=this.Cg(),this},Sf.prototype.setInitialSpeed=Sf.prototype.Sh,Sf.prototype.Cg=function(){return Math.abs(this.Td/this.ie)},Sf.prototype.getDuration=Sf.prototype.Cg,Sf.prototype.Ge=function(a){return this.Td+this.ie*a},Sf.prototype.getCurrentSpeed=Sf.prototype.Ge,Sf.prototype.Ii=function(a){return this.Td*a+this.ie*a*a/2},Sf.prototype.getCurrentPath=Sf.prototype.Ii,q("H.util.animation.Animation",Tf),Tf.prototype.start=function(){var a,b,c=this,d=Ne;b=function(){var e=Pe(),f=e-c.Rc,g=f/c.ye,g=g>1?1:g;c.ng&&(g=c.ng(g)),c.bk(g,f,e-a,e),a=e,g>=1?c.stop():c.$f=d(b)},c.Rc=Pe(),a=c.Rc,c.Ja=!0,c.$f=d(b)},Tf.prototype.start=Tf.prototype.start,Tf.prototype.stop=function(a){Oe(this.$f),this.Ja=!1,a||this.ih&&this.ih(this)},Tf.prototype.stop=Tf.prototype.stop,Tf.prototype.ca=function(){return this.Ja},Tf.prototype.isRunning=Tf.prototype.ca,r(Uf,E),q("H.map.render.RenderEngine",Uf),Uf.prototype.getBBox=Uf.prototype.Ga,Uf.prototype.bc=function(){Vf(this)},Uf.prototype.c=function(){var a=this.Bb,b=this.da;a.removeEventListener(a.b.m,this.Gd,!1,this),a.startControl===this.Aa&&(a.startControl=L.prototype.Aa),a.control===this.control&&(a.control=L.prototype.control),a.endControl===this.endControl&&(a.endControl=L.prototype.endControl),b.removeEventListener(b.b.m,this.bc,!1,this),b.startInteraction===this.Ba&&(b.startInteraction=T.prototype.Ba),b.interaction===this.ra&&(b.interaction=T.prototype.ra),b.endInteraction===this.endInteraction&&(b.endInteraction=T.prototype.endInteraction)},Uf.prototype.getCamForBounds=Uf.prototype.Rb,Uf.prototype.N=function(){return null},Uf.prototype.setPointer=Uf.prototype.setPointer;var Xf={ZOOM:1,HEADING:2,TILT:4,INCLINE:8,COORD:16};Uf.InteractionModifiers=Xf,Uf.prototype.b={Tf:"render"};var Yf={P2D:0,PANORAMA:1};Uf.EngineType=Yf,r(Zf,Mf),p=Zf.prototype,p.createElement=function(a){a=a.createElement("CANVAS");var b=a.style;return b.position="absolute",b.top=b.left=0,a},p.Uh=function(a,b,c,d,e){a.width=db(c,1),a.height=db(d,1),b.width=eb(c/e)+"px",b.height=eb(d/e)+"px"},p.Th=function(a){this.Xa.globalAlpha=a},p.Mb=function(a,b,c,d,e){this.Xa.drawImage(a,b,c,d,e)},p.clear=function(a){var b,c;a?this.Xa.clearRect(b=a.left,c=a.top,a.right-b,a.bottom-c):this.element.width=this.width},p.c=function(){this.element.width=this.element.height=0,Zf.a.c.call(this)},r($f,Af),p=$f.prototype,p.rg=function(){return this.Dc.vb.apply(this.Dc,arguments)},p.$=function(){var a;this.De(),this.tj=0,a=$f.a.$.apply(this,arguments);var b,c=this.jc,d=this.Cj;for(b in d)ag(this,c,d[b]);return 0===this.ac.length&&a},p.De=function(){for(var a,b,c,d=this.ac.length;d--;)c=this.ac[d],a=c.Yc,b=c.Yc.icon,b.hf(c,b,a);this.ac.length=0},p.renderMarker=function(a,b,c,d,e,f){var g,h=b.cb();a.detail&&(h.Bc(a.hj)?ag(this,d,a):g=a.detail),g||(a.detail=g=c.Fe(b,this.ownerDocument),this.Ue++,da(c.hf)&&this.ac.push(g)),a.hj=h.Hb,g.style.zIndex=this.tj++,g.Yc=b,d.Mb(g,e,f,0,0)},p.G=function(a,b,c){var d,e,f,g,h,i,j,k=this.wa;if(this.Ue){for(a/=k,b/=k,k=this.ownerDocument,d=k.documentElement,e=this.jc.bb(),f=e.getBoundingClientRect(),a+=f.left,b+=f.top;(i=f=k.elementFromPoint(a,b))&&i!==e&&i!==d;){for(;(j=i.parentNode)&&(!da(j.contains)||!j.contains(e));)i=j;if(j===e&&(i!==f||"svg"!==i.nodeName)&&((g||(g=[])).push(i.Yc),c))break;h||(h=[]),f=i.style,h.push({jg:f.getPropertyValue("display"),ui:f.getPropertyPriority("display"),style:f}),f.setProperty("display","none","important")}if(h)for(b=h.length;b--;)a=h[b],a.style.removeProperty("display"),ca(a.jg)&&a.style.setProperty("display",a.jg,a.ui)}return g||Sa},p.c=function(){this.ac.length=0;var a,b=this.jc,c=this.Ve;for(a in c)ag(this,b,c[a]);this.jc.g(),$f.a.c.call(this)},r(W,Uf),q("H.map.render.p2d.RenderEngine",W),W.prototype.type=Yf.P2D,W.prototype.type=W.prototype.type;var eg=2;W.prototype.qc=Pf,W.prototype.getState=function(){return this.R},W.prototype.getState=W.prototype.getState,W.prototype.Gd=function(a){var b,c,d,e,f,g=this,h=a.requested,i=h.animate,h=h.camera.position,j=g.i.geoToPixel(h),k=j.x,l=j.y,m=this.l,n=this.ha,o=0;ig(this),this.rb.set(0,0),a=jg(this,a),b=a.zoom,f=a.position,i?(c=b-m,d={x:n.x,y:n.y},i=this.i.cc(d).x,e=this.i.projection.Qb(h),(e.x!==this.ha.x||e.x!==this.ha.x||b!==this.l)&&(k=hg(this,i,k),kg(this,function(a){var f,h=a-o;b!==m&&(j=g.i.cc(e),f=g.i.cc(d),k=hg(g,f.x,j.x),l=j.y-f.y),o=a,lg(g,k*h,l*h),m+=c*h,mg(g,m),g.M(),ng(g)},this.Zc,function(){gg(g,f,b),mg(g,b),g.M(f),ng(g)},this.$c))):(og(this),gg(this,f,b),mg(this,b),this.M(f)),ng(this)},W.prototype.Zc=300,W.prototype.Nh=function(a){var b=Ea(a);if(!b||b&&0>a)throw new y(this.Nh,1,"positive number required");this.Zc=a},W.prototype.setAnimationDuration=W.prototype.Nh,W.prototype.Ci=function(){return this.Zc},W.prototype.getAnimationDuration=W.prototype.Ci,W.prototype.$c=Rf,W.prototype.Oh=function(a){if(!da(a))throw new y(this.Oh,1,"function required");this.$c=a},W.prototype.setAnimationEase=W.prototype.Oh,W.prototype.Di=function(){return this.$c},W.prototype.getAnimationEase=W.prototype.Di,W.prototype.Hh=function(){this.$c=Rf,this.Zc=300},W.prototype.resetAnimationDefaults=W.prototype.Hh,p=W.prototype,p.jh=function(){ng(this)},p.mf=function(a){var b=a.added;a=a.idx,bg(this,a,b),0===a&&(dg(this),cg(this,b,!0)),pg(this),ng(this)},p.nf=function(a,b){var c,d=a.removed,e=a.idx;this.Sg=Pe(),(c=this.Pb.splice(e,1)[0])&&c.g&&c.g(),(c=this.fc.splice(e,1)[0])&&c.g&&c.g(),(c=this.Ra.splice(e,1)[0])&&c.g&&c.g(),this.Zb=this.rc.oc(),0===e&&(cg(this,d,!1),dg(this)),pg(this),b||ng(this)},p.mh=function(a){this.nf(a,!0),this.mf(a)},p.nh=function(){dg(this),ng(this)},p.Sa=function(a,b){var c=this.da.center,d=this.t;return this.i.ea((a-c.x)*d,(b-c.y)*d)},W.prototype.screenToGeo=W.prototype.Sa,W.prototype.setPointer=Ra,W.prototype.setPointer=W.prototype.setPointer,W.prototype.gc=function(a,b){var c=this.Sa(a,b),d=this.Bb.ab();return d.position=c,d},W.prototype.screenToCameraData=W.prototype.gc,W.prototype.Za=function(a){var b=this.t,c=this.da.center,d=c.x*b,c=c.y*b;a=this.i.geoToPixel(a);var e=this.i.w;return new J(eb((a.x-eb(a.x/e)*e+d)/b),eb((a.y+c)/b))},W.prototype.geoToScreen=W.prototype.Za,W.prototype.Ga=function(a,b){var c=this.Vc[a||4],d=this.i,e=c.left-b,f=d.ea(e,c.top-b),g=c.right+b,c=d.ea(g,c.bottom+b);return g-e>=d.w&&(f.lng=-(c.lng=180)),Sb(f,c)},W.prototype.getBBox=W.prototype.Ga,W.prototype.G=function(a,b,c){var d=[],e=this.t,f=this.Pb,g=this.fc,h=this.Ra;return a*=e,b*=e,d=tg(d,h,a,b,c),c&&d.length?d:(d=tg(d,g,a,b,c),c&&d.length?d:tg(d,f,a,b,c))},W.prototype.getObjectsAt=W.prototype.G,W.prototype.Wd=sa,W.prototype.bc=function(){var a,b,c,d=this.Vc,e=this.Ca.Ub();if(this.da.sg||(b=d[2].oa()),W.a.bc.call(this),a=qg(this),this.rb.set(0,0),c=a.w,a=a.h,e.width!==c||e.height!==a){Nf(this.Ca,c,a);for(var f,e=this.Ra.length;e--;)(f=this.Ra[e])&&(f=f.jc,Nf(f,c,a));this.Wd=new sf(c,a)}b&&(d=d[2],lg(this,b.left-d.left,b.top-d.top),this.M()),ng(this)},W.prototype.vc=function(){return Pf},W.prototype.getCapabilities=W.prototype.vc,W.prototype.Af=function(){var a,b,c,d=this.Pb,e=this.fc,f=this.Ra,g=this.da.center.oa().scale(this.t),h=this.Ga(1,0),i=this.Ga(1,256),j=this.l,k=j-this.ia,l=this.i;a=this.Mj;var m=this.Lj,n=d[0],o=this.rb;if(this.Ca.clear(),n){if(a)for(;a;)b=j-a,n.$(h,g,l,b,!0,o),a-=1;if(m&&this.Kf)for(c=1;m>=c&&(b=j+c,l.D(b),a=this.Ga(2,0),l.D(j),!n.$(a,g,l,b,!0,o));c++);}d=wg(this,d,this.wg,h,g,j,o),e=wg(this,e,this.Mh,i,g,k,o),f=wg(this,f,this.lg,i,g,k,o),this.Pa=d&&e&&f,this.Vd&&(this.Bb.Xd(this.Vd),this.Vd=null),this.Wd&&(this.da.Xd(this.Wd),this.Wd=sa),j<this.Wg?this.Kf=!0:this.Tg&&(this.Kf=!1),this.Wg=j,this.Tg=d,ug(this)},W.prototype.c=function(){var a=this.rc,b=this.rc.oc()[0],c=this.da,d=this.Pb,e=this.fc,f=this.Ra;for(Oe(this.zi),og(this,!0),a.removeEventListener("update",this.jh,!1,this),a.removeEventListener(a.b.Db,this.mf,!1,this),a.removeEventListener(a.b.Eb,this.nf,!1,this),a.removeEventListener(a.b.ad,this.mh,!1,this),b&&cg(this,b,!1),this.Ca.g(),a=d.length;a--;)fe(d[a]);for(a=e.length;a--;)fe(e[a]);for(a=f.length;a--;)fe(f[a]);c.element&&c.element.removeChild(this.Ec),this.Ec=null,this.R=3,W.a.c.call(this)},W.prototype.M=function(a){var b=xg(this);a&&(b.position=a),this.Vd=b,this.Vd.zoom=this.l-this.ia},W.prototype.Xc=function(a,b,c){a=rg(this,rg(this,a)+this.ia),mg(this,a,b,c)},W.prototype.zoomAt=W.prototype.Xc,W.prototype.Rb=function(a,b){var c,d,e,f,g,h=this.vc().zoom.max,i=a.T();return a.Pg()||(c=new ve(this.i.projection),c.D(h),d=c.geoToPixel(a.gb()).round(),e=c.geoToPixel(a.$a()).round(),h=c.w,a.Vb()&&(d.x-=h),b?(f=c.geoToPixel(i),g=2*db(f.x-d.x,e.x-f.x),f=2*db(f.y-d.y,e.y-f.y)):(g=e.x-d.x,f=e.y-d.y,i=c.pixelToGeo(d.add(e).scale(.5))),d=this.Vc[4],c=d.right-d.left,d=d.bottom-d.top,h=-8+cb(ib(c/g*h)/sb,ib(d/f*h)/sb)-this.ia),{zoom:rg(this,h),position:i}},W.prototype.getCamForBounds=W.prototype.Rb,W.prototype.Ba=function(a,b){ig(this),this.ga=b,this.J.start(a,!!b)},W.prototype.startInteraction=W.prototype.Ba,W.prototype.ra=function(a,b,c,d,e){var f=!1;this.J.ca()&&(this.J.Yh(a,b,c,d,e),this.J.sd(Xf.COORD)&&(e=this.J,e=Ef(e.ba,e.qb),0<e.Gc()&&(yg(this,-e.x,-e.y),f=!0)),this.J.sd(Xf.ZOOM)&&a===+a&&b===+b&&c===+c&&d===+d&&(b=Gf(this.J.ba),a=this.J.yg(this.l),a!==this.l&&(a=fg(this,a),mg(this,a,b.x,b.y),f=!0)),f&&ng(this))},W.prototype.interaction=W.prototype.ra,
W.prototype.endInteraction=function(a){var b,c,d,e,f=this;this.J.ca()&&!a&&(this.ga&&(a=this.J.xc(),d=this.J.He(),e=this.ga.duration,b=(this.ga.Bj||1)*a,c=new Sf(-(b/e),b),!z(d.x)&&!z(d.y)&&b>0&&f.J.sd(Xf.COORD)&&kg(this,function(a){b=c.Ge(a*e),z(b)||yg(f,eb(-d.x*b),eb(-d.y*b))},e,void 0,this.ga.xi)),this.ga=null,this.J.clear())},W.prototype.endInteraction=W.prototype.endInteraction,W.prototype.Aa=function(a,b,c){ig(this),this.B.start(b,c),this.ga=a},W.prototype.startControl=W.prototype.Aa,W.prototype.control=function(a,b,c,d,e,f,g){if(z(c=+g||+c))throw new y(this.control,2,c);if(z(a))throw new y(this.control,0,a);if(z(b))throw new y(this.control,2,b);this.B.ca()&&this.B.set(a,b,c)},W.prototype.control=W.prototype.control,W.prototype.endControl=function(a,b){var c,d,e,f,g,h,i,j,k=this;this.B.ca()&&(og(this,!0),d=Pe(),c=d-this.eg,c>=1&&(e=Lf(this.B),zg(this,e,c)),!this.ga||a||b?"function"==typeof b&&(c={camera:xg(this),zoom:this.l-this.ia},b(c),c.zoom+=this.ia,Ag(this,c)):(c=this.B.xc(),h=this.B.He(),i=this.ga.duration,f=(this.ga.Bj||1)*c,g=new Sf(-(f/i),f),!z(h.x)&&!z(h.y)&&f>0&&kg(this,function(a,b,c,e){d&&(c=e-d,d=0),f=g.Ge(a*i)*c,z(f)||((j=h.z*f)&&mg(k,fg(k,k.l+j),k.B.atX,k.B.atY),yg(k,eb(h.x*f),eb(h.y*f)))},i,void 0,this.ga.xi)),this.B.reset())},W.prototype.endControl=W.prototype.endControl,W.prototype.gf=function(a){var b=this,c=a.offset;this.rb.set(0,0),c.x||c.y||c.z?(this.eg=Pe(),kg(this,function(a,d,e,f){b.eg=f,zg(b,c,e)},Number.POSITIVE_INFINITY)):og(this,!0)},W.prototype.enter=Ra,W.prototype.enter=W.prototype.enter,W.prototype.exit=function(a){var b=this.Bb.ab();this.Gd({requested:{camera:b,zoom:b.zoom,animate:!0}}),Wf(this.Ec,a)},W.prototype.exit=W.prototype.exit,W.prototype.N=function(a,b,c,d){var e=this.Ca.bb(),f=e.ownerDocument.createElement("canvas"),g=f.getContext("2d"),h=this.t;return f.width=(c-a)*h,f.height=(d-b)*h,g.drawImage(e,-a*h,-b*h),f},r(X,E),q("H.util.OList",X),X.prototype.add=function(a,b){var c=Bg(this,b,z(b));this.d.splice(c,0,a),this.dispatchEvent(new Cg(this,this.b.Db,c,a,null,null))},X.prototype.add=X.prototype.add,X.prototype.za=function(a){var b=this.d.splice(a,1)[0];return this.dispatchEvent(new Cg(this,this.b.Eb,a,null,b,null)),b},X.prototype.dc=function(a){return this.get(a),this.za(a)},X.prototype.removeAt=X.prototype.dc,X.prototype.remove=function(a){return a=this.indexOf(a),a>=0?(this.za(a),!0):!1},X.prototype.remove=X.prototype.remove,X.prototype.set=function(a,b){var c=this.get(a);return a=Bg(this,a,!1),c=this.d[a],this.d[a]=b,this.dispatchEvent(new Cg(this,this.b.ad,a,b,c,null)),c},X.prototype.set=X.prototype.set,X.prototype.indexOf=function(a){return this.d.indexOf(a)},X.prototype.indexOf=X.prototype.indexOf,X.prototype.get=function(a){if(a=Bg(this,a,!1),(a=Bg(this,a,!1))>=this.d.length)throw new Qe(this.get,a,[0,this.d.length-1]);return this.d[a]},X.prototype.get=X.prototype.get,X.prototype.Si=function(){return this.d.length},X.prototype.getLength=X.prototype.Si,X.prototype.oc=function(){return[].concat(this.d)},X.prototype.asArray=X.prototype.oc,X.prototype.flush=function(){for(var a=this.d.length;a--;)this.za(a)},X.prototype.flush=X.prototype.flush,X.prototype.c=function(){this.flush(),X.a.c.call(this)},X.prototype.b={Db:"add",Eb:"remove",ad:"set",hk:"move"},r(Cg,xc),r(Dg,X),q("H.map.DataModel",Dg),Dg.prototype.add=function(a,b){u(a,N,this.add,0),Dg.a.add.call(this,a,b),a.addEventListener(a.b.m,this.dispatchEvent,!1)},Dg.prototype.add=Dg.prototype.add,Dg.prototype.set=function(a,b){var c;return u(b,N,this.set,0),c=Dg.a.set.call(this,a,b),b.addEventListener(b.b.m,this.dispatchEvent,!1),c.removeEventListener(c.b.m,this.dispatchEvent,!1),c},Dg.prototype.set=Dg.prototype.set,Dg.prototype.dc=function(a){var b;return(b=Dg.a.dc.call(this,a))&&b.removeEventListener(b.b.m,this.dispatchEvent,!1),b},Dg.prototype.removeAt=Dg.prototype.dc,Dg.prototype.remove=function(a){var b;return(b=Dg.a.remove.call(this,a))&&a.removeEventListener(a.b.m,this.dispatchEvent,!1),b},Dg.prototype.remove=Dg.prototype.remove,Dg.prototype.flush=function(){for(var a=this.d.length;a--;)this.dc(a);Dg.a.flush.call(this)},Dg.prototype.flush=Dg.prototype.flush,r(Y,E),q("H.Map",Y),Y.prototype.ki=333,Y.prototype.c=function(){this.ke=!1,this.Ia&&this.Ia.g(),this.df.g(),this.Fc.g(),this.f.g(),this.ma.g(),this.Cb.g(),this.v.g(),Wa(this.u),this.u=null,E.prototype.c.call(this)},Y.prototype.bb=function(){return this.u},Y.prototype.getElement=Y.prototype.bb,Y.prototype.kf=function(a){var b=a.added,c=a.removed;b&&da(b.fa)&&b.fa().Q(this),c&&da(c.fa)&&c.fa().Q(null),0===a.idx&&(this.dispatchEvent(new yc(this.b.ii,this.Ib=a.type!==this.f.b.Eb?b:0<this.f.d.length?this.f.get(0):sa,a.type!==this.f.b.Db?c:1<this.f.d.length?this.f.get(1):sa)),Gg(this))},Y.prototype.oh=function(a){a.modifiers&&(this.Ad||(Hg(this,"start"),this.Ad=!0),Hg(this,"",a)),this.Ad&&(this.dh&&pa.clearTimeout(this.dh),this.dh=pa.setTimeout(this.ve,this.ki))},Y.prototype.ve=function(){Hg(this,"end"),this.Ad=!1},Y.prototype.Nc=function(a,b){return this.ma.Mc({animate:!!b,position:a}),this},Y.prototype.setCenter=Y.prototype.Nc,Y.prototype.T=function(){return(this.ma.ab()||{}).position},Y.prototype.getCenter=Y.prototype.T,Y.prototype.setZoom=function(a,b){return this.ma.setZoom(a,!!b),this},Y.prototype.setZoom=Y.prototype.setZoom,Y.prototype.getZoom=function(){return this.ma.getZoom()},Y.prototype.getZoom=Y.prototype.getZoom,Y.prototype.Xc=function(a,b,c){this.v.Xc(a,b,c)},Y.prototype.zoomAt=Y.prototype.Xc,Y.prototype.Gf=function(a,b){if(!u(a,B))throw new y(this.Gf,0,a);var c=this.v.Rb(a,!1);return c.zoom=fb(c.zoom),c.animate=b,this.ma.Mc(c),this},Y.prototype.setViewBounds=Y.prototype.Gf,Y.prototype.Fg=function(){return this.v.Ga(4,0)},Y.prototype.getViewBounds=Y.prototype.Fg,Y.prototype.Ag=function(a){if(!u(a,B))throw new y(this.Ag,0,a);return this.v.Rb(a,!0)},Y.prototype.getCameraDataForBounds=Y.prototype.Ag,Y.prototype.ej=function(){return this.Cb},Y.prototype.getViewPort=Y.prototype.ej,Y.prototype.dj=function(){return this.ma},Y.prototype.getViewModel=Y.prototype.dj,Y.prototype.Qi=function(){return this.f},Y.prototype.getLayers=Y.prototype.Qi,Y.prototype.Oi=function(){return this.Ia},Y.prototype.getImprint=Y.prototype.Oi,Y.prototype.N=function(a,b,c,d,e,f){function g(a,b){s?a.cancel():(j.save(),b.capture(i,o,function(){j.restore(),a.Ya()},function(b){a.Ya(null,b),h(null)}))}function h(b){s||(s=!0,a(b))}var i,j,k,l=this.Ie(),m=l.vc(),n=this.Ia,o=this.X.pixelRatio;b=b||[];var p,q,r=this.Cb,s=!1;if(!da(a))throw new y(this.N,0,a);c=c||0,d=d||0,e=e||r.width,f=f||r.height,p=db(0,cb(c,e)),q=db(0,cb(d,f)),c=cb(r.width,db(c,e)),d=cb(r.height,db(d,f)),m.capture?(i=l.N(p,q,c,d),j=i.getContext("2d"),i.style.width=i.width/o+"px",i.style.height=i.height/o+"px",k=new We(10,g),b.filter(function(a){return da(a.capture)}).forEach(function(a){k.push(a,Ra)}),k.push(n,h.bind(this,i)),k.Md()):a(null)},Y.prototype.capture=Y.prototype.N,Y.prototype.Ie=function(){return this.nb||this.v},Y.prototype.getEngine=Y.prototype.Ie,Y.prototype.Rh=function(a){return this.v.type===a||this.Jg||(this.Jg=!0,this.nb=this.te(a),this.nb.addEventListener("render",this.Dd)),this},Y.prototype.setEngineType=Y.prototype.Rh,Y.prototype.Dd=function(a){a.target===this.nb&&(this.nb.removeEventListener("render",this.Dd),this.nb.enter(),this.v.exit(this.Ae))},Y.prototype.Ae=function(){var a=this.v.type;this.v.g(),this.v=this.nb,this.nb=t,this.Jg=!1,this.dispatchEvent(new yc(this.b.ji,this.v.type,a))},Y.prototype.te=function(a,b){var c=b?Eg(b,this.te):this.X;if(a===Fg.PANORAMA)return this.Ia&&this.ke&&this.Ia.Sd({invert:!0}),new pa.H.map.render.panorama.RenderEngine(this.Cb,this.ma,this.f,c);if(a===Fg.P2D)return Gg(this),new W(this.Cb,this.ma,this.f,c);throw new y(this.Rh,0,a)},Y.prototype.Wf=function(a,b){return-1===this.f.indexOf(a)&&this.f.add(a,z(b)?this.f.d.length-1:b),this},Y.prototype.addLayer=Y.prototype.Wf,Y.prototype.Jj=function(a){var b=this.f.indexOf(a);return a!==this.Ib&&a!==this.df&&-1!==b&&this.f.dc(b),this},Y.prototype.removeLayer=Y.prototype.Jj,Y.prototype.Vj=function(a){return this.Ib!==a&&(this.f.set(0,a),this.Ib=a),this},Y.prototype.setBaseLayer=Y.prototype.Vj,Y.prototype.Ei=function(){return this.Ib},Y.prototype.getBaseLayer=Y.prototype.Ei,Y.prototype.Za=function(a){if(!Mb(a))throw new y(this.Za,0,a);return this.v.Za(a)},Y.prototype.geoToScreen=Y.prototype.Za,Y.prototype.Sa=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Sa,c-1,arguments[c-1]);return this.v.Sa(a,b)},Y.prototype.screenToGeo=Y.prototype.Sa,Y.prototype.gc=function(a,b){return this.v.gc(a,b)},Y.prototype.screenToCameraData=Y.prototype.gc,Y.prototype.A=function(a){if(!u(a,F))throw new y(this.A,0,a);return this.Fc.Tb().A(a),a},Y.prototype.addObject=Y.prototype.A,Y.prototype.L=function(a){if(!u(a,F))throw new y(this.L,0,a);return this.Fc.Tb().L(a),a},Y.prototype.removeObject=Y.prototype.L,Y.prototype.eb=function(){return this.Fc.Tb().eb(!0)},Y.prototype.getObjects=Y.prototype.eb,Y.prototype.Fb=function(a){var b,c;if(!Aa(a))throw new y(this.Fb,0,a);for(b=a.length,c=0;b>c;c++)this.A(a[c]);return this},Y.prototype.addObjects=Y.prototype.Fb,Y.prototype.ec=function(a){if(!u(a,O)&&!Aa(a))throw new y(this.ec,0,a);return a.forEach(this.L,this),this},Y.prototype.removeObjects=Y.prototype.ec,Y.prototype.Je=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Je,c-1,arguments[c-1]);return this.v.G(a,b,!0)[0]||sa},Y.prototype.getObjectAt=Y.prototype.Je,Y.prototype.G=function(a,b){var c;if(c=+z(a)||2*z(b))throw new y(this.Je,c-1,arguments[c-1]);return this.v.G(a,b,!1)},Y.prototype.getObjectsAt=Y.prototype.G;var le=0,Fg={P2D:le,PANORAMA:1};Y.EngineType=Fg,Y.prototype.b={gk:"mapviewchangestart",Of:"mapviewchange",Pf:"mapviewchangeend",ii:"baselayerchange",ji:"enginechange"},q("H.net.Xhr",Ig);var Lg={method:"GET",headers:{},data:null},Mg="withCredentials"in new XMLHttpRequest,Jg="timeout"in new XMLHttpRequest;Ig.prototype.abort=function(){this.ka&&(this.ka.abort(),this.ka&&this.ob({type:"abort"}))},Ig.prototype.abort=Ig.prototype.abort,Ig.prototype.ob=function(a){a=a.type;var b,c,d=this.ka;this.fi&&clearTimeout(this.fi),"load"===a?d instanceof XMLHttpRequest&&200!==d.status?c="network":b=d.responseText:c=4===d.readyState&&0===d.status&&"error"==a?"cors":"error"!=a?a:"network",a=this.ob,Ng(this,"timeout",a),Ng(this,"error",a),Ng(this,"load",a),a=this.bg,delete this.ob,delete this.bg,delete this.ka,a(b,c)},r(Z,I),q("H.map.Circle",Z),Z.prototype.Nc=function(a){(a=Nb(a)).F(this.Wa)||(this.Wa=a,Z.a.q.call(this,null))},Z.prototype.setCenter=Z.prototype.Nc,Z.prototype.T=function(){return this.Wa},Z.prototype.getCenter=Z.prototype.T,Z.prototype.Ff=function(a){if(z(a=Cb(a,0,6371000.79*tb/2)))throw new y(this.Ff,0,a);this.zf!==a&&(this.zf=a,Z.a.q.call(this,null))},Z.prototype.setRadius=Z.prototype.Ff,Z.prototype.Zi=function(){return this.zf},Z.prototype.getRadius=Z.prototype.Zi,Z.prototype.Ld=60,Z.prototype.Ef=function(a){if(!Ea(a))throw new y(this.Ef,0,a);this.Ld!==(a=Cb(eb(a),4,360))&&(this.Ld=a,Z.a.q.call(this,null))},Z.prototype.setPrecision=Z.prototype.Ef,Z.prototype.Yi=function(){return this.Ld},Z.prototype.getPrecision=Z.prototype.Yi,Z.prototype.Pc=function(){return this},Z.prototype.setNorthPoleCovering=Z.prototype.Pc,Z.prototype.q=function(){return this},Z.prototype.setStrip=Z.prototype.q,Z.prototype.Ha=function(){return this.la||Z.a.q.call(this,this.Ke()).la},Z.prototype.getStrip=Z.prototype.Ha,Z.prototype.Ke=function(){var a=this.Wa,b=a.lat,c=this.zf,d=0,e=new C;if(this.Wb=b>0,90===hb(b))for(b=a.If(0,c,!0).lat;360>d;d+=120)e.xf(b,d-180,t);else for(b=this.Ld,b=360/b;360>d;d+=b)e.yf(a.If(d,c,!0));return e},q("H.map.DomIcon",Og);var Pg=document.createElement("DIV");Og.prototype.hf=null,Og.prototype.lf=null,Og.prototype.Fe=function(a,b){return Ua(this.og,b,this.pe)},Og.prototype.pe=!1,q("H.map.HitArea",uf),uf.prototype.Hg=function(a,b,c){return Fb(a,b,this.Aj,c,!0)},uf.prototype.hitTest=uf.prototype.Hg;var Qg={RECT:0,CIRCLE:1,POLYGON:2};uf.ShapeType=Qg,r(Rg,F),q("H.map.AbstractMarker",Rg),Rg.prototype.gd=function(a){var b,c,d=this.lc-a.lc;return d||(d=xd(b=wd(this),c=wd(a),!0)||a.getPosition().lat-this.getPosition().lat||xd(b,c,!1)),d},Rg.prototype.getPosition=function(){return this.qh},Rg.prototype.getPosition=Rg.prototype.getPosition,Rg.prototype.setPosition=function(a){var b=this.qh,c=!b;return(c||!b.F(a))&&(Mb(a,c?Rg:this.setPosition,0),this.qh=Nb(a),c||this.p(pc)),this},Rg.prototype.setPosition=Rg.prototype.setPosition,Rg.prototype.Mi=function(){return this.icon},Rg.prototype.getIcon=Rg.prototype.Mi,Rg.prototype.Oc=function(a){var b=this.icon,c=!b;if(b!==a){if(!u(a,this.Ig))throw y.apply(b=new y,c?[this.constructor,1,"icon"]:[this.setPosition,0,a]),b;this.icon=a,c||this.p(qc)}return this},Rg.prototype.setIcon=Rg.prototype.Oc;var Tg={$h:'<svg xmlns="http://www.w3.org/2000/svg" width="28px" height="36px"><path d="M 19 31 C 19 32.7 16.3 34 13 34 C 9.7 34 7 32.7 7 31 C 7 29.3 9.7 28 13 28 C 16.3 28 19 29.3 19 31 Z" fill="#000" fill-opacity=".2"/><path d="M 13 0 C 9.5 0 6.3 1.3 3.8 3.8 C 1.4 7.8 0 9.4 0 12.8 C 0 16.3 1.4 19.5 3.8 21.9 L 13 31 L 22.2 21.9 C 24.6 19.5 25.9 16.3 25.9 12.8 C 25.9 9.4 24.6 6.1 22.1 3.8 C 19.7 1.3 16.5 0 13 0 Z" fill="#fff"/><path d="M 13 2.2 C 6 2.2 2.3 7.2 2.1 12.8 C 2.1 16.1 3.1 18.4 5.2 20.5 L 13 28.2 L 20.8 20.5 C 22.9 18.4 23.8 16.2 23.8 12.8 C 23.6 7.07 20 2.2 13 2.2 Z" fill="#18d"/></svg>',size:new sf(28,36),anchor:new J(14,32),hitArea:new uf(2,[0,16,0,7,8,0,18,0,26,7,26,16,18,34,8,34])};r(zf,Rg),q("H.map.DomMarker",zf),zf.prototype.type=vd.DOM_MARKER,zf.prototype.lc=2,zf.prototype.fg=function(a){var b=new Og(a.$h,a);return a=a.anchor,b.og.style.margin=-a.y+"px 0 0 -"+a.x+"px",b},zf.prototype.Ig=Og,r(yf,Rg),q("H.map.Marker",yf),p=yf.prototype,p.type=vd.MARKER,p.lc=1,p.p=function(a){var b;return(a!==qc||1===this.rh||1===this.icon.getState())&&(b=yf.a.p.call(this,a)),b||!1},p.rh=0,p.Ig=U,p.Qe=!1,p.lh=function(){this.p(qc)},p.Oc=function(a){var b=this.icon;return this.Qe&&(b.removeEventListener("statechange",this.lh,!1,this),delete this.Qe),b&&(this.rh=b.getState()),yf.a.Oc.call(this,a),0===a.getState()&&(this.Qe=!0,pe(a,"statechange",this.lh,!1,this)),this},yf.prototype.setIcon=yf.prototype.Oc,yf.prototype.fg=function(a){return new U(a.$h,a)},r(Ug,S),q("H.map.provider.MarkerTileProvider",Ug),Ug.prototype.Od=function(a,b,c,d,e){var f=this;return this.Sj(a,b,c,function(e){for(var g,h,i=[],j=e.length;j--;)h=e[j],h.$j=f.getTileKey(a,b,c),h.Q(f),g=h.icon,(u(h,zf)||g.getState()===g.Vf.READY)&&i.push(e[j]);d(i)},e)},Ug.prototype.requestInternal=Ug.prototype.Od,Ug.prototype.jb=function(a,b){var c;b!==oc&&((c=this.zg().get(a.$j))&&(c.valid=!1),this.S())},Ug.prototype.invalidateObject=Ug.prototype.jb,Ug.prototype.Jc=function(){return this.Gj},Ug.prototype.providesDomMarkers=Ug.prototype.Jc,r(Vg,df),q("H.map.layer.MarkerTileLayer",Vg);var Wg={markers:[],total:0,requested:0};Vg.prototype.wb=function(a,b,c,d){return this.k.providesDomMarkers()?Wg:Xg(this,a,b,c,d)},Vg.prototype.requestMarkers=Vg.prototype.wb,Vg.prototype.vb=function(a,b,c,d){return this.k.providesDomMarkers()?Xg(this,a,b,c,d):Wg},Vg.prototype.requestDomMarkers=Vg.prototype.vb;var H=pa.H||{};q("H.buildInfo",function(){return de("mapsjs-core","0.7.0","45482b93ceacb2ec7e52a7cd78694f89b0558679")}),this.mapsjs=H}(),angular.module("angular-here-maps",[]),angular.module("angular-here-maps").directive("map",["MapConfig","$document","$compile",function(a,b,c){return{template:'<div class="here-map"><div ng-transclude></div></div>',restrict:"EA",transclude:!0,replace:!0,controller:["$scope","$element","$attrs",function(d,e,f){var g,h,i,j,k,l;d.zoom=d.helpers.useDotNotation(d,f.zoom),d.center=d.helpers.useDotNotation(d,f.center),a.libraries()&&(h=a.libraries().split(",")),d.refreshMarkers=function(){var a=b.find("marker-icon");_.each(a,function(a){c(a)(d)}),d.$apply()};var m=new H.service.Platform({app_id:a.appId(),app_code:a.appCode()});g=m.createDefaultLayers(512,a.pixelPerInch()),this.map=new H.Map(e[0],g.normal.map,{pixelRatio:a.pixelRatio()}),this.ui=H.ui.UI.createDefault(this.map,g),d.zoom&&this.map.setZoom(d.zoom),d.center&&this.map.setCenter(d.center),window.addEventListener("resize",function(){this.map.getViewPort().resize()}.bind(this)),_.each(h,function(a){"ui"===a&&(i=H.ui.UI.createDefault(this.map,g)),"pano"===a&&m.configure(H.map.render.panorama.RenderEngine),"mapevents"===a&&(j=new H.mapevents.Behavior(new H.mapevents.MapEvents(this.map)))}.bind(this));var n=function(a,b){var c="<marker-icon><div>"+b.template+"</div></marker-icon>",d=new H.map.DomIcon(c);k="html"===b.type?new H.map.DomMarker(a,{icon:d}):new H.map.Marker(a)},o=function(a,b,e){b.addEventListener("tap",function(){l&&this.ui.removeBubble(l);var b=a;b=c(b)(d),d.$apply(),l=new H.ui.InfoBubble(e,{content:b[0]}),this.ui.addBubble(l)}.bind(this,e),!1)}.bind(this),p=function(a,b,c){if(c.window){var d="<marker-window><div>"+c.window.template+"</div></marker-window>";o(d,a,b)}},q=function(a,b){var c=a;return b&&(b.type||(c.type=null,b.window&&(c.window=b.window)),"html"===b.type&&(c=b)),c};this.addMarkerToMap=function(a,b,c){var d=new H.map.Group,e=q(b,c);e&&(n(a,e),p(d,a,e)),this.map.addObject(d),d.addObject(k)},this.map.addEventListener("mapviewchangeend",function(){d.refreshMarkers()})}]}}]),angular.module("angular-here-maps").directive("marker",function(){return{require:"^map",scope:{coordinates:"=",icon:"="},restrict:"E",link:function(a,b,c,d){var e=function(){a.coordinates&&d.addMarkerToMap(a.coordinates,a.icon)};a.$watch("coordinates",function(){e()})}}}),angular.module("angular-here-maps").directive("markers",function(){return{restrict:"E",require:"^map",scope:{locations:"=",icon:"="},link:function(a,b,c,d){_.each(a.locations,function(b){d.addMarkerToMap(b.coordinates,a.icon,b.icon)})}}}),angular.module("angular-here-maps").run(["$rootScope",function(a){a.helpers={useDotNotation:function(a,b){b=String(b).split(".");for(var c=0;c<b.length;c++)a=a[b[c]];return a}}}]),angular.module("angular-here-maps").provider("MapConfig",function(){this.mapOptions={},this.$get=function(){var a=this.mapOptions;return{appId:function(b){return a.appId||b},appCode:function(b){return a.appCode||b},pixelRatio:function(b){return a.pixelRatio||b},pixelPerInch:function(b){return a.pixelPerInch||b},libraries:function(b){return a.libraries||b}}},this.setOptions=function(a){this.mapOptions=a}}),function(){var a,b;"undefined"!=typeof exports?(a=require("xmlhttprequest").XMLHttpRequest,b=require("underscore"),btoa=require("btoa")):b=window._,"undefined"!=typeof window&&"undefined"!=typeof window.XMLHttpRequest&&(a=window.XMLHttpRequest);var c="https://api.github.com",d=function(e){function f(b,d,f,g,h,i){function j(){var a=d.indexOf("//")>=0?d:c+d;return a+(/\?/.test(a)?"&":"?")+(new Date).getTime()}var k=new a;if(h||(k.dataType="json"),k.open(b,j(),!i),i||(k.onreadystatechange=function(){4==this.readyState&&(this.status>=200&&this.status<300||304===this.status?g(null,h?this.responseText:this.responseText?JSON.parse(this.responseText):!0,this):g({path:d,request:this,error:this.status}))}),k.setRequestHeader("Accept","application/vnd.github.v3.raw+json"),k.setRequestHeader("Content-Type","application/json;charset=UTF-8"),e.token||e.username&&e.password){var l=e.token?"token "+e.token:"Basic "+btoa(e.username+":"+e.password);k.setRequestHeader("Authorization",l)}return f?k.send(JSON.stringify(f)):k.send(),i?k.response:void 0}function g(a,c){var d=[];!function e(){f("GET",a,null,function(f,g,h){if(f)return c(f);d.push.apply(d,g);var i=(h.getResponseHeader("link")||"").split(/\s*,\s*/g),j=b.find(i,function(a){return/rel="next"/.test(a)});j&&(j=(/<(.*)>/.exec(j)||[])[1]),j?(a=j,e()):c(f,d)})}()}d.User=function(){this.repos=function(a){g("/user/repos?type=all&per_page=1000&sort=updated",function(b,c){a(b,c)})},this.orgs=function(a){f("GET","/user/orgs",null,function(b,c){a(b,c)})},this.gists=function(a){f("GET","/gists",null,function(b,c){a(b,c)})},this.notifications=function(a){f("GET","/notifications",null,function(b,c){a(b,c)})},this.show=function(a,b){var c=a?"/users/"+a:"/user";f("GET",c,null,function(a,c){b(a,c)})},this.userRepos=function(a,b){g("/users/"+a+"/repos?type=all&per_page=1000&sort=updated",function(a,c){b(a,c)})},this.userGists=function(a,b){f("GET","/users/"+a+"/gists",null,function(a,c){b(a,c)})},this.orgRepos=function(a,b){g("/orgs/"+a+"/repos?type=all&&page_num=1000&sort=updated&direction=desc",function(a,c){b(a,c)})},this.follow=function(a,b){f("PUT","/user/following/"+a,null,function(a,c){b(a,c)})},this.unfollow=function(a,b){f("DELETE","/user/following/"+a,null,function(a,c){b(a,c)})}},d.Repository=function(a){function c(a,b){return a===j.branch&&j.sha?b(null,j.sha):void h.getRef("heads/"+a,function(c,d){j.branch=a,j.sha=d,b(c,d)})}var e=a.name,g=a.user,h=this,i="/repos/"+g+"/"+e,j={branch:null,sha:null};this.getRef=function(a,b){f("GET",i+"/git/refs/"+a,null,function(a,c){return a?b(a):void b(null,c.object.sha)})},this.createRef=function(a,b){f("POST",i+"/git/refs",a,b)},this.deleteRef=function(b,c){f("DELETE",i+"/git/refs/"+b,a,c)},this.createRepo=function(a,b){f("POST","/user/repos",a,b)},this.deleteRepo=function(b){f("DELETE",i,a,b)},this.listTags=function(a){f("GET",i+"/tags",null,function(b,c){return b?a(b):void a(null,c)})},this.listPulls=function(a,b){f("GET",i+"/pulls"+(a?"?state="+a:""),null,function(a,c){return a?b(a):void b(null,c)})},this.getPull=function(a,b){f("GET",i+"/pulls/"+a,null,function(a,c){return a?b(a):void b(null,c)})},this.compare=function(a,b,c){f("GET",i+"/compare/"+a+"..."+b,null,function(a,b){return a?c(a):void c(null,b)})},this.listBranches=function(a){f("GET",i+"/git/refs/heads",null,function(c,d){return c?a(c):void a(null,b.map(d,function(a){return b.last(a.ref.split("/"))}))})},this.getBlob=function(a,b){f("GET",i+"/git/blobs/"+a,null,b,"raw")},this.getSha=function(a,c,d){return""===c?h.getRef("heads/"+a,d):void h.getTree(a+"?recursive=true",function(a,e){if(a)return d(a);var f=b.select(e,function(a){return a.path===c})[0];d(null,f?f.sha:null)})},this.getTree=function(a,b){f("GET",i+"/git/trees/"+a,null,function(a,c){return a?b(a):void b(null,c.tree)})},this.postBlob=function(a,b){a="string"==typeof a?{content:a,encoding:"utf-8"}:{content:btoa(String.fromCharCode.apply(null,new Uint8Array(a))),encoding:"base64"},f("POST",i+"/git/blobs",a,function(a,c){return a?b(a):void b(null,c.sha)})},this.updateTree=function(a,b,c,d){var e={base_tree:a,tree:[{path:b,mode:"100644",type:"blob",sha:c}]};f("POST",i+"/git/trees",e,function(a,b){return a?d(a):void d(null,b.sha)})},this.postTree=function(a,b){f("POST",i+"/git/trees",{tree:a},function(a,c){return a?b(a):void b(null,c.sha)})},this.commit=function(b,c,e,g){var h=new d.User;h.show(null,function(d,h){if(d)return g(d);var k={message:e,author:{name:a.user,email:h.email},parents:[b],tree:c};f("POST",i+"/git/commits",k,function(a,b){return a?g(a):(j.sha=b.sha,void g(null,b.sha))})})},this.updateHead=function(a,b,c){f("PATCH",i+"/git/refs/heads/"+a,{sha:b},function(a,b){c(a)})},this.show=function(a){f("GET",i,null,a)},this.contents=function(a,b,c,d){return f("GET",i+"/contents?ref="+a+(b?"&path="+b:""),null,c,"raw",d)},this.fork=function(a){f("POST",i+"/forks",null,a)},this.branch=function(a,b,c){2===arguments.length&&"function"==typeof arguments[1]&&(c=b,b=a,a="master"),this.getRef("heads/"+a,function(a,d){return a&&c?c(a):void h.createRef({ref:"refs/heads/"+b,sha:d},c)})},this.createPullRequest=function(a,b){f("POST",i+"/pulls",a,b)},this.listHooks=function(a){f("GET",i+"/hooks",null,a)},this.getHook=function(a,b){f("GET",i+"/hooks/"+a,null,b)},this.createHook=function(a,b){f("POST",i+"/hooks",a,b)},this.editHook=function(a,b,c){f("PATCH",i+"/hooks/"+a,b,c)},this.deleteHook=function(a,b){f("DELETE",i+"/hooks/"+a,null,b)},this.read=function(a,b,c){h.getSha(a,b,function(a,b){return b?void h.getBlob(b,function(a,d){c(a,d,b)}):c("not found",null)})},this.remove=function(a,d,e){c(a,function(c,f){h.getTree(f+"?recursive=true",function(c,g){var i=b.reject(g,function(a){return a.path===d});b.each(i,function(a){"tree"===a.type&&delete a.sha}),h.postTree(i,function(b,c){h.commit(f,c,"Deleted "+d,function(b,c){h.updateHead(a,c,function(a){e(a)})})})})})},this["delete"]=function(a,b,c){h.getSha(a,b,function(a,d){if(!d)return c("not found",null);var e=i+"/contents/"+b,g={message:"Deleted "+b,sha:d};e+="?message="+encodeURIComponent(g.message),e+="&sha="+encodeURIComponent(g.sha),f("DELETE",e,null,c)})},this.move=function(a,d,e,f){c(a,function(c,g){h.getTree(g+"?recursive=true",function(c,i){b.each(i,function(a){a.path===d&&(a.path=e),"tree"===a.type&&delete a.sha}),h.postTree(i,function(b,c){h.commit(g,c,"Deleted "+d,function(b,c){h.updateHead(a,c,function(a){f(a)})})})})})},this.write=function(a,b,d,e,f){c(a,function(c,g){return c?f(c):void h.postBlob(d,function(c,d){return c?f(c):void h.updateTree(g,b,d,function(b,c){return b?f(b):void h.commit(g,c,e,function(b,c){return b?f(b):void h.updateHead(a,c,f)})})})})},this.getCommits=function(a,b){a=a||{};var c=i+"/commits",d=[];if(a.sha&&d.push("sha="+encodeURIComponent(a.sha)),a.path&&d.push("path="+encodeURIComponent(a.path)),a.since){var e=a.since;e.constructor===Date&&(e=e.toISOString()),d.push("since="+encodeURIComponent(e))}if(a.until){var g=a.until;g.constructor===Date&&(g=g.toISOString()),d.push("until="+encodeURIComponent(g))}d.length>0&&(c+="?"+d.join("&")),f("GET",c,null,b)}},d.Gist=function(a){var b=a.id,c="/gists/"+b;this.read=function(a){f("GET",c,null,function(b,c){a(b,c)})},this.create=function(a,b){f("POST","/gists",a,b)},this["delete"]=function(a){f("DELETE",c,null,function(b,c){a(b,c)})},this.fork=function(a){f("POST",c+"/fork",null,function(b,c){a(b,c)})},this.update=function(a,b){f("PATCH",c,a,function(a,c){b(a,c)})},this.star=function(a){f("PUT",c+"/star",null,function(b,c){a(b,c)})},this.unstar=function(a){f("DELETE",c+"/star",null,function(b,c){a(b,c)})},this.isStarred=function(a){f("GET",c+"/star",null,function(b,c){a(b,c)})}},d.Issue=function(a){var b="/repos/"+a.user+"/"+a.repo+"/issues";this.list=function(a,c){f("GET",b,a,c)}},this.getIssues=function(a,b){return new d.Issue({user:a,repo:b})},this.getRepo=function(a,b){return new d.Repository({user:a,name:b})},this.getUser=function(){return new d.User},this.getGist=function(a){return new d.Gist({id:a})}};"undefined"!=typeof exports?module.exports=d:window.Github=d}.call(this),angular.module("pascalprecht.github-adapter",["ng"]),angular.module("pascalprecht.github-adapter").provider("$github",function(){var a,b,c,d;this.username=function(b){return b?void(a=b):a},this.password=function(a){return a?void(b=a):b},this.authType=function(a){return a?void(c=a):c},this.token=function(a){return a?void(d=a):d},this.$get=["$q","$githubRepository","$githubIssues","$githubUser","$githubGist",function(e,f,g,h,i){var j={};a&&b&&(j={username:a,password:b,auth:c||"basic"}),d&&(j.token=d);var k=new Github(j),l={};return l.setCreds=function(a,b,c){k=new Github({username:a,password:b,auth:c})},l.getRepo=function(a,b){return e.when(f(k.getRepo(a,b)))},l.getIssues=function(a,b){return e.when(g(k.getIssues(a,b)))},l.getUser=function(){return e.when(h(k.getUser()))},l.getGist=function(a){return e.when(i(k.getGist(a)))},l}]}),angular.module("pascalprecht.github-adapter").factory("$githubGist",["$q",function(a){return function(b){var c={create:function(c){var d=a.defer();return b.create(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},"delete":function(){var c=a.defer();return b["delete"](function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},fork:function(){var c=a.defer();return b.fork(function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},read:function(){var c=a.defer();return b.read(function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},update:function(c){var d=a.defer();return b.update(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}};return c}}]),angular.module("pascalprecht.github-adapter").factory("$githubIssues",["$q",function(a){return function(b){var c={list:function(c){var d=a.defer();return b.list(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}};return c}}]),angular.module("pascalprecht.github-adapter").factory("$githubRepository",["$q",function(a){return function(b){var c={branch:function(c,d){var e=a.defer(),f=[].push.call(arguments,function(a){a?e.reject(a):e.resolve()});return b.branch.apply(this,f),e.promise},commit:function(c,d,e){var f=a.defer();return b.commit(c,d,e,function(a,b){a?f.reject(a):f.resolve(b)}),f.promise},contents:function(c,d){var e=a.defer();return b.contents(c,d,function(a,b){a?e.reject(a):e.resolve(b)}),e.promise},createPullRequest:function(c){var d=a.defer();return b.createPullRequest(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},createRef:function(c){var d=a.defer();return b.createRef(c,function(a){a?d.reject(a):d.resolve()}),d.promise},deleteRef:function(c){var d=a.defer();return b.deleteRef(c,function(a){a?d.reject(a):d.resolve()}),d.promise},fork:function(){var c=a.defer();return b.fork(function(){c.resolve()}),c.promise},getBlob:function(c){var d=a.defer();return b.getBlob(c,function(a){a?d.reject(a):d.resolve()}),d.promise},getCommits:function(c){var d=a.defer();return b.getCommits(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},getRef:function(c){var d=a.defer();return b.getRef(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},getSha:function(c,d){var e=a.defer();return b.getSha(c,d,function(a,b){a?e.reject(a):e.resolve(b)}),e.promise},getTree:function(c){var d=a.defer();return b.getTree(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},listBranches:function(){var c=a.defer();return b.listBranches(function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},move:function(c,d,e){var f=a.defer();return b.move(c,d,e,function(a){a?f.reject(a):f.resolve()}),f.promise},postBlob:function(c){var d=a.defer();return b.postBlob(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise},postTree:function(){var c=a.defer();return b.postTree(tree,function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},read:function(c,d){var e=a.defer();return b.read(c,d,function(a,b){a?e.reject(a):e.resolve(b)}),e.promise},remove:function(c,d){var e=a.defer();return b.remove(c,d,function(a){a?e.reject(a):e.resolve()}),e.promise},show:function(){var c=a.defer();return b.show(function(a,b){a?c.reject(a):c.resolve(b)}),c.promise},updateHead:function(c,d){var e=a.defer();return b.updateHead(c,d,function(a){a?e.reject(a):e.resolve()}),e.promise},updateTree:function(c,d,e){var f=a.defer();return b.updateTree(c,d,e,function(a,b){a?f.reject(a):f.resolve(b)}),f.promise},write:function(c,d,e,f){var g=a.defer();return b.write(c,d,e,f,function(a){a?g.reject(a):g.resolve()}),g.promise},listPulls:function(c){var d=a.defer();b.listPulls(c,function(a,b){a?d.reject(a):d.resolve(b)})},getPull:function(c){var d=a.defer();return b.getPull(c,function(a,b){a?d.reject(a):d.resolve(b)}),d.promise}};return c}}]),angular.module("pascalprecht.github-adapter").factory("$githubUser",["$q","$rootScope",function(a,b){return function(c){var d={notifications:function(){var d=a.defer();return c.notifications(function(a,c){b.$apply(function(){a?d.reject(a):d.resolve(c)})}),d.promise},gists:function(){var d=a.defer();return c.gists(function(a,c){b.$apply(function(){a?d.reject(a):d.resolve(c)})}),d.promise},orgRepos:function(d){var e=a.defer();return c.orgRepos(d,function(a,c){b.$apply(function(){a?e.reject(a):e.resolve(c)})}),e.promise},orgs:function(){var d=a.defer();return c.orgs(function(a,c){b.$apply(function(){a?d.reject(a):d.resolve(c)})}),d.promise},repos:function(){var d=a.defer();return c.repos(function(a,c){b.$apply(function(){a?d.reject(a):d.resolve(c)})}),d.promise},show:function(d){var e=a.defer();return c.show(d,function(a,c){b.$apply(function(){a?e.reject(a):e.resolve(c)})}),e.promise},userGists:function(d){var e=a.defer();return c.userGists(d,function(a,c){b.$apply(function(){a?e.reject(a):e.resolve(c)})}),e.promise},userRepos:function(d){var e=a.defer();return c.userRepos(d,function(a,c){
b.$apply(function(){a?e.reject(a):e.resolve(c)})}),e.promise}};return d}}]),function(a){function b(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function c(a,b){var c=a.split("."),d=Q;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function d(a,b,c,d,e,f){if(!a||!b)throw Error('Parameters "scheme" and "host" must be specified');this.ca(a),this.N(b),this.p(c),this.Ga(e),this.Ea(f),this.Ha(d)}function e(a,b){var c,e,f,g,h=a,i=document,j=i.createElement("a");b&&(e=(c=i.getElementsByTagName("base")[0])&&c.href,f=i.head,g=c||f.appendChild(i.createElement("base")),g.href=b),j.href=h,h=j.href,b&&(c?c.href=e:f.removeChild(g)),h=/(?:(\w+):\/\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\/[^?#]*)?(\?[^#]+)?(#.*)?/.exec(h),c=h[1],j=h[4],e=h[5],i=h[6],f=h[7],g=h[8],!h[2]&&j&&/@/.test(j)&&(j=j.split("@")[1]);var k,l,h=j,i=i&&0<i.length?i.substr(1):"",j={};if(f)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;l=k.exec(f);)j[decodeURIComponent(l[2])]=l[4]?decodeURIComponent(l[4]):void 0;return new d(c,h,i,j,isNaN(+e)?void 0:+e,g&&0<g.length?g.substr(1):"")}function f(a){var b,c,d=[],e=a.i;for(b in e)e.hasOwnProperty(b)&&"function"!=typeof e[b]&&(c=a.i[b],d.push(encodeURIComponent(b)+(void 0===c?"":"="+encodeURIComponent(c))));return 0<d.length?"?"+d.join("&"):""}function g(a){var b,c=0;for(b in a.i)if(a.i.hasOwnProperty(b)&&"function"!=typeof a.i[b]&&(c++,c>0))break;return!c}function h(a){function b(b){f.removeChild(g),m&&clearTimeout(m),delete h.aa[i],b&&a.D&&a.D.call(l,b)}if(!a.url||!a.r)throw Error('Parameter "options" must specify at least a URL and a callback.');if("function"!=typeof a.r)throw Error("Parmaters options.callback must be a function");var c=a.vb||document,f=c.getElementsByTagName("head")[0],g=c.createElement("script"),c=a.url instanceof d?a.url:e(a.url,a.ub),i=h.pb++,j=a.P||"callback",k=a.r,l={},m=null;return l.id=i,l.cancel=function(){b("cancelled")},0!==a.timeout&&(m=setTimeout(function(){b("timeout")},a.timeout||3e4)),h.aa[i]=function(a){b(),k.call(l,a)},g.type="text/javascript",g.src=c.toString()+(c.ua()?"&":"?")+j+"="+(a.za?"H.service.jsonp.handleResponse("+i+")":encodeURI("H.service.jsonp.handleResponse("+i+")")),f.appendChild(g),l}function i(a){a=a||{},this.n=a.subDomain,this.e=a.path,this.Pa=a.callbackKey,this.f=a.baseUrl}function j(a,c,d,e){if("function"!=b(d))throw Error("onResult callback needed");if("function"!=b(e))throw Error("onError callback needed");return h({url:c,r:function(a){d(a)},D:function(a){e(Error("["+a+"] "+c+" request failed"))},P:a.Pa})}function k(a){a=m(R,a),this.Fa(a.baseUrl),this.da(a.useCIT),this.ea(a.useHTTPS),l(this,a.app_id,a.app_code),this.Ja={}}function l(a,b,c){a.na=b,a.ma=c,a.f.b({app_id:b,app_code:c})}function m(a,b){var c,d={};for(c in a)!a.hasOwnProperty(c)||c in d||(d[c]=a[c]),b&&b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function n(a){a=m(R.places,a),a.callbackKey="callback",P.util.getSuperProto(n).constructor.call(this,a)}function o(a,b,c){c=c||{};var f;if("function"!=typeof b)throw new TypeError("Invalid callback");if("string"==typeof a)a=e(a,c.baseURL);else if(!(a instanceof d))throw new TypeError("Invalid url");c.headers=f=c.headers||{},f.accept||(f.accept="application/json"),this.pa=b,this.$=new P.net.Xhr(a.toString(),this.tb.bind(this),c)}function p(){this.F={}}function q(a){var b,c,d=0,e=a.length;if(0===e)return d;for(b=0;e>b;b++)c=a.charCodeAt(b),d=(d<<5)-d+c,d|=0;return d}function r(a,b,c){if(c=c?c:{criticality:"major,critical"},!(a instanceof x))throw Error("IllegalArgument: service");this.Z=P.lang.bind(this.Z,this),P.map.provider.MarkerTileProvider.call(this,{max:20,min:8,requestData:this.Z}),this.F=new p,this.M=a,this.i=c,this.reload=P.lang.bind(this.reload,this),setInterval(this.reload,b||18e4)}function s(){this.sb={hybrid:this.Da,satellite:this.Da,terrain:this.wa,normal:this.wa}}function t(a){var b,c,d,e=a.boxes;if(this.alt=a.alt,this.label=a.label,this.min=a.minLevel,this.max=a.maxLevel,this.I=[],e&&(b=e.length))for(c=e[0],d=new P.geo.Rect(c[0],c[1],c[2],c[3]),this.I.push(d),this.G=new P.geo.Rect(c[0],c[1],c[2],c[3]),a=1;b>a;a++)c=e[a],d=new P.geo.Rect(c[0],c[1],c[2],c[3]),this.I.push(d),this.G.mergeRect(d,!1,this.G)}function u(a,b,c,d,e,f){var g=this;f=f?f:{};var h=a.a.clone().d(b+"/"+a.j+"/"+c).b(f),i=a.l;P.map.provider.ImageTileProvider.call(this,{tileSize:d,max:512==d?19:20,min:512==d?2:0,getURL:function(a,b,c){var f=g.tileBaseUrl_.clone();return i&&f.k(i[(c+b+a)%i.length]),f.d(c+"/"+a+"/"+b+"/"+d+"/"+e),f.toString()}}),this.service_=a,this.tileBaseUrl_=h,this.tileType_=b,this.scheme_=c,this.params_=f,this.copyrightKey_=c.split(".")[0],this.updateAndReload_=P.lang.bind(this.updateAndReload_,this),a.addEventListener("versionupdate",this.updateAndReload_)}function v(a){a=m(R.maptile,a),P.util.EventTarget.call(this),this.f=a.baseUrl,this.e=a.path,this.n=a.subDomain,this.l=a.shards,this.m=(this.U=!!a.ignoreTypes)?null:a.type,this.j=a.version,this.Q=new s,this.Aa={}}function w(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}function x(a){a=m(R.trafficIncidents,a),a.callbackKey="jsoncallback",P.util.getSuperProto(x).constructor.call(this,a)}function y(a,b,c,d){d=d||aa,this.t={},d.provider=a,P.map.Spatial.call(this,b,d),c&&(this.Y=c)}function z(a,b){this.Wa=a,b>=0&&(this.va=b)}function A(){}function B(a){var b;if(a)for(this.ga={},b=a.length;b--;)this.ga[a[b]]=!0;this.Ia={}}function C(a){var b=a[0],c=a[1],d=a[2];return a=a[3],[new P.math.Point(b,c),new P.math.Point(b+d,c),new P.math.Point(b+d,c+a),new P.math.Point(b,c+a)]}function D(a,b){for(var c,d,e=ea.length;e--;)c=ea[e],(d=a[c])&&(b.push(C(d)),delete a[c]);return b}function E(a,b){var c,d,e,f,g,h=b.length;if(h>0)for(d=Array(h);h--;)if((c=b[h])||(ca=!0,c=void 0),c&&(f=c.length,f>0))for(d[h]=e=Array(f);f--;)g=2*c[f],e[f]=new P.math.Point(a[g],a[g+1]);return d||[]}function F(a,b,c,d,e,f,g,h,i,j){return fa.style=e,d=new y(b,d,j,fa),d.t[a.key]=new z(c,i),G(f),f.category=g,d.setData(f),h.spatials.push(d),d.setParentEventTarget(b),d}function G(a){var b,c=!1;switch(typeof a){case"object":if(a instanceof Array)for(b=a.length;b--;)G(a[b])?c=!0:delete a[b];else if(a)for(b in a)G(a[b])?c=!0:delete a[b];break;case"number":c=!0;break;default:c=!!a}return c}function H(){}function I(a,b){this.mb=a,this.ya={},P.lang.extend(this.ya,b||this.ya),P.map.provider.ObjectProvider.call(this,b),this.K={}}function J(a){a=m(R.maptile,a||{}),P.util.EventTarget.call(this),this.f=a.baseUrl,this.e=a.path,this.n=a.subDomain,this.l=a.shards,this.m=(this.U=!!a.ignoreTypes)?null:a.type,this.j=a.version,this.Q=new s}function K(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}function L(a,b,c){if(c=c||{},this.i=b=b||{},!(a&&a instanceof J))throw Error("InvalidArgument: service required");this.M=a,this.ha=P.lang.bind(this.ha,this),this.M.addEventListener("versionupdate",this.ha),this.f=a.a.clone().d("maptile/"+a.j+"/normal.day").b(this.la).b(b),this.l=a.l||null,this.tileSize=c.tileSize||256,this.nb=c.pixelratio||1,this.objectProvider_=new I(new B(c.categoryFilter)),this.objectProvider_.setParentEventTarget(this),this.W=P.lang.bind(this.W,this),this.objectProvider_.addEventListener("update",this.W),this.B=[],this.xa=P.lang.bind(this.xa,this),this.oa=this.getCache(),P.map.provider.RemoteTileProvider.call(this,{min:0,max:20})}function M(a){a=m(R.enterpriseRouting,a),a.callbackKey="jsoncallback",P.util.getSuperProto(M).constructor.call(this,a)}function N(a){a=m(R.routing,a),a.callbackKey="jsoncallback",P.util.getSuperProto(N).constructor.call(this,a)}function O(a){a=m(R.geocoding,a),a.callbackKey="jsoncallback",P.util.getSuperProto(O).constructor.call(this,a),this.Ca=a.reverseSubDomain}var P=a,Q=this;c("H.service.Url",d),d.parse=e,d.prototype.clone=function(){return new d(this.ba,this.A,this.e,this.qa(),this.H,this.q)},d.prototype.clone=d.prototype.clone,d.prototype.ca=function(a){if(!a||"string"!=typeof a)throw Error('The "scheme" parameter must be a non-empty string.');return this.ba=a,this},d.prototype.setScheme=d.prototype.ca,d.prototype.ib=function(){return this.ba},d.prototype.getScheme=d.prototype.ib,d.prototype.N=function(a){if(!a||"string"!=typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw Error('The "host" parameter is not a valid host name.');return this.A=a,this},d.prototype.setHost=d.prototype.N,d.prototype.$a=function(){return this.A},d.prototype.getHost=d.prototype.$a,d.prototype.p=function(a){return this.e=a||void 0,this},d.prototype.setPath=d.prototype.p,d.prototype.bb=function(){return this.e},d.prototype.getPath=d.prototype.bb,d.prototype.Ha=function(a){if(a){if("object"!=typeof a)throw Error('Parameter "params" must be an object.');this.i=a}else this.i={};return this},d.prototype.setQuery=d.prototype.Ha,d.prototype.ua=function(){return!g(this)},d.prototype.hasQuery=d.prototype.ua,d.prototype.fb=function(){return this.i},d.prototype.getQuery=d.prototype.fb,d.prototype.Ga=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter "port" must be a number or undefined');return this.H=+a||void 0,this},d.prototype.setPort=d.prototype.Ga,d.prototype.eb=function(){return this.H},d.prototype.getPort=d.prototype.eb,d.prototype.Ea=function(a){return this.q=a||void 0,this},d.prototype.setAnchor=d.prototype.Ea,d.prototype.getAnchor=function(){return this.q},d.prototype.getAnchor=d.prototype.getAnchor,d.prototype.b=function(a){if("object"!=typeof a)throw Error('Parameter "other" must be an object.');var b,c=this.i;for(b in a)a.hasOwnProperty(b)&&"function"!=typeof a[b]&&(c[b]=a[b]);return this},d.prototype.mergeQuery=d.prototype.b,d.prototype.k=function(a){if(!a||"string"!=typeof a)throw Error('Parameter "subDomain" must be a non-empty string');return"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1)),this.N(a+"."+this.A)},d.prototype.addSubDomain=d.prototype.k,d.prototype.d=function(a){if(!a||"string"!=typeof a)throw Error('Parameter "subPath" must be a non-empty string');return this.p((this.e?this.e+"/":"")+a)},d.prototype.addSubPath=d.prototype.d,d.prototype.toString=function(){return[this.ba+"://",this.A,this.H?":"+this.H:"",this.e||!g(this)||this.q?"/":"",this.e?encodeURI(this.e):"",f(this),this.q?"#"+encodeURIComponent(this.q):""].join("")},d.prototype.toString=d.prototype.toString,d.prototype.qa=function(){var a,b={};for(a in this.i)b[a]=this.i[a];return b},d.prototype.cloneQuery_=d.prototype.qa,c("H.service.jsonp",h),h.jb=function(a){return(a=h.aa[a])?a:function(){}},h.handleResponse=h.jb,h.pb=0,h.aa={},c("H.service.AbstractRestService",i),i.prototype.g=function(a,b,c,d,e){return this.a=(this.f||e).clone(),this.n&&this.a.k(this.n),this.e&&this.a.p(this.e),this},i.prototype.configure=i.prototype.g,c("H.service.Platform",k),k.prototype.g=function(a){if(a.configure)return a.configure(this.na,this.ma,this.La,this.Ka,this.f);throw Error("Object is not configurable")},k.prototype.configure=k.prototype.g,k.prototype.ea=function(a){this.La=a,this.f.ca(a?"https":"http")},k.prototype.setUseHTTPS=k.prototype.ea,k.prototype.da=function(a){this.Ka=a,this.f.N((a?"cit.":"")+this.Na)},k.prototype.setUseCIT=k.prototype.da,k.prototype.Fa=function(a){this.Na=a.A,this.f=a=a.clone(),a.b({xnlp:"CL_JSMv3."+P.buildInfo().version}),this.da(this.Ka),this.ea(this.La),l(this,this.na,this.ma)},k.prototype.setBaseUrl=k.prototype.Fa,k.prototype.Xa=function(){return this.f},k.prototype.getBaseUrl=k.prototype.Xa;var R={app_id:null,app_code:null,useHTTPS:!1,useCIT:!1,baseUrl:new d("http","api.here.com")};c("H.service.setOptions",function(a,b){R[a]=b}),c("H.service.getOptions",function(a){return R[a]}),P.lang.inherits(n,i),c("H.service.PlacesService",n),n.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"},n.prototype.o=function(a,b,c,d){return b=b||{},a=this.a.clone().d(a).b(b),j(this,a,c,d)},n.prototype.request=n.prototype.o,n.prototype.search=function(a,b,c){return this.o("discover/search",a,b,c)},n.prototype.search=n.prototype.search,n.prototype.rb=function(a,b,c){return this.o("suggest",a,b,c)},n.prototype.suggest=n.prototype.rb,n.prototype.Ta=function(a,b,c){return this.o("discover/explore",a,b,c)},n.prototype.explore=n.prototype.Ta,n.prototype.Ma=function(a,b,c){return this.o("discover/around",a,b,c)},n.prototype.around=n.prototype.Ma,n.prototype.kb=function(a,b,c){return this.o("discover/here",a,b,c)},n.prototype.here=n.prototype.kb,n.prototype.Qa=function(a,b,c){return this.o("categories/places",a,b,c)},n.prototype.categories=n.prototype.Qa,n.prototype.Ua=function(a,b,c,d){return a=e(a),d&&a.b(d),j(this,a,b,c)},n.prototype.follow=n.prototype.Ua,R.places={subDomain:"places",path:"places/v1"},k.prototype.cb=function(){return this.g(new n)},k.prototype.getPlacesService=k.prototype.cb,c("H.service.JsonX",o),o.prototype.tb=function(a,b){var c,d=this.pa;if(!b)try{c=JSON.parse(a)}catch(e){b="parse"}delete this.pa,delete this.$,d(c,b)},o.prototype.abort=function(){this.$&&this.$.abort()},o.prototype.abort=o.prototype.abort,p.prototype.getIcon=function(a,b){var c,d,e,f=a+b;if(!(c=this.F[f])){if(e={size:{w:26,h:32},anchor:{x:13,y:30}},"CLOSURE"!==a)switch(c=X,a){case"CONGESTION":c=c.replace("{{icon}}",T);break;case"ROADWORKS":c=c.replace("{{icon}}",U);break;case"ACCIDENT":c=c.replace("{{icon}}",V);break;default:c=c.replace("{{icon}}",W)}else c=Y,e.anchor.y=16;d=S[b]||S.BLOCKING,c=c.replace("{{color}}",d),this.F[f]=c=new P.map.Icon(c,e)}return c};var S={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},T='<path d="m 18,15 0,0 c 0,-0.1 0,-0.2 0,-0.4 l 0,-0.2 c 0,-0.1 0,-0.2 0,-0.4 0,0 0,0 0,0 0.6,0 1.1,-0.4 1.1,-1 0,-0.5 -0.5,-1 -1,-1 -0.7,0 -1.1,0.5 -1.1,1 -0.1,0 -0.3,-0.1 -0.4,-0.1 l -0.6,0 -0.3,-0.5 C 15.2,11.6 14.3,11 13.3,11 L 18,11 17.2,9.6 C 17,9.3 16.7,9 16.3,9 L 12.8,9 C 12.4,9 12,9.3 11.8,9.6 L 11.1,11 9.8,11 C 9.7,11 9.6,11 9.5,11 9.2,11 9,10.9 9,10.6 L 9,10.4 C 9,10.2 9.2,9.9 9.5,9.9 l 1.2,0 0.6,-1.04 c 0.3,-0.5 0.9,-0.9 1.5,-0.9 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1.04 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 18.3,16 18,15.8 18,15.6 L 18,15 z M 8,18.1 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.6,0 -1.1,0.5 -1.1,1 0,0.6 0.5,1.1 1.1,1.1 m 7,0 c 0.6,0 1.1,-0.5 1.1,-1.1 0,-0.5 -0.5,-1 -1.1,-1 -0.5,0 -1,0.5 -1,1 0,0.6 0.5,1.1 1,1.1 M 14.2,13.6 C 14,13.3 13.7,13 13.3,13 L 9.8,13 C 9.4,13 9,13.3 8.8,13.6 L 8.1,15 15,15 14.2,13.6 z m -8.2,1 0,-0.2 c 0,-0.2 0.2,-0.5 0.5,-0.5 l 1.1,0 0.7,-1 C 8.6,12.4 9.2,12 9.8,12 l 3.5,0 c 0.6,0 1.2,0.4 1.5,0.9 l 0.6,1 1.2,0 c 0.2,0 0.4,0.3 0.4,0.5 l 0,0.2 c 0,0.3 -0.2,0.5 -0.4,0.5 l -0.1,0 c 0.3,0.3 0.5,0.7 0.5,1.1 l 0,3.4 c 0,0.2 -0.2,0.4 -0.4,0.4 l -1.1,0 C 15.3,20 15,19.8 15,19.6 L 15,19 8,19 8,19.6 C 8,19.8 7.8,20 7.5,20 l -1,0 C 6.2,20 6,19.8 6,19.6 l 0,-3.4 c 0,-0.4 0.2,-0.8 0.6,-1.1 l -0.1,0 C 6.2,15.1 6,14.9 6,14.6" fill="#ffffff" />',U='<path d="m 9.24,13.2 -3.7,6.8 1.3,0 2.8,-5.1 1.36,1.5 0,3.6 1.1,0 0,-4 -1.4,-1.6 -1.46,-1.2 z M 14.2,9.5 c 0.7,0 1.3,-0.5 1.3,-1.21 0,-0.7 -0.6,-1.2 -1.3,-1.2 -0.7,0 -1.2,0.5 -1.2,1.2 0,0.71 0.5,1.21 1.2,1.21 m -4.46,0.5 1.06,0 -0.96,2.1 -1,-0.8 0.9,-1.3 z m 2.56,4 -1,-0.7 1,-1.9 0,2.6 z m 6.9,1.7 c -0.4,-0.5 -1.5,-1.1 -2.3,0 -0.2,0.3 -0.6,0.7 -0.9,1.2 l -2.7,-2.1 0,-5 -0.8,-0.7 -3.26,0 -1.5,2.3 7.86,6 C 14.7,18.6 13.8,20 13.8,20 l 6,0 1.5,-1.6 c 0,0 -1.7,-2.2 -2.1,-2.7" fill="#ffffff" />',V='<path d="m 10.2,15.9 c 0.4,-0.5 1,-0.5 1.4,0 0.5,0.4 0.5,1 0,1.4 -0.4,0.4 -1,0.4 -1.4,0 -0.45,-0.4 -0.45,-1 0,-1.4 m 4.9,-5 c 0.4,-0.4 1.1,-0.4 1.5,0 0.4,0.4 0.4,1.1 0,1.5 -0.4,0.4 -1.1,0.4 -1.5,0 -0.4,-0.4 -0.4,-1.1 0,-1.5 m 2.6,3.8 c 0.1,0.3 0,0.7 -0.3,1 l -1.9,1 c 0,0 0,0.8 0,1.1 0,0.3 0,0.2 -0.1,0.3 -0.1,0.1 -0.3,0.2 -0.5,0.2 l -2.6,-0.3 4.9,-4.9 0.5,1.6 z m -6.5,5 0.1,0.2 c 0.2,0.1 0.5,0.1 0.7,0 l 0.8,-0.9 1.8,0.1 c 1.1,0 1.4,0 1.7,-0.6 l 0.1,-1.3 1.8,-0.8 c 0.4,-0.4 0.6,-1.1 0.4,-1.7 l -0.3,-1.1 0.8,-0.8 c 0.2,-0.2 0.2,-0.5 0,-0.7 L 19,12 c -0.2,-0.2 -0.5,-0.2 -0.7,0 l -0.1,0.1 c 0.1,-0.5 -0.1,-0.9 -0.4,-1.3 L 15.5,8.44 C 15.3,8.26 15,8.26 14.8,8.44 l -0.7,0.74 c -0.2,0.19 -0.2,0.49 0,0.68 l 0.3,0.34 -4.92,5 -0.36,-0.4 C 8.93,14.6 8.63,14.6 8.45,14.8 L 7.7,15.6 c -0.18,0.1 -0.18,0.4 0,0.6 l 2.4,2.4 c 0.3,0.3 0.7,0.4 1.2,0.4 l -0.1,0.1 c -0.2,0.2 -0.2,0.5 0,0.7 m 5.6,-0.8 3.9,0 1.6,-2 -5.5,2 z m -8.08,0 -3.28,-1.8 0.9,1.8 2.38,0 z" fill="#ffffff" />',W='<path d="m 12.9,15.1 c 0.6,0 1.1,-0.5 1.1,-1 l 0.4,-5.9 c 0,-0.6 -0.6,-1.04 -1.5,-1.04 -0.8,0 -1.4,0.44 -1.4,1.04 l 0.3,5.9 c 0,0.5 0.6,1 1.1,1 m 0,1.3 c -0.7,0 -1.3,0.6 -1.3,1.3 0,0.8 0.6,1.4 1.3,1.4 0.8,0 1.4,-0.6 1.4,-1.4 0,-0.7 -0.6,-1.3 -1.4,-1.3" fill="#ffffff" />',X='<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><path d="m 16.8,29.4 c 0,-1.1 -1.8,-2 -4,-2 -2.2,0 -4.01,0.9 -4.01,2 0,1.1 1.81,2 4.01,2 2.2,0 4,-0.9 4,-2" style="fill:#878787"/><path d="m 24.1,17.8 c 1.6,-1.6 1.6,-3.8 0,-5.7 L 15.8,1.9 C 15,0.998 14,0.498 12.9,0.498 11.8,0.498 10.7,1.1 10,1.9 L 1.7,12.1 c -1.6,1.9 -1.6,4.1 0,5.7 L 12.9,29 24.1,17.8 z" stroke="#fff" stroke-width="1" fill="{{color}}" />{{icon}}</svg>',Y='<svg width="26" height="32" xmlns="http://www.w3.org/2000/svg"><circle cx="13" cy="15" r="11" fill="{{color}}" stroke="#ffffff" stroke-width="1"/><rect x="6" y="13" width="14" height="5" fill="#ffffff" /></svg>',Z=Function("return this")();P.lang.inherits(r,P.map.provider.MarkerTileProvider),c("H.service.TrafficIncidentsProvider",r),r.prototype.Sa={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"},r.prototype.Z=function(a,b,c,d,e){var f=this,g=this.Sa,h=this.F;return this.M.Ba(a,b,c,function(a){var b=[];a=a.TRAFFIC_ITEMS;var c,e,i,j;if(a)for(a=a.TRAFFIC_ITEM,j=a.length;j--;){switch(c=a[j],e=c.TRAFFIC_ITEM_TYPE_DESC){case"ACCIDENT":case"CONGESTION":i=e;break;case"CONSTRUCTION":i="ROADWORKS";break;default:i="OTHER"}i=h.getIcon(i,g[c.CRITICALITY.DESCRIPTION]),e=c.LOCATION.GEOLOC.ORIGIN,e=new P.map.Marker({lat:e.LATITUDE,lng:e.LONGITUDE},{provider:f,icon:i}),e.setData(c),b.push(e)}d(b)},e,this.i)},t.prototype.intersects=function(a,b){var c;if(a>=this.min&&a<=this.max){if(!(c=this.I.length)||!this.G)return!0;if(this.G.intersects(b))for(;c--;)if(this.I[c].intersects(b))return!0}return!1};var $=new t({label:"INEGI",minLevel:9,maxLevel:20,boxes:[[14.4031,-94.2111,16,-91],[32,-117.1817,32.7325,-113.1649],[17.406,-91,18,-88.7349],[28,-101,29.4004,-99.9666],[28,-103,30,-101],[24,-113,26,-97],[26,-99,26.4261,-97.5566],[15.5643,-97.9326,16,-95.2581],[16,-91,16.9491,-90.3434],[18,-107,22,-95],[16,-103,18,-91],[18,-95,20,-87],[28,-119,32,-103],[22,-111,24,-97],[18,-115,20,-109],[26,-117,28,-99]]}),_=new t({label:"NavInfo",minLevel:6,maxLevel:20,boxes:[[52.7754,119.9835,53.5719,126.1939],[35.4169,77.1449,35.7754,78.5576],[17.7754,108.5576,18.7754,110.5576],[47.9285,115.4373,48.223,115.5576],[30.7754,78.5576,36.7754,79.5576],[49.7754,118.4027,50.9802,119.5576],[39.7754,120.5576,40.7754,126.5576],[28.7754,82.5576,29.7754,98.5576],[35.7754,120.5576,38.7754,121.5576],[40.7754,120.5576,42.7754,128.5576],[42.7754,115.5576,49.7754,131.5576],[45.7754,82.363,46.2212,82.5576],[49.7754,127.5576,50.7754,128.5576],[28.2004,96.2409,28.7754,97.5576],[18.7754,108.5576,20.7754,111.5576],[28.6334,93.5576,28.7754,94.0161],[25.1912,119.5576,25.7754,119.912],[24.7754,117.5576,25.7754,119.5576],[38.7754,120.5576,39.7754,124.5576],[20.7754,99.5576,21.7754,102.5576],[32.7754,120.5576,33.5701,120.8986],[41.7754,128.5576,42.7754,131.5576],[27.6769,91.7865,27.7754,92.1101],[36.7754,73.5576,40.7754,79.5576],[20.7754,106.5576,22.7754,113.5576],[27.7754,117.5576,29.7754,122.5576],[45.7754,82.5576,47.7754,91.5576],[48.7754,86.6922,49.2494,88.1056],[41.7754,79.2585,41.8535,79.5576],[42.7754,111.5576,45.7754,115.5576],[21.7754,113.5576,22.7754,116.5576],[32.2241,78.3965,32.6363,78.5576],[42.7754,94.5576,44.7754,96.5576],[29.7754,120.5576,32.7754,122.5576],[26.7754,117.5576,27.7754,121.5576],[24.5027,118.5576,24.7754,118.8161],[29.7754,122.5576,31.7754,123.5576],[40.7754,76.5576,41.7754,79.5576],[29.7754,79.5576,42.7754,120.5576],[49.7754,119.5576,52.7754,127.5576],[21.7754,98.5576,22.7754,104.5576],[47.7754,85.4858,48.7754,90.1507],[44.8404,131.5576,48.4334,134.8631],[27.7754,84.5576,28.7754,93.5576],[25.7754,117.5576,26.7754,120.5576],[36.7754,121.5576,37.7754,123.5576],[27.2614,88.7706,27.7754,89.2653],[23.7754,97.5576,28.7754,98.5576],[35.7754,75.5576,36.7754,78.5576],[23.7754,117.5576,24.7754,118.5576],[22.7754,98.5576,29.7754,117.5576],[42.7754,79.5576,45.7754,94.5576]]});s.prototype.wa=[$,_],s.prototype.Da=[new t({label:"DigitalGlobe",minLevel:0,maxLevel:20,boxes:[[90,-180,-90,180]]}),$,_],P.lang.inherits(u,P.map.provider.ImageTileProvider),u.prototype.getCopyrights=function(a,b){var c,d=this.service_.getCopyrights().sb[this.copyrightKey_],e=d?d.length:0,f=[];for(c=0;e>c;c++)d[c].intersects(b,a)&&f.push(d[c]);return f},u.prototype.updateAndReload_=function(){var a=this.service_;this.tileBaseUrl_=a.a.clone().d(this.tileType_+"/"+a.j+"/"+this.scheme_).b(this.params_),this.reload(!1)},P.lang.inherits(v,P.util.EventTarget),c("H.service.MapTileService",v),v.prototype.g=function(a,b,c,d,e){return this.a=(this.f||e).clone(),this.n&&this.a.k(this.n),this.m&&this.a.k(this.m),this.e&&this.a.p(this.e),"newest"===this.j&&this.R(),this},v.prototype.configure=v.prototype.g,v.prototype.ta=function(){return this.m},v.prototype.getType=v.prototype.ta,v.prototype.T=function(){return this.j},v.prototype.getVersion=v.prototype.T,v.prototype.fa=function(a){this.j=a},v.prototype.getCopyrights=function(){return this.Q},v.prototype.getCopyrights=v.prototype.getCopyrights,v.prototype.ia=function(a){a=a.response;var b;if(w(a,"map"),w(a,"scheme"),w(a,"tiletype"),w(a,"format"),w(a,"resolution"),w(a,"language"),"newest"===this.j&&"traffic"!==this.m)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.fa(a.maps[b].hash),this.dispatchEvent("versionupdate"));this.V=a,this.dispatchEvent("infoupdate")},v.prototype.R=function(){var a=this,b=this.a.clone().d("info").b({output:"json"});this.l&&b.k(this.l[0]),h({url:b,P:"callback_func",r:function(b){a.ia(JSON.parse(b.replace(/,\s?\]/g,"]")))},D:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+b.toString())},za:!0})},v.prototype.S=function(){return this.V},v.prototype.getInfo=v.prototype.S,v.prototype.s=function(a,b,c,d,e){var f;f=q(this.a.clone().d(a+"/"+this.j+"/"+b+"/"+c+"/"+d).b(e?e:{}).toString());var g=this.Aa[f];return g||(g=new u(this,a,b,c,d,e),this.Aa[f]=g),g},v.prototype.createTileProvider=v.prototype.s,v.prototype.c=function(a,b,c,d,e,f,g){return a=this.s(a,b,c,d,e),new P.map.layer.TileLayer(a,{opacity:f,dark:!!g})},v.prototype.createTileLayer=v.prototype.c,R.maptile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]},k.prototype.u=function(a){var b;b=m(R.maptile,a);var c;return c=""+(b.ignoreTypes?"":b.type),c+=b.path,c+=b.subDomain,c+=b.baseUrl,c+=b.shards?b.shards.join(""):"",b=q(c),c=this.Ja[b],c||(c=this.g(new v(a)),this.Ja[b]=c),c},k.prototype.getMapTileService=k.prototype.u,P.lang.inherits(x,i),c("H.service.TrafficIncidentsService",x),x.prototype.ob=function(a,b,c){return a=this.a.clone().d("incidents.json").b(a),j(this,a,b,c)},x.prototype.requestIncidents=x.prototype.ob,x.prototype.Ba=function(a,b,c,d,e,f){return a=this.a.clone().d(["incidents/json",c,a,b].join("/")).b(f||{}),j(this,a,d,e)},x.prototype.requestIncidentsByTile=x.prototype.Ba,R.trafficIncidents={subDomain:"traffic",path:"traffic/6.1"},k.prototype.sa=function(){return this.g(new x)},k.prototype.getTrafficIncidentsService=k.prototype.sa,k.prototype.Ra=function(a,b,c,d,e,f){var g=this.u(),h=this.u({type:"aerial"}),i=this.u({type:"traffic"}),j=this.u({type:"pano"}),k=this.ra(),l=this.sa(),m={};return a=a||256,320===b&&(m.ppi=b),c&&(m.lg=c),d&&(m.lg2=d),e&&(m.style=e),f&&(m.pois=""),c=new r(l,void 0,c?m:null),this.lb=new P.map.layer.MarkerTileLayer(c),{normal:{xbase:g.c("xbasetile","normal.day",a,"png8",m,1,!1),base:g.c("basetile","normal.day",a,"png8",m,1,!1),map:g.c("maptile","normal.day",a,"png8",m,1,!1),traffic:i.c("traffictile","normal.day",a,"png8",m,1,!1),transit:g.c("maptile","normal.day.transit",a,"png8",m,1,!1),panorama:j.c("rctile","normal.day",a,"png8",m,1,!1),labels:g.c("labeltile","normal.day",a,"png",m,1,!1),metaInfo:k.c(a,320===b?2:1,["buildings"],m)},satellite:{xbase:h.c("xbasetile","hybrid.day",a,"jpg",m,1,!0),base:h.c("basetile","hybrid.day",a,"jpg",m,1,!0),map:h.c("maptile","hybrid.day",a,"jpg",m,1,!0),traffic:i.c("traffictile","hybrid.day",a,"jpg",m,1,!0),panorama:j.c("rctile","hybrid.day",a,"jpg",m,1,!0),labels:h.c("labeltile","hybrid.day",a,"png",m,1,!0)},terrain:{xbase:h.c("xbasetile","terrain.day",a,"jpg",m,1,!1),base:h.c("basetile","terrain.day",a,"jpg",m,1,!1),map:h.c("maptile","terrain.day",a,"jpg",m,1,!1),traffic:i.c("traffictile","terrain.day",a,"jpg",m,1,!1),panorama:j.c("rctile","terrain.day",a,"jpg",m,1,!1),labels:h.c("labeltile","terrain.day",a,"png",m,1,!1)},incidents:this.lb}},k.prototype.createDefaultLayers=k.prototype.Ra,P.lang.inherits(y,P.map.Spatial),c("H.service.metaInfo.Spatial",y);var aa={};y.prototype.v=function(){return this.Y},y.prototype.getRemoteId=y.prototype.v,y.prototype.X=0,y.prototype.L=function(){this.Y&&++this.X},y.prototype.retain=y.prototype.L,y.prototype.J=function(){return this.Y&&(--this.X||this.getProvider().removeObject(this)),1>this.X},y.prototype.release=y.prototype.J,z.prototype.va=-1;var ba=new z([]);y.prototype.getGeometry=function(a){return(this.t[a.key]||ba).Wa},y.prototype.getGeometry=y.prototype.getGeometry,y.prototype.getHybridIdx=function(a){return(this.t[a.key]||ba).va},y.prototype.getHybridIdx=y.prototype.getHybridIdx,A.prototype.parse=function(){},c("H.service.metaInfo.IParser.prototype.parse",A.prototype.parse);var ca;B.prototype.ga={},B.prototype.parse=function(a,b,c){var d,e,f,g,h,i;ca=!1;try{c=Z.JSON.parse(c)}catch(j){ca=!0}if(c&&(d=c.metadata)){for(e in i={spatials:[]},d)if((c=!this.ga[e]&&(f=da[e]))&&((g=d[e])||(ca=!0,g=void 0),c=g),c)for(c=g.length;c--;){var k;(k=g[c])||(ca=!0,k=void 0),(h=k)&&f(b,a,this,e,h,i)}}else ca=!0;return ca?void 0:i},c("H.service.metaInfo.Parser.prototype.parse",B.prototype.parse);var da={"street labels":function(a,b,c,d,e,f){var g;if((g=e.vertices)||(ca=!0,g=void 0),g){var h,i,j,k=g.length;if((i=k>0)||(ca=!0,i=void 0),i)for(h=Array(k/2);k;)j=g[--k],i=g[--k],h[k/2]=new P.math.Point(i,j);h=h?[h]:[],k=+e["font size"]/a.getPixelRatio(),g=c.Ia[k],g||(ga.lineWidth=k,g=c.Ia[k]=c.C.getCopy(ga)),F(a,b,h,!1,g,e,d,f,-1)}delete e.vertices},"city center labels":function(a,b,c,d,e,f){F(a,b,D(e,[]),!0,c.C,e,d,f,-1)},labels:function(a,b,c,d,e,f){var g;if((g=e["bounding boxes"])||(ca=!0,g=void 0),g){for(var h,i=g.length,j=[];i--;){var k;(k=g[i])||(ca=!0,k=void 0),(h=k)&&D(h,j)}F(a,b,j,!0,c.C,e,d,f,-1)}delete e["bounding boxes"]},buildings:function(a,b,c,d,e,f){var g,h,i,j,k,l,m=e.id,n=b.K[m],o=[],p=[];if((g=e.sectors)||(ca=!0,g=void 0),g)for(i=g.length,h=0;i>h;h++)(j=g[h])||(ca=!0,j=void 0),j&&((k=j.vertices)&&((l=j.polygons)&&o.push.apply(o,E(k,l)),(l=j.outlines)&&p.push.apply(p,E(k,l))),delete j.vertices,delete j.polygons,delete j.outlines);l=o.length,o.push.apply(o,p),(p=o.length)||(ca=!0,p=void 0),p&&(n?(n.t[a.key]=new z(o,l),f.spatials.push(n)):(n=F(a,b,o,!0,c.C,e,d,f,l,m),b.addObject(n)))}};da.transit_stops=da.POIs=da.labels;var ea=["text box","bullet box","annotation box"],fa={};B.prototype.C=new P.map.SpatialStyle({strokeColor:"transparent",fillColor:"transparent",lineWidth:0});var ga={};H.prototype.v=function(){},c("H.service.metaInfo.IObject.prototype.getRemoteId",H.prototype.v),H.prototype.L=function(){},c("H.service.metaInfo.IObject.prototype.retain",H.prototype.L),H.prototype.J=function(){},c("H.service.metaInfo.IObject.prototype.release",H.prototype.J),P.lang.inherits(I,P.map.provider.ObjectProvider),c("H.service.metaInfo.ObjectProvider",I);var ha=[];I.prototype.requestMarkers=function(){return ha},I.prototype.requestMarkers=I.prototype.requestMarkers,I.prototype.requestDomMarkers=function(){return ha},I.prototype.requestDomMarkers=I.prototype.requestDomMarkers,I.prototype.providesSpatials=function(){return!0},I.prototype.providesSpatials=I.prototype.providesSpatials,I.prototype.requestSpatials=function(){return ha},I.prototype.requestSpatials=I.prototype.requestSpatials,I.prototype.requestSpatialsByTile=function(a){var b,c=a.ka;return!c&&(b=a.ja)&&(delete a.ja,b=this.mb.parse(this,a,b))&&(c=a.ka=b.spatials),c||ha},I.prototype.requestSpatialsByTile=I.prototype.requestSpatialsByTile,I.prototype.addObject=function(a){var b=a.v();if(this.K[b])throw"Remote object "+b+" allready added";this.K[b]=a},I.prototype.removeObject=function(a){delete this.K[a.v()]},P.lang.inherits(J,P.util.EventTarget),c("H.service.metaInfo.Service",J),J.prototype.g=function(a,b,c,d,e){return this.a=(this.f||e).clone(),this.n&&this.a.k(this.n),this.m&&this.a.k(this.m),this.e&&this.a.p(this.e),"newest"===this.j&&this.R(),this},J.prototype.configure=J.prototype.g,J.prototype.ta=function(){return this.m},J.prototype.T=function(){return this.j},J.prototype.getVersion=J.prototype.T,J.prototype.fa=function(a){this.j=a},J.prototype.getCopyrights=function(){return this.Q},J.prototype.getCopyrights=J.prototype.getCopyrights,J.prototype.ia=function(a){a=a.response;var b;if(K(a,"map"),K(a,"scheme"),K(a,"tiletype"),K(a,"format"),K(a,"resolution"),K(a,"language"),"newest"===this.j&&"traffic"!==this.m)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.fa(a.maps[b].hash),this.dispatchEvent("versionupdate"));this.V=a,this.dispatchEvent("infoupdate")},J.prototype.R=function(){var a=this,b=this.a.clone().d("info").b({output:"json"});this.l&&b.k(this.l[0]),h({url:b,P:"callback_func",r:function(b){a.ia(JSON.parse(b.replace(/,\s?\]/g,"]")))},D:function(a){throw Error("["+a+"]: Could not fetch meta-info from map tile service @"+b.toString())},za:!0})},J.prototype.S=function(){return this.V},J.prototype.getInfo=J.prototype.S,J.prototype.s=function(a,b,c,d){return new L(this,d,{tileSize:a,pixelratio:b,categoryFilter:c})},J.prototype.createTileProvider=J.prototype.s,J.prototype.c=function(a,b,c,d){return a=this.s(a,b,c,d),new P.map.layer.TileLayer(a)},J.prototype.createTileLayer=J.prototype.c,k.prototype.ra=function(a){return this.g(new J(a))},k.prototype.getMetaInfoService=k.prototype.ra,R.metainfotile={type:"base",version:"newest",subDomain:"maps",path:"maptile/2.1",shards:["1","2","3","4"]},P.lang.inherits(L,P.map.provider.RemoteTileProvider),c("H.service.metaInfo.TileProvider",L),L.prototype.xa=function(a,b){var c,d,e;for(c=b.getObjects(),d=c.length;d--;)e=c[d],delete e.t[b.key],e.J();b.data&&(this.B.push(b.releaseCanvas()),b.releaseData())},L.prototype.W=function(){this.dispatchEvent("update")},L.prototype.requestInternal=function(a,b,c,d,e){var f,g,h=this.f.clone(),i=this.l,j=this.tileSize,k=this.getTileKey(a,b,c),k=this.oa.get(k);if(k&&!k.isCanvasValid())d(this.B.pop()||Z.document.createElement("canvas"),null),f={cancel:function(){}};else{i&&h.k(i[(c+b+a)%i.length]),h.d(c+"/"+a+"/"+b+"/"+j+"/png8");var l=Z.setTimeout(function(){g=new P.net.Xhr(h.toString(),function(a,b){b?e():d(null,a)})},500)}return f||{cancel:function(){g||Z.clearTimeout(l)}}},L.prototype.requestInternal=L.prototype.requestInternal,L.prototype.createTileInternal=function(a,b,c,d,e){var f,g=this.objectProvider_;

if(f=d||this.B.pop()||Z.document.createElement("canvas"),d)a=this.oa.get(this.getTileKey(a,b,c)),a.render(d);else if(d=a=new P.map.provider.SpatialTile(this.getTileKey(a,b,c),a,b,c,this.tileSize,this.nb,g),delete d.ka,d.ja=e,a.render(f))for(e=a.getObjects(),f=e.length;f--;)e[f].L();else this.B.push(f);return a},L.prototype.createTileInternal=L.prototype.createTileInternal,L.prototype.ha=function(){var a=this.M;this.f=a.a.clone().d("maptile/"+a.j+"/normal.day").b(this.la).b(this.i),this.reload(!1)},L.prototype.la={metadata:"metaonly",mgen:"2"},P.lang.inherits(M,i),c("H.service.EnterpriseRoutingService",M),M.prototype.O=function(a,b,c){a=this.a.clone().d("calculateroute.json").b(a),j(this,a,b,c)},M.prototype.calculateRoute=M.prototype.O,M.prototype.gb=function(a,b,c){a=this.a.clone().d("getroute.json").b(a),j(this,a,b,c)},M.prototype.getRoute=M.prototype.gb,M.prototype.ab=function(a,b,c){a=this.a.clone().d("getlinkinfo.json").b(a),j(this,a,b,c)},M.prototype.getLinkInfo=M.prototype.ab,M.prototype.Oa=function(a,b,c){a=this.a.clone().d("calculateisoline.json").b(a),j(this,a,b,c)},M.prototype.calculateIsoline=M.prototype.Oa;var ia={subDomain:"route",path:"routing/6.2",baseUrl:new d("http","nlp.nokia.com")};R.enterpriseRouting=ia,k.prototype.Ya=function(a){return this.g(new M(a))},k.prototype.getEnterpriseRoutingService=k.prototype.Ya,P.lang.inherits(N,i),c("H.service.RoutingService",N),N.prototype.O=function(a,b,c){a=this.a.clone().d("calculateroute.json").b(a),j(this,a,b,c)},N.prototype.calculateRoute=N.prototype.O,R.routing={subDomain:"route",path:"routing/7.2"},k.prototype.hb=function(a){return this.g(new N(a))},k.prototype.getRoutingService=k.prototype.hb,P.lang.inherits(O,i),c("H.service.GeocodingService",O),O.prototype.Va=function(a,b,c){return a=this.a.clone().d("geocode.json").b(a),j(this,a,b,c)},O.prototype.geocode=O.prototype.Va,O.prototype.qb=function(a,b,c){return a=this.a.clone().d("reversegeocode.json").b(a),this.Ca&&a.k(this.Ca),j(this,a,b,c)},O.prototype.reverseGeocode=O.prototype.qb,O.prototype.search=function(a,b,c){return a=this.a.clone().d("search.json").b(a),j(this,a,b,c)},O.prototype.search=O.prototype.search,R.geocoding={subDomain:"geocoder",path:"6.2",reverseSubDomain:"reverse"},k.prototype.Za=function(a){return this.g(new O(a))},k.prototype.getGeocodingService=k.prototype.Za;var P=P||{};c("H.service.buildInfo",function(){return P.util.BuildInfo.get("mapsjs-service","0.7.0","c52dd1fbee64a53867a4be4ed32d4595dad4746e")})}(H),function(a){function b(a,b,c){return a.call.apply(a.bind,arguments)}function c(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function d(a,e,f){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:c,d.apply(null,arguments)}function e(a,b){var c=a.split("."),d=F;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function f(a,b,c,d){if(isNaN(a))throw Error("x needs to be a number");if(isNaN(b))throw Error("y needs to be a number");if(isNaN(c))throw Error("pointer must have an id");this.viewportX=a,this.viewportY=b,this.target=null,this.id=c,this.type=d,this.dragTarget=null}function g(a,b,c){if(isNaN(b))throw Error("x needs to be a number");if(isNaN(c))throw Error("y needs to be a number");a.viewportX=b,a.viewportY=c}function h(a){var b=a.ownerDocument,b=b.documentElement||b.body.parentNode||b.body;return a=a.getBoundingClientRect(),{x:a.left+("number"==typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:a.top+("number"==typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}}function i(a,b,c,d,e,f,g){E.util.getSuperProto(i).constructor.call(this,a),this.pointers=b,this.changedPointers=c,this.targetPointers=d,this.currentPointer=e,this.originalEvent=g,this.target=f}function j(a){this.b=a instanceof Array?a.slice(0):[]}function k(a,b){var c=a.indexOf(b);return-1!==c?a.b[c]:null}function l(a,b){for(var c=a.b.length,d=[];c--;)a.b[c].type!==b&&d.push(a.b[c]);a.b=d}function m(a,b){for(var c=a.b.length;c--;)if(a.b[c].dragTarget===b)return!0;return!1}function n(){0!=I&&(J[this[G]||(this[G]=++H)]=this)}function o(a,b,c){if(c=c||{},!(a instanceof E.Map))throw Error("events: map instance required");if(!(b instanceof Array))throw Error("events: map array required");n.call(this),this.L=c.L||500,this.K=c.K||50,this.Y=c.Y||50,this.Z=c.Z||500,this.Q=c.Q||1e3,this.P=c.P||50,this.map=a,this.i=this.map.getViewPort(),this.element=this.i.element,this.A=b,this.c=new j,this.d=new j,this.k={},this.h=null,this.t=!0,this.r={},this.q={},this.p=null,this.n=E.lang.bind(this.n,this),this.ha={pointerdown:this.ea,pointermove:this.fa,pointerup:this.ga,pointercancel:this.da},p(this)}function p(a,b){for(var c,d,e=0,f=a.A.length,e=0;f>e;e++)d=a.A[e],c=d.g,"function"==typeof c&&(b?(d.target||a.element).removeEventListener(d.f,c):(d.target||a.element).addEventListener(d.f,c))}function q(a,b,c){var d,e,f,g=a.ha[b];if("function"==typeof g)for("pointermove"!==b&&(a.t=!0),e=0,f=a.d.length();f>e;e++)b=a.d.item(e),a.element.contains(c.target)?(d=a,d=d.h===b?b.target:0<=b.viewportX&&b.viewportX<d.i.width&&0<=b.viewportY&&b.viewportY<d.i.height?d.map.getObjectAt(b.viewportX,b.viewportY)||d.map:null):d=null,s(b.id,a.r),g.call(a,b,d,c);a.d.clear()}function r(a,b,c){b===a.h&&(u(a,b.dragTarget,"dragend",c,b),a.h=null,s(b.id,a.r)),b.dragTarget=null}function s(a,b){b[a]&&(clearTimeout(b[a]),delete b[a])}function t(a,b,c){var d=b.target,e=new E.math.Point(b.viewportX,b.viewportY),f=b.id;s(f,a.q),a.q[f]=setTimeout(function(){d&&d===b.target&&e.distance({x:b.viewportX,y:b.viewportY})<a.P&&(u(a,d,"longpress",c,b),delete a.k[b.id])},a.Q)}function u(a,b,c,d,e){var f;if(b&&"function"==typeof b.dispatchEvent){f=i;var g=a.c.asArray(),h=a.d.asArray();a=a.c;var j,k=a.b.length,l=[];for(j=0;k>j;j++)a.b[j].target===b&&l.push(a.b[j]);f=new f(c,g,h,l,e,b,d),b.dispatchEvent(f)}return f}function v(a){this.m=E.lang.bind(this.m,this),o.call(this,a,[{f:"touchstart",g:this.m},{f:"touchmove",g:this.m},{f:"touchend",g:this.m},{f:"touchcancel",g:this.m}]),this.$={touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",touchcancel:"pointercancel"},this.O=(a=(a=a.getImprint())?a.getElement():null)?Array.prototype.slice.call(a.querySelectorAll("a"),0):[]}function w(a){var b=[],b=x(this);(navigator.pointerEnabled||navigator.msPointerEnabled)&&b.push({f:"MSHoldVisual",g:"prevent"}),o.call(this,a,b)}function x(a){var b,c,d=navigator.pointerEnabled,e=[];return a.B=E.lang.bind(a.B,a),"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver".split(" ").forEach(function(f){b=f.toLowerCase().replace(/ms/g,""),c=d?b:f,e.push({f:c,g:a.B,target:"MSPointerUp"===f||"MSPointerMove"===f?window:null})}),e}function y(a,b,c,d,e){E.util.getSuperProto(y).constructor.call(this,"wheel"),this.delta=a,this.viewportX=b,this.viewportY=c,this.target=d,this.originalEvent=e}function z(a){var b="onwheel"in document;this.ca=b,this.ba=(b?"d":"wheelD")+"elta",this.C=E.lang.bind(this.C,this),E.util.getSuperProto(z).constructor.call(this,a,[{f:(b?"":"mouse")+"wheel",g:this.C}])}function A(a){var b=window;this.j=E.lang.bind(this.j,this),o.call(this,a,[{f:"mousedown",g:this.j},{f:"mousemove",g:this.j,target:b},{f:"mouseup",g:this.j,target:b},{f:"mouseover",g:this.j},{f:"mouseout",g:this.j},{f:"dragstart",g:this.u}])}function B(a){if(-1!==L.indexOf(a))throw Error("InvalidArgument: map is already in use");this.a=a,L.push(a),this.aa=this.F=this.H=null,navigator.msPointerEnabled||navigator.pointerEnabled?this.H=new w(this.a):(this.H=new v(this.a),this.F=new A(this.a)),this.aa=new z(this.a),this.a.addOnDisposeCallback(this.dispose,this),E.util.Disposable.call(this)}function C(a,b){if(-1!==M.indexOf(a))throw Error("InvalidArgument: events are already used");var c,d=b||{};E.util.Disposable.call(this),this.a=c=a.a,this.ja=a,M.push(a),this.a.draggable=!0,this.D=d.kinetics||{duration:600,ease:E.util.animation.ease.EASE_OUT_QUAD},this.N=7,this.enable(d.enabled||this.N),d=E.Map.EngineType,this.i=this.a.getViewPort(),this.l=this.i.element,this.J=this.a.getViewModel(),this.G=d.P2D,this.l.style.msTouchAction="none",this.l.style.ma="none",c.addEventListener("dragstart",this.u,!1,this),c.addEventListener("drag",this.T,!1,this),c.addEventListener("dragend",this.U,!1,this),c.addEventListener("wheel",this.W,!1,this),c.addEventListener("dbltap",this.S,!1,this),c.addEventListener("tap",this.V,!1,this),c.addEventListener("pointermove",this.X,!1,this),E.util.events.listen(this.l,"contextmenu",this.R,!1,this),a.addOnDisposeCallback(this.dispose,this)}var D,E=a,F=this,G="closure_uid_"+(1e9*Math.random()>>>0),H=0;e("H.mapevents.Pointer",f),E.lang.inherits(i,E.util.Event),e("H.mapevents.Event",i),D=j.prototype,D.clear=function(){this.b.splice(0,this.b.length)},D.length=function(){return this.b.length},D.item=function(a){return this.b[a]},D.indexOf=function(a){for(var b=this.b.length;b--;)if(this.b[b].id===a)return b;return-1},D.remove=function(a){return a=this.indexOf(a),-1!==a?this.b.splice(a,1)[0]:null},D.push=function(a){if(a instanceof f)return this.b.push(a);throw Error("list needs a pointer")},D.asArray=function(){return this.b},D.clone=function(){return new j(this.b)};var I=0,J={};n.prototype.M=!1,n.prototype.dispose=function(){if(!this.M&&(this.M=!0,this.o(),0!=I)){var a=this[G]||(this[G]=++H);delete J[a]}},n.prototype.addOnDisposeCallback=function(a,b){this.s||(this.s=[]),this.s.push(d(a,b))},n.prototype.o=function(){if(this.s)for(;this.s.length;)this.s.shift()()},E.lang.inherits(o,n),D=o.prototype,D.ga=function(a,b,c){a.target=b,r(this,a,c),u(this,b,"pointerup",c,a),"mouse"!==a.type&&u(this,b,"pointerleave",c,a),b=this.k[a.id];var d={x:a.viewportX,y:a.viewportY},e=c.timeStamp,f=a.target,g=this.p;b&&b.target===f&&b.v.distance(d)<this.Y&&e-b.I<this.Z?(u(this,f,"tap",c,a),g&&g.target===f&&e-g.I<this.L?g.v.distance({x:a.viewportX,y:a.viewportY})<this.K&&(u(this,f,"dbltap",c,a),this.p=null):this.p={target:f,v:new E.math.Point(a.viewportX,a.viewportY),I:c.timeStamp}):this.p=null,this.k={},s(a.id,this.q)},D.n=function(a,b){var c=this;u(this,a.dragTarget,"drag",b,a),s(a.id,this.r),this.r[a.id]=setTimeout(function(){c.n(a,b)},150)},D.fa=function(a,b,c){var d,e=a.dragTarget,f=a.id;d=a.target,a.target=b,d!==b&&(u(this,d,"pointerleave",c,a),u(this,b,"pointerenter",c,a)),e?this.h?this.n(a,c):this.t?this.t=!1:(this.h=a,u(this,e,"dragstart",c,a),this.n(a,c),delete this.k[f],this.t=!0):(!this.h||this.h&&this.h.dragTarget!==b&&this.h.dragTarget!==this.map)&&u(this,b,"pointermove",c,a)},D.ea=function(a,b,c){var d,e=a.type,e="mouse"!==e&&"pen"!==e||0===c.button?!0:!1;b&&(a.target=b,this.k[a.id]={v:new E.math.Point(a.viewportX,a.viewportY),target:a.target,I:c.timeStamp},"mouse"!==a.type&&u(this,b,"pointerenter",c,a),d=u(this,b,"pointerdown",c,a),!this.h&&e&&(b.draggable&&!m(this.c,b)?a.dragTarget=b:!this.map.draggable||d.defaultPrevented||m(this.c,this.map)||(a.dragTarget=this.map)),t(this,a,c))},D.da=function(a,b,c){a.target=null,b?(u(this,b,"pointerleave",c,a),u(this,b,"pointercancel",c,a)):u(this,this.map,"pointercancel",c,a),r(this,a,c),this.k={},s(a.id,this.q)},D.o=function(){p(this,!0),this.c.clear(),this.d.clear();var a,b=this.r;for(a in b)s(a,b);var c,b=this.q;for(c in b)s(c,b);this.h=this.k=this.p=this.map=this.d=this.c=this.A=null,n.prototype.o.call(this)},E.lang.inherits(v,o),v.prototype.m=function(a){var b,c=a.touches,d=this.c.length();if("touchstart"===a.type&&d>=c.length){for(d=this.c.clone(),b=c.length;b--;)d.remove(c[b].identifier);for(b=d.length();b--;)this.c.remove(d.item(b).id);this.d=d,q(this,"pointercancel",a),this.d.clear()}if(this.$[a.type]){c=h(this.i.element),d=a.type,b=a.changedTouches;var e,i,j,l,m,n,o=b.length;for(this.d.clear(),n=0;o>n;n++)j=b[n],m=k(this.c,j.identifier),e=j.pageX-c.x,i=j.pageY-c.y,m?"touchmove"===d?(j=Math.abs(m.viewportX-e),l=Math.abs(m.viewportY-i),(j>1||l>1||1===j&&1===l)&&(g(m,e,i),this.d.push(m))):"touchend"===d&&(this.c.remove(m.id),this.d.push(m)):(m=new f(e,i,j.identifier,"touch"),this.c.push(m),this.d.push(m));q(this,this.$[a.type],a),-1===this.O.indexOf(a.target)&&a.preventDefault()}},v.prototype.o=function(){this.O=null,o.prototype.o.call(this)},E.lang.inherits(w,o);var K={2:"touch",3:"pen",4:"mouse"};w.prototype.w=function(a,b){var c;return c=a.pointerType,"number"==typeof c&&(c=K[c]),c=new f(b.x,b.y,a.pointerId,c),this.c.push(c),c},w.prototype.B=function(a){var b=navigator.la?a.type:a.type.toLowerCase().replace(/ms/g,""),c=h(this.element),d=k(this.c,a.pointerId),e=a.pageX-c.x,c=a.pageY-c.y,f=K[a.pointerType]||a.pointerType;d||b in{pointerup:1,pointerout:1,pointercancel:1}||"touch"===f&&"pointerdown"!==b||(d=this.w(a,{x:e,y:c})),d&&(b in{pointerup:1,pointercancel:1}&&this.c.remove(d.id),"pointerdown"===b&&"touch"===a.pointerType&&(l(this.c,"mouse"),l(this.c,"pen")),this.d.push(d),"pointermove"!==b?(g(d,e,c),q(this,"pointerout"===b||"pointerover"===b?"pointermove":b,a)):d.viewportX===e&&d.viewportY===c||a.target===document.documentElement||(g(d,e,c),q(this,b,a))),this.d.clear()},E.lang.inherits(y,E.util.Event),e("H.mapevents.WheelEvent",y),E.lang.inherits(z,o),z.prototype.normalize=function(a,b,c){var d,e,f,g=this.ba,h=a[g+(g+"Y"in a?"Y":"")];return h&&(f=Math.abs,d=f(h),h=(!(e=a[g+"X"])||3<=d/f(e))&&(!(e=a[g+"Z"])||3<=d/f(e))?((h>0)-(0>h))*(this.ca?1:-1):0),new y(h,b,c,null,a)},z.prototype.C=function(a){var b=h(this.element);a=this.normalize(a,a.pageX-b.x,a.pageY-b.y),a.delta&&(a.target=this.map.getObjectsAt(a.viewportX,a.viewportY)[0],a.target&&"function"==typeof a.target.dispatchEvent&&a.target.dispatchEvent(a),a.defaultPrevented||this.map.dispatchEvent(a))},E.lang.inherits(A,o),A.prototype.w=function(a,b){var c=new f(b.x,b.y,1,"mouse");return this.c.push(c),c},A.prototype.j=function(a){var b=a.type,c=h(this.element),c={x:a.pageX-c.x,y:a.pageY-c.y},d=this.c.item(0)||this.w(a,c);this.d.push(d),g(d,c.x,c.y),b in{mousemove:1,mouseover:1,mouseout:1}?q(this,"pointermove",a):q(this,b.replace("mouse","pointer"),a),this.d.clear()},A.prototype.u=function(a){a.preventDefault()},E.lang.inherits(B,E.util.Disposable),e("H.mapevents.MapEvents",B);var L=[];B.prototype.dispose=function(){this.a=null,this.H.dispose(),this.aa.dispose(),this.F&&this.F.dispose(),L.splice(L.indexOf(this.a),1),E.util.dispose(this)},B.prototype.dispose=B.prototype.dispose,B.prototype.ia=function(){return this.a},B.prototype.getAttachedMap=B.prototype.ia,E.lang.inherits(C,E.util.Disposable),e("H.mapevents.Behavior",C);var M=[];C.prototype.e=0,C.DRAGGING=1,C.WHEELZOOM=2,C.DBLTAPZOOM=4,D=C.prototype,D.u=function(a){var b=a.pointers;a=this.i;var c=b[0],b=b[1]||{};1&this.e&&(a.startInteraction(17,this.D),a.interaction(c.viewportX,c.viewportY,b.viewportX,b.viewportY))},D.T=function(a){var b=a.pointers[0],c=a.pointers[1]||{};1&this.e&&(this.i.interaction(b.viewportX,b.viewportY,c.viewportX,c.viewportY),a.originalEvent.preventDefault())},D.U=function(){var a=this.i;1&this.e&&a.endInteraction(!this.D)},D.zoom=function(a,b,c,d){var e=+b-+a,f=this.a.getViewModel();if(isNaN(+a))throw Error("start zoom needs to be a number");if(isNaN(+b))throw Error("to zoom needs to be a number");0!==e&&(f.startControl(null,c,d),f.control(0,0,e/e*.006),f.endControl(!0,function(a){a.zoom=b}))},D.W=function(a){var b,c,d,e;2&this.e&&(b=a.delta,c=this.a.getZoom(),e=Math[0>b?"ceil":"floor"](c-b),d=this.a,d.getEngine().type===this.G?this.zoom(c,e,a.viewportX,a.viewportY):(c=this.a.getViewModel().getCameraData(),c.fov+=16*b,d.getViewModel().setCameraData(c)),a.originalEvent.preventDefault())},D.V=function(a){a=a.currentPointer;var b=this.a.getEngine();this.G!==b.type&&(a=this.a.screenToCameraData(a.viewportX,a.viewportY),this.a.getViewModel().setCameraData(a))},D.X=function(a){a=a.currentPointer,this.a.getEngine().setPointer(a.viewportX,a.viewportY)},D.S=function(a){var b=a.currentPointer,c=this.a.getZoom(),d=a.currentPointer.type,e=this.a.getEngine();this.G===e.type&&(a="mouse"===d?c+(0===a.originalEvent.button?1:-1):c+(0<a.pointers.length?-1:1),4&this.e&&this.zoom(c,a,b.viewportX,b.viewportY))},D.R=function(a){return 4&this.e?(a.preventDefault(),!1):!0},D.dispose=function(){var a=this.a;a&&(a.draggable=!1,a.removeEventListener("dragstart",this.u,!1,this),a.removeEventListener("drag",this.T,!1,this),a.removeEventListener("dragend",this.U,!1,this),a.removeEventListener("wheel",this.W,!1,this),a.removeEventListener("tap",this.V,!1,this),a.removeEventListener("dbltap",this.S,!1,this),a.removeEventListener("pointermove",this.X,!1,this),this.a=null),this.l&&(this.l.style.msTouchAction="",E.util.events.unlisten(this.l,"contextmenu",this.R,!1,this),this.l=null),this.J&&(this.J.removeEventListener("sync",this.ka,!1,this),this.J=null),this.D=this.i=null,M.splice(M.indexOf(this.ja),1),E.util.dispose(this)},C.prototype.dispose=C.prototype.dispose,C.prototype.disable=function(a){this.i.endInteraction(!0),a?this.e&a&&(this.e-=a,1&a&&(this.a.draggable=!1)):(this.e=0,this.a.draggable=!1)},C.prototype.disable=C.prototype.disable,C.prototype.enable=function(a){a?this.e&a||(this.e+=a,1&a&&(this.a.draggable=!0)):(this.e=this.N,this.a.draggable=!0)},C.prototype.enable=C.prototype.enable,C.prototype.isEnabled=function(a){if(isNaN(a))throw Error("behavior: number required");return!!(this.e&a)},C.prototype.isEnabled=C.prototype.isEnabled;var E=E||{};e("H.mapevents.buildInfo",function(){return E.util.BuildInfo.get("mapsjs-mapevents","0.7.0","1b4a323f313fef1b771d36ce41280e9533da41df")})}(H),function(a){function b(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function c(a){return"string"==typeof a}function d(a){return a[ta]||(a[ta]=++ua)}function e(a,b,c){return a.call.apply(a.bind,arguments)}function f(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function g(a,b,c){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?e:f,g.apply(null,arguments)}function h(a,b){var c=a.split("."),d=sa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function i(a,b){function c(){}c.prototype=b.prototype,a.sb=b.prototype,a.prototype=new c}function j(a){this.Nb=a?a:this.Ab()}function k(a,b,c,d){return a=a.createElement(b),c&&(a.className=c),d&&(a.innerHTML=d),a}function l(a,b){for(var c=1,d=arguments.length;d>c;c++)a.appendChild(arguments[c])}function m(a,b,c){Da.addEventListener(a,b,c,void 0)}function n(a,b,c){Da.removeEventListener(a,b,c,void 0)}function o(a,b){return b>a?-1:a>b?1:0}function p(){0!=Ea&&(Fa[d(this)]=this)}function q(){}function r(a){var b,c=hb;for(b in c)a.call(void 0,c[b],b,c)}function s(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<La.length;f++)c=La[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function t(){return sa.navigator?sa.navigator.userAgent:null}function u(){return sa.navigator}function v(){var a=sa.document;return a?a.documentMode:void 0}function w(a){var b;if(!(b=ab[a])){b=0;for(var c=String(Va).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&e>f;f++){var g=c[f]||"",h=d[f]||"",i=/(\d*)(\D*)/g,j=/(\d*)(\D*)/g;do{var k=i.exec(g)||["","",""],l=j.exec(h)||["","",""];if(0==k[0].length&&0==l[0].length)break;b=o(0==k[1].length?0:parseInt(k[1],10),0==l[1].length?0:parseInt(l[1],10))||o(0==k[2].length,0==l[2].length)||o(k[2],l[2])}while(0==b)}b=ab[a]=b>=0}return b}function x(a,b){this.type=a,this.currentTarget=this.target=b}function y(a){return y[" "](a),a}function z(a,b){a&&this.ua(a,b)}function A(a,c,e,f,g){if("array"==b(c))for(var h=0;h<c.length;h++)A(a,c[h],e,f,g);else{a:{if(!c)throw Error("Invalid event type");f=!!f;var i=ib;c in i||(i[c]={q:0,k:0}),i=i[c],f in i||(i[f]={q:0,k:0},i.q++);var j,i=i[f],h=d(a);if(i.k++,i[h]){j=i[h];for(var k=0;k<j.length;k++)if(i=j[k],i.L==e&&i.Za==g){if(i.W)break;j[k].pa=!1,a=j[k];break a}}else j=i[h]=[],i.q++;k=B(),i=new q,i.ua(e,k,a,c,f,g),i.pa=!1,k.src=a,k.L=i,j.push(i),jb[h]||(jb[h]=[]),jb[h].push(i),a.addEventListener?a!=sa&&a.customEvent_||a.addEventListener(c,k,f):a.attachEvent(c in kb?kb[c]:kb[c]="on"+c,k),a=i}hb[a.key]=a}}function B(){var a=I,b=db?function(c){return a.call(b.src,b.L,c)}:function(c){return c=a.call(b.src,b.L,c),c?void 0:c};return b}function C(a,c,e,f,g){if("array"==b(c))for(var h=0;h<c.length;h++)C(a,c[h],e,f,g);else if(f=!!f,h=ib,a=c in h&&(h=h[c],f in h&&(h=h[f],a=d(a),h[a]))?h[a]:null,a)for(h=0;h<a.length;h++)if(a[h].L==e&&a[h].capture==f&&a[h].Za==g){D(a[h].key);break}}function D(a){var b=hb[a];if(b&&!b.W){var c=b.src,e=b.type,f=b.Mb,g=b.capture;if(c.removeEventListener?c!=sa&&c.customEvent_||c.removeEventListener(e,f,g):c.detachEvent&&c.detachEvent(e in kb?kb[e]:kb[e]="on"+e,f),c=d(c),jb[c]){var f=jb[c],h=gb(f,b);h>=0&&fb.splice.call(f,h,1),0==f.length&&delete jb[c]}b.W=!0,(b=ib[e][g][c])&&(b.Fb=!0,E(e,g,c,b)),delete hb[a]}}function E(a,b,c,d){if(!d.ya&&d.Fb){for(var e=0,f=0;e<d.length;e++)d[e].W?d[e].Mb.src=null:(e!=f&&(d[f]=d[e]),f++);d.length=f,d.Fb=!1,0==f&&(delete ib[a][b][c],ib[a][b].q--,0==ib[a][b].q&&(delete ib[a][b],ib[a].q--),0==ib[a].q&&delete ib[a])}}function F(a){var b=0;if(null!=a){if(a=d(a),jb[a]){a=jb[a];for(var c=a.length-1;c>=0;c--)D(a[c].key),b++}}else r(function(a,c){D(c),b++})}function G(a,b,c,e,f){var g=1;if(b=d(b),a[b]){var h=--a.k,i=a[b];i.ya?i.ya++:i.ya=1;try{for(var j=i.length,k=0;j>k;k++){var l=i[k];l&&!l.W&&(g&=!1!==H(l,f))}}finally{a.k=Math.max(h,a.k),i.ya--,E(c,e,b,i)}}return Boolean(g)}function H(a,b){return a.pa&&D(a.key),a.handleEvent(b)}function I(a,b){if(a.W)return!0;var c=a.type,d=ib;if(!(c in d))return!0;var e,f,d=d[c];if(!db){var g;if(!(g=b))a:{g=["window","event"];for(var h=sa;e=g.shift();){if(null==h[e]){g=null;break a}h=h[e]}g=h}if(e=g,g=!0 in d,h=!1 in d,g){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var i=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(j){i=!0}(i||void 0==e.returnValue)&&(e.returnValue=!0)}}i=new z,i.ua(e,this),e=!0;try{if(g){for(var k=[],l=i.currentTarget;l;l=l.parentNode)k.push(l);f=d[!0],f.k=f.q;for(var m=k.length-1;!i.V&&m>=0&&f.k;m--)i.currentTarget=k[m],e&=G(f,k[m],c,!0,i);if(h)for(f=d[!1],f.k=f.q,m=0;!i.V&&m<k.length&&f.k;m++)i.currentTarget=k[m],e&=G(f,k[m],c,!1,i)}else e=H(a,i)}finally{k&&(k.length=0)}return e}return c=new z(b,this),e=H(a,c)}function J(){p.call(this)}function K(a,b){p.call(this),this.oc=a||"div",this.P=b?b.split(" "):[],this.h(!1),this.setData(null),this.el=null}function L(a,b){a.nc=b,a.getElement()&&(b?a.getElement().setAttribute("title",b):a.getElement().removeAttribute("title"))}function M(a){(a=a.getElement())&&a.parentNode&&ra.util.removeNode(a)}function N(a,b,c){K.call(this,a,b),this.u=c?[].concat(c):[]}function O(){this.l=lb.CLOSED,N.call(this,"div","H_overlay")}function P(a){a=a||{},N.call(this,"div","H_rdo"),this.ub=new K("div","H_rdo_title"),this.oa=new N("div","H_rdo_buttons"),this.g(this.ub),this.g(this.oa),this.Gb=ra.lang.bind(function(a){a.target.getState()===nb.DOWN?(this.ba(a.target,!0),this.dispatchEvent(mb)):a.target.a(nb.DOWN,!0)},this),this.addEventListener("statechange",this.Gb),this.Na(a.title||""),a.onActiveButtonChange&&this.addEventListener(mb,a.onActiveButtonChange),a.buttonsOptions&&a.buttonsOptions.forEach(function(a){this.Ta(new R(a))},this)}function Q(a){a=a||{},K.call(this,"div","H_btn"),this.A(a.label||" "),L(this,a.tooltip||""),this.setData(a.data),this.h(!!a.disabled),this.a(nb.UP,!0),a.onStateChange&&this.addEventListener("statechange",a.onStateChange),this.za=ra.lang.bind(this.za,this),this.aa=ra.lang.bind(this.aa,this)}function R(a){Q.call(this,a),this.ec=function(a){a.preventDefault()},this.Ha=ra.lang.bind(function(a){this.v||this.toggleState(),a.preventDefault()},this)}function S(a,b,c){var d=qb.$a.transform;if(!d)if("transform"in qb.tb)d=qb.$a.transform="transform";else{var d=pb.length,e="",f="",g=!1;qb.ob&&(f=qb.ob+"Transform",g=f in qb.tb);for(;d--&&!g;)e=pb[d],f=e+"Transform",g=f in qb.tb;if(g&&(qb.ob=e),!(d=g?f:null))throw Error("Could not find any variant of CSS property [transform]");qb.$a.transform=d}a.style[d]="translate("+b+"px,"+c+"px)"}function T(){N.call(this,"div","H_pano_mm"),this.B=new K("div","H_pano_circle H_noevs"),this.ha=new K("div","H_pano_man H_noevs"),this.g(this.B),this.g(this.ha)}function U(a,b,c,d){a.ha.el.innerHTML=b?'<svg class="H_icon H_noevs" viewBox="0 0 120 192"><path d="m5,83c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,-9 6,-12c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,-7l-3,-53c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7 -10,-11c0,-14 0,-31 6,-41l0,0l1,-2z" stroke-width="10"/><circle r="25" cy="25" cx="49" stroke-width="10"/></svg>':'<svg class="H_icon H_noevs" viewBox="0 0 120 192"><path d="m96,85c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 -16,8 -23,21c-4,9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 9,-7l4,-52c0,0 2,0 3,0l4,52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,-28 -1,-38l0,0m-22,-60c0,14 -11,25 -25,25c-14,0 -25,-11 -25,-25c0,-14 11,-25 25,-25c14,0 25,11 25,25z" stroke-width="10"/></svg>',b&&S(a.B.el,c||0,d||0),a.h(!b)}function V(a){p.call(this),this.H=a,this.map=a.C(),this.U=this.T=Number.MAX_VALUE,this.$=ra.lang.bind(this.$,this),this.Ga=ra.lang.bind(this.Ga,this),this.ib=ra.lang.bind(this.ib,this),this.Da=ra.lang.bind(this.Da,this),this.Ca=ra.lang.bind(this.Ca,this),this.Ba=ra.lang.bind(this.Ba,this),this.Ea=ra.lang.bind(this.Ea,this),this.Fa=ra.lang.bind(this.Fa,this),this.j=new T,this.j.render(a.getElement().ownerDocument),this.S=ra.lang.bind(this.S,this),m(this.j.B.el,"start",this.S),this.wa=this.va=Number.MAX_VALUE,this.Ia=ra.lang.bind(this.Ia,this),this.Ja=ra.lang.bind(this.Ja,this),this.f=new _(this.map.getCenter()),this.f.i("H_ib_noclose H_pano_ib"),this.Xa=!1,this.G=0}function W(a,b,c){ra.map.render.panorama&&(a.va=b,a.wa=c,ra.map.render.panorama.RenderEngine.getClosestPanoramas(a.map.screenToGeo(a.va,a.wa),a.Ia))}function X(){N.call(this,"div","H_ctl"),this.map=null,this.Y="top-left"}function Y(a){var b;b=this.t={Z:{label:'<svg class="H_icon" viewBox="75 67 180 200"><path d="m214,153c-6,-13 -17,-18 -23,-21c-6,-2 -12,-2 -12,-2c0,0 -22,0 -22,0c0,0 -6,0 -12,2c-6,2 -16,8 -23,21c-4,9 -4,27 -4,38c0,6 5,9 9,9c3,0 8,-3 8,-9c0,-28 9,-27 9,-27l0,88c0,4 3,7 8,7c4,0 9,-1 9,-7l4,-52c0,0 2,0 3,0l4,52c0,5 4,7 9,7c4,0 8,-3 8,-7l0,-88c0,0 9,0 9,27c0,5 5,9 8,9c3,0 9,-2 9,-9c0,-11 3,-28 -1,-38l0,0z"/><circle cx="167" cy="93" r="25"/></svg>'},xb:{label:'<svg class="H_icon" viewBox="73 72 178 205"><path d="m120,158c8,-15 16,-18 23,-20c6,-2 16,-1 17,-1c0,0 11,0 15,0c5,0 6,0 11,0c7,0 20,-6 27,-18c3,-6 4,-9 6,-12c2,-3 7,-5 11,-3c4,2 4,8 3,11c-1,4 -6,15 -9,20c-19,30 -37,32 -38,32l0,94c0,3 -3,7 -8,7c-4,0 -9,-3 -9,-7l-3,-53c0,0 -3,0 -4,0l-3,53c0,3 -3,7 -9,7c-4,0 -9,-3 -9,-7l0,-88c0,0 -9,0 -9,29c0,3 -1,10 -9,10c-7,0 -10,-7 -10,-11c0,-14 0,-31 6,-41l0,0l1,-2z"/><circle cx="166" cy="99" r="25"/></svg>'},panorama:{}};var c,d=this;X.call(this),this.h(!0),a&&(Z(this,a.mapTypes),(c=a.alignment)&&this.F(c)),this.coverageButton_=new R({onStateChange:function(){var a=d.t;d.a("down"===this.getState()?a.xb:a.Z)}}),this.xa=new Q({onStateChange:function(){d.map.setEngineType(ra.Map.EngineType.P2D),d.a(d.nb)}}),this.g(this.coverageButton_),this.g(this.xa),this.l=this.nb=b.Z}function Z(a,b){var c,d,e,f;if(b){for(a.n=b,a.Tb=c=[],e=["normal","satellite","terrain"],f=0;f<e.length;f++)b[d=e[f]]&&c.unshift(b[d]);for(d in b)0>e.indexOf(d)&&c.unshift(b[d]);a.h(!c.length)}}function $(a,b){var c,d,e,f,g;if(g=b){c=a.n;var h;a:for(e in c)for(e in f=c[e])if(f[e]===b){h=!0;break a}g=c=h?f:void 0}if(g&&(d=c.panorama),!d)for(e=a.Tb,f=e.length;f--&&!(d=e[f].panorama););return d}function _(a,b){var c=b||{};K.call(this,"div","H_ib"),this.Ib=ra.lang.bind(function(a){this.v||(this.close(),a.preventDefault())},this),this.update=ra.lang.bind(this.update,this),this.da=ra.lang.bind(this.da,this),this.setPosition(a),this.X(c.content),c.onStateChange&&this.addEventListener("statechange",c.onStateChange),this.a(rb.OPEN)}function aa(){this.Aa=ra.lang.bind(this.Aa,this),this.hb=ra.lang.bind(this.hb,this),this.m=new R({label:"Show traffic incidents",onStateChange:this.hb}),this.w=null,this.Va=0,this.Ua=22}function ba(a,b){a.N=b,a.m.A(b.b().translate("layer.incidents")),ca(a),a.N.C().addEventListener("mapviewchange",function(b){var c=b.newValue.zoom;a.w&&b.modifiers&b.ZOOM&&(c<a.Va||c>a.Ua)&&a.w.close()})}function ca(a){var b,c=a.N,d=a.m.getData();c&&(b=c.C())&&d?0<=b.getLayers().indexOf(d)?a.m.a("down",!0):(a.m.a("up",!0),a.w&&a.w.close()):a.m.a("up",!0)}function da(a){a=a||{},X.call(this),this.jb=ra.lang.bind(this.jb,this),this.kb=ra.lang.bind(this.kb,this),this.ia=ra.lang.bind(this.ia,this),this.r=ra.lang.bind(this.r,this),this.Wa=ra.lang.bind(this.Wa,this),this.M=new O,this.n=new P({onActiveButtonChange:this.ia}),this.p=new R({onStateChange:this.kb}),this.o=new R({onStateChange:this.jb}),this.ka=new aa,this.ka.Ma(a.incidents),this.gb=new R({label:'<svg version="1.1" class="H_icon" viewBox="0 0 26 26"><path d="M24,7.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V7.75z"/><path d="M24,13.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V13.75z"/><path d="M24,19.75c0,.55-.45,1-1,1H3c-.55,0-1-.45-1-1v-1.5c0-.55,.45-1,1-1h20c.55,0,1,.45,1,1V19.75z"/></svg>',onStateChange:ra.lang.bind(function(a){a.target.getState()===nb.DOWN?(this.M.a(lb.OPEN),this.M.Jb(this)):this.M.a(lb.CLOSED)},this)}),this.M.g(this.n),this.M.g(this.o),this.M.g(this.p),this.M.g(this.ka.m),this.g(this.gb),this.g(this.M),a.entries&&a.entries.forEach(function(a){this.n.Ta(new R({label:a.name,data:a.mapType}))},this),this.F(a.alignment||"bottom-right")}function ea(a,b){var c=null,d=b?b.added:a.map.getBaseLayer();a.n.fa().forEach(function(a){var b=a.getData();b.map===d?(this.n.ba(a,!0),this.p.a(nb.UP,!0),this.o.a(nb.UP,!0),c=b):b.transit&&b.transit===d?(this.n.ba(a,!0),this.p.a(nb.DOWN,!0),this.o.a(nb.UP,!0),c=b):b.traffic&&b.traffic===d&&(this.n.ba(a,!0),this.p.a(nb.UP,!0),this.o.a(nb.DOWN,!0),c=b)},a),c?(a.p.h(!c.transit),a.o.h(!c.traffic)):a.n.ba(null,!0)}function fa(a,b){var c={},d={};c["top-left"]=k(b,"div",[Cb,Ab].join(" ")),c["top-center"]=k(b,"div",[Cb,ub,yb,Ab].join(" ")),c["top-right"]=k(b,"div",[Cb,Ab].join(" ")),c["left-top"]=k(b,"div",[Cb,Bb].join(" ")),c["left-middle"]=k(b,"div",[Cb,wb,zb,Bb].join(" ")),c["left-bottom"]=k(b,"div",[Cb,Bb].join(" ")),c["right-top"]=k(b,"div",[Cb,Bb].join(" ")),c["right-middle"]=k(b,"div",[Cb,xb,zb,Bb].join(" ")),c["right-bottom"]=k(b,"div",[Cb,Bb].join(" ")),c["bottom-left"]=k(b,"div",[Cb,Ab].join(" ")),c["bottom-center"]=k(b,"div",[Cb,vb,yb,Ab].join(" ")),c["bottom-right"]=k(b,"div",[Cb,Ab].join(" ")),d["top-left"]=k(b,"div",[ub,wb].join(" ")),d["top-right"]=k(b,"div",[ub,xb].join(" ")),d["bottom-left"]=k(b,"div",[vb,wb].join(" ")),
d["bottom-right"]=k(b,"div",[vb,xb].join(" ")),l(d["top-left"],c["top-left"],c["left-top"]),l(d["top-right"],c["top-right"],c["right-top"]),l(d["bottom-left"],c["left-bottom"],c["bottom-left"]),l(d["bottom-right"],c["right-bottom"],c["bottom-right"]),l(a,d["top-left"],d["top-right"],d["bottom-left"],d["bottom-right"],c["top-center"],c["left-middle"],c["right-middle"],c["bottom-center"]),this.wb=c}function ga(a,b){var c;b?(c=a.offsetWidth,a.style.marginLeft=-Math.round(.5*c)+"px"):(c=a.offsetHeight,a.style.marginTop=-Math.round(.5*c)+"px")}function ha(a,b){Fb[a]=b,-1===Eb.indexOf(a)&&Eb.push(a),Gb.length?ia(a,b):Gb=Object.keys(b)}function ia(a,b){for(var c,d=Gb,e=d.length;e--;)if(c=d[e],!b[c])throw Error("'"+c+"' key missing in translation map for "+a)}function ja(a,b){var d;if(!c(a))throw new TypeError("string locale code required");if(d=typeof b,"object"==d&&null!=b||"function"==d)d=b,ia(a,d);else{if(-1===Eb.indexOf(a))throw Error("Default locale '"+a+"' does nto exist.");d=Fb[a]}this.c=d||{},this.Eb=a}function ka(a,b){var c=a.getElement(),d=this;p.call(this),this.c=a,this.sa=c.ownerDocument,this.Q={},this.I=[],this.K=k(this.sa,"div","H_ui"),this.dc=ra.lang.bind(function(a){this.eb.put(a.target,a.target.Y)},this),this.addEventListener("alignmentchange",this.dc),this.gc=ra.lang.bind(function(){this.Pb()},this),this.addEventListener("toggleunitsystem",this.gc),this.fc=ra.lang.bind(function(){var a=this.c.getEngine().type;if(a!==this.Ya){var b,a=this.Ya=a,c=this.Q;for(b in c)c[b]instanceof X&&c[b].onMapEngineTypeChange(a);this.eb.update()}},this),this.c.addEventListener("enginechange",this.fc),this.K.addEventListener("contextmenu",this.prevDefault,!1),this.K.addEventListener("MSHoldVisual",this.prevDefault,!1),this.eb=new fa(this.K,this.sa),this.O=Db.METRIC,la(this,"en-US"),this.Ya=this.c.getEngine().type,b&&ma(this,b),c.appendChild(this.K),setTimeout(function(){d.eb.update()},1)}function la(a,b){var d,e;if(c(b))d=b;else{if(!(b instanceof ja))throw Error("The locale parameter must be a string or a H.ui.i18n.Localization object.");d=b.Eb,e=b}if(!d)throw Error("No locale was defined.");if(e)a.fb=e;else{if(!(0<=Eb.indexOf(d)))throw Error("Locale ["+d+"] is not supported.");a.fb=new ja(d)}}function ma(a,b){var c,d;b.unitSystem&&a.Oa(b.unitSystem),(d=b.locale)&&la(a,d),(c=b.zoom)&&a.ca("zoom",new na("object"==typeof c?c:null)),(c=b.mapsettings)&&a.ca("mapsettings",new da("object"==typeof c?c:null)),(c=b.scalebar)&&a.ca("scalebar",new oa("object"==typeof c?c:null)),(c=b.panorama)&&ra.map.render.panorama&&a.ca("panorama",new Y("object"==typeof c?c:null))}function na(a){a=a||{},X.call(this),this.Ka=ra.lang.bind(this.Ka,this),this.la=new Q({label:Hb["in"],onStateChange:this.Ka}),this.Sa=new Q({label:Hb.hc,onStateChange:this.Ka}),this.g(this.la),this.g(this.Sa),this.i("H_zoom"),this.i("H_grp"),this.setZoomSpeed(a.zoomSpeed||.004),this.F(a.alignment||"right-middle")}function oa(a){a=a||{},X.call(this),this.i("H_scalebar"),this.F(a.alignment||"bottom-right"),this.maxWidth=150,this.update=ra.lang.bind(this.update,this),this.bb=this.ab=this.rb=this.qb=this.Pa=null}var pa,qa,ra=a,sa=this,ta="closure_uid_"+(1e9*Math.random()>>>0),ua=0,va=navigator.userAgent,wa=-1<va.indexOf("Android")&&-1<va.indexOf("Mozilla/5.0")&&-1<va.indexOf("AppleWebKit"),xa=/AppleWebKit\/([\d.]+)/,ya=null===xa.exec(va)?null:parseFloat(xa.exec(va)[1]);qa=wa&&null!==ya&&537>ya,j.prototype.Ab=function(){var a=Function("return this;")(),b=a.navigator,c=[];return b&&(b.msPointerEnabled?c.push(Aa):b.pc&&c.push(za)),1>c.length&&("TouchEvent"in a&&c.push(Ba),c.push(Ca)),c},h("H.ui.util.Events.prototype.detectEventSets",j.prototype.Ab),j.prototype.addEventListener=function(a,b,c,d){for(var e,f=this.Nb,g=f.length;g--;)(e=f[g][b])&&a.addEventListener(e,c,d||!1)},j.prototype.removeEventListener=function(a,b,c,d){for(var e,f=this.Nb,g=f.length;g--;)(e=f[g][b])&&a.removeEventListener(e,c,d||!1)};var za={start:"pointerdown",end:"pointerup",move:"pointermove",cancel:"pointercancel",over:"pointerover",out:"pointerout",hover:"pointerhover"},Aa={start:"MSPointerDown",end:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel",over:"MSPointerOver",out:"MSPointerOut",hover:"MSPointerHover"},Ba={start:"touchstart",end:"touchend",move:"touchmove",cancel:"touchcancel"},Ca={start:"mousedown",end:"mouseup",move:"mousemove",over:"mouseover",out:"mouseout",hover:"mousehover"},Da=new j,Ea=0,Fa={};p.prototype.Bb=!1,p.prototype.dispose=function(){if(!this.Bb&&(this.Bb=!0,this.e(),0!=Ea)){var a=d(this);delete Fa[a]}},p.prototype.e=function(){if(this.Hb)for(;this.Hb.length;)this.Hb.shift()()};var Ga=0;pa=q.prototype,pa.key=0,pa.W=!1,pa.pa=!1,pa.ua=function(a,c,d,e,f,g){if("function"==b(a))this.Db=!0;else{if(!a||!a.handleEvent||"function"!=b(a.handleEvent))throw Error("Invalid listener argument");this.Db=!1}this.L=a,this.Mb=c,this.src=d,this.type=e,this.capture=!!f,this.Za=g,this.pa=!1,this.key=++Ga,this.W=!1},pa.handleEvent=function(a){return this.Db?this.L.call(this.Za||this.src,a):this.L.handleEvent.call(this.L,a)};var Ha,Ia,Ja,Ka,La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ka=Ja=Ia=Ha=!1;var Ma;if(Ma=t()){var Na=u();Ha=0==Ma.indexOf("Opera"),Ia=!Ha&&-1!=Ma.indexOf("MSIE"),(Ja=!Ha&&-1!=Ma.indexOf("WebKit"))&&Ma.indexOf("Mobile"),Ka=!Ha&&!Ja&&"Gecko"==Na.product}var Oa,Pa=Ha,Qa=Ia,Ra=Ka,Sa=Ja,Ta=u();Oa=Ta&&Ta.platform||"",Oa.indexOf("Mac"),Oa.indexOf("Win"),Oa.indexOf("Linux"),u()&&(u().appVersion||"").indexOf("X11");var Ua=t();Ua&&Ua.indexOf("Android"),Ua&&Ua.indexOf("iPhone"),Ua&&Ua.indexOf("iPad");var Va;a:{var Wa,Xa="";if(Pa&&sa.opera)var Ya=sa.opera.version,Xa="function"==typeof Ya?Ya():Ya;else if(Ra?Wa=/rv\:([^\);]+)(\)|;)/:Qa?Wa=/MSIE\s+([^\);]+)(\)|;)/:Sa&&(Wa=/WebKit\/(\S+)/),Wa)var Za=Wa.exec(t()),Xa=Za?Za[1]:"";if(Qa){var $a=v();if($a>parseFloat(Xa)){Va=String($a);break a}}Va=Xa}var _a,ab={},bb=sa.document,cb=bb&&Qa?v()||("CSS1Compat"==bb.compatMode?parseInt(Va,10):5):void 0;(_a=!Qa)||(_a=Qa&&cb>=9);var db=_a,eb=Qa&&!w("9");!Sa||w("528"),Ra&&w("1.9b")||Qa&&w("8")||Pa&&w("9.5")||Sa&&w("528"),Ra&&!w("8")||Qa&&w("9");var fb=Array.prototype,gb=fb.indexOf?function(a,b,c){return fb.indexOf.call(a,b,c)}:function(a,b,d){if(d=null==d?0:0>d?Math.max(0,a.length+d):d,c(a))return c(b)&&1==b.length?a.indexOf(b,d):-1;for(;d<a.length;d++)if(d in a&&a[d]===b)return d;return-1};pa=x.prototype,pa.e=function(){},pa.dispose=function(){},pa.V=!1,pa.defaultPrevented=!1,pa.La=!0,pa.stopPropagation=function(){this.V=!0},pa.preventDefault=function(){this.defaultPrevented=!0,this.La=!1},y[" "]=function(){},i(z,x),pa=z.prototype,pa.target=null,pa.relatedTarget=null,pa.offsetX=0,pa.offsetY=0,pa.clientX=0,pa.clientY=0,pa.screenX=0,pa.screenY=0,pa.button=0,pa.keyCode=0,pa.charCode=0,pa.ctrlKey=!1,pa.altKey=!1,pa.shiftKey=!1,pa.metaKey=!1,pa.ea=null,pa.ua=function(a,b){var c=this.type=a.type;x.call(this,c),this.target=a.target||a.srcElement,this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ra){var e;a:{try{y(d.nodeName),e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d,this.offsetX=Sa||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Sa||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0,this.button=a.button,this.keyCode=a.keyCode||0,this.charCode=a.charCode||("keypress"==c?a.keyCode:0),this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.state=a.state,this.ea=a,a.defaultPrevented&&this.preventDefault(),delete this.V},pa.stopPropagation=function(){z.sb.stopPropagation.call(this),this.ea.stopPropagation?this.ea.stopPropagation():this.ea.cancelBubble=!0},pa.preventDefault=function(){z.sb.preventDefault.call(this);var a=this.ea;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,eb)try{(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)&&(a.keyCode=-1)}catch(b){}},pa.e=function(){};var hb={},ib={},jb={},kb={};i(J,p),J.prototype.customEvent_=!0,pa=J.prototype,pa.mb=null,pa.getParentEventTarget=function(){return this.mb},pa.setParentEventTarget=function(a){this.mb=a},pa.addEventListener=function(a,b,c,d){A(this,a,b,c,d)},pa.removeEventListener=function(a,b,c,d){C(this,a,b,c,d)},pa.dispatchEvent=function(a){var b=a.type||a,d=ib;if(b in d){if(c(a))a=new x(a,this);else if(a instanceof x)a.target=a.target||this;else{var e=a;a=new x(b,this),s(a,e)}var f,g,e=1,d=d[b],b=!0 in d;if(b){for(f=[],g=this;g;g=g.getParentEventTarget())f.push(g);g=d[!0],g.k=g.q;for(var h=f.length-1;!a.V&&h>=0&&g.k;h--)a.currentTarget=f[h],e&=G(g,f[h],a.type,!0,a)&&0!=a.La}if(!1 in d)if(g=d[!1],g.k=g.q,b)for(h=0;!a.V&&h<f.length&&g.k;h++)a.currentTarget=f[h],e&=G(g,f[h],a.type,!1,a)&&0!=a.La;else for(f=this;!a.V&&f&&g.k;f=f.getParentEventTarget())a.currentTarget=f,e&=G(g,f,a.type,!1,a)&&0!=a.La;a=Boolean(e)}else a=!0;return a},pa.e=function(){J.sb.e.call(this),F(this),this.mb=null},ra.lang.inherits(K,J),h("H.ui.base.Element",K),K.prototype.render=function(a){if(!a)throw Error("Wrong document object");return this.el=k(a,this.oc,this.P.join(" ")),this.renderInternal(this.el,a),this.h(this.v,!0),L(this,this.nc),this.setVisibility(this.vb),this.getElement()},K.prototype.d=function(){},K.prototype.renderInternal=K.prototype.d,K.prototype.bc=function(){return this.v},K.prototype.isDisabled=K.prototype.bc,K.prototype.h=function(a,b){return(a!==this.v||b)&&((this.v=a)?this.i("H_disabled"):this.s("H_disabled")),this},K.prototype.setDisabled=K.prototype.h,K.prototype.getData=function(){return this.yb},K.prototype.getData=K.prototype.getData,K.prototype.setData=function(a){this.yb=a},K.prototype.setData=K.prototype.setData,K.prototype.getElement=function(){return this.el},K.prototype.getElement=K.prototype.getElement,K.prototype.vb=!0,K.prototype.setVisibility=function(a){var b;this.vb=a,(b=this.el)&&(b.style.display=a?"":"none")},K.prototype.setVisibility=K.prototype.setVisibility,K.prototype.getVisibility=function(){return this.vb},K.prototype.getVisibility=K.prototype.getVisibility,K.prototype.i=function(a){var b=this.getElement();return 0>this.P.indexOf(a)&&this.P.push(a),b&&(b.className=this.P.join(" ")),this},K.prototype.addClass=K.prototype.i,K.prototype.s=function(a){a=this.P.indexOf(a);var b=this.getElement();return a>-1&&this.P.splice(a,1),b&&(b.className=this.P.join(" ")),this},K.prototype.removeClass=K.prototype.s,K.prototype.e=function(){ra.util.getSuperProto(K).e.call(this),M(this),this.yb=this.el=null},K.prototype.dispose=function(){J.prototype.dispose.call(this)},K.prototype.dispose=K.prototype.dispose,ra.lang.inherits(N,K),h("H.ui.base.Container",N),N.prototype.h=function(a,b){var c=this.u?this.u.length:0;for(K.prototype.h.call(this,a,b);c--;)this.u[c].h(a,b);return this},N.prototype.setDisabled=N.prototype.h,N.prototype.g=function(a){var b=this.getElement();return this.u.push(a),b&&(a.render(b.ownerDocument),b.appendChild(a.getElement())),this},N.prototype.addChild=N.prototype.g,N.prototype.getChildren=function(){return[].concat(this.u)},N.prototype.removeChild=function(a){var b=this.u.indexOf(a),c=this.getElement();b>=0&&(this.u.splice(b,1),c&&c.removeChild(a.getElement()))},N.prototype.removeChild=N.prototype.removeChild,N.prototype.d=function(a,b){for(var c=0,d=this.u.length;d>c;c++)a.appendChild(this.u[c].render(b))},N.prototype.renderInternal=N.prototype.d,N.prototype.e=function(){this.u.forEach(this.Sb,this),K.prototype.e.call(this)},N.prototype.Sb=function(a){a.dispose()},ra.lang.inherits(O,N),h("H.ui.base.OverlayPanel",O),O.prototype.a=function(a,b){return(a!==this.l||b)&&(this.l=a,a===lb.OPEN?this.i("H_open"):this.s("H_open")),this},O.prototype.setState=O.prototype.a,O.prototype.getState=function(){return this.l},O.prototype.getState=O.prototype.getState,O.prototype.Jb=function(a){var b=a.Y;a=a.getElement();var c,d=this.getElement(),e=d.style;this.s("H_top"),this.s("H_middle"),this.s("H_bottom"),this.s("H_left"),this.s("H_center"),this.s("H_right"),e.bottom=e.top=e.left=e.right=e.margin="",/top/g.test(b)?(this.i("H_top"),e.top="0",e.margin="0 1.2em",c=-1):/bottom/g.test(b)?(this.i("H_bottom"),e.bottom="0",e.margin="0 1.2em",c=1):(this.i("H_middle"),e.top="50%",e.margin="0 1.2em",e.marginTop=-Math.round(.5*d.offsetHeight)+"px",c=0),/left/g.test(b)?(this.i("H_left"),e.left=a.offsetWidth+"px",e.marginLeft="1.2em"):/right/g.test(b)?(this.i("H_right"),e.right=a.offsetWidth+"px",e.marginRight="1.2em"):(this.i("H_center"),e.left="50%",0>c?(e.top=a.offsetHeight+"px",e.marginTop="1.2em"):c>0&&(e.bottom=a.offsetHeight+"px",e.marginBottom="1.2em"),e.marginLeft=-Math.round(.5*d.offsetWidth)+"px",a.appendChild(d))},O.prototype.pointToControl=O.prototype.Jb;var lb={OPEN:"open",CLOSED:"closed"};O.State=lb,ra.lang.inherits(P,N),h("H.ui.base.RadioGroup",P);var mb="activebuttonchange";P.prototype.d=function(a,b){N.prototype.renderInternal.call(this,a,b),this.Na(this.Qa,!0)},P.prototype.renderInternal=P.prototype.d,P.prototype.Na=function(a,b){return(a!==this.Qa||b)&&(this.Qa=a,this.ub.getElement()&&(this.ub.getElement().innerHTML=this.Qa)),this},P.prototype.setTitle=P.prototype.Na,P.prototype.$b=function(){return this.Qa},P.prototype.getTitle=P.prototype.$b,P.prototype.Ta=function(a){if(!(a instanceof R))throw Error("PushButton expected");return a.setParentEventTarget(this),this.oa.g(a),this},P.prototype.addButton=P.prototype.Ta,P.prototype.jc=function(a){return this.oa.removeChild(a),a.setParentEventTarget(null),this},P.prototype.removeButton=P.prototype.jc,P.prototype.fa=function(){return this.oa.getChildren()},P.prototype.getButtons=P.prototype.fa,P.prototype.ba=function(a,b){for(var c=this.fa(),d=c.length;d--;)c[d].a(c[d]===a?nb.DOWN:nb.UP,b)},P.prototype.setActiveButton=P.prototype.ba,P.prototype.e=function(){this.removeEventListener("statechange",this.Gb),N.prototype.e.call(this)},ra.lang.inherits(Q,K),h("H.ui.base.Button",Q),Q.prototype.d=function(a){m(a,"start",this.za),m(a,"end",this.aa),m(a,"out",this.aa),this.A(this.ga,!0)},Q.prototype.renderInternal=Q.prototype.d,Q.prototype.getState=function(){return this.l},Q.prototype.getState=Q.prototype.getState,Q.prototype.a=function(a,b){return a!==this.l&&(this.l=a,a===nb.DOWN?this.i("H_active"):this.s("H_active"),b||this.dispatchEvent("statechange")),this},Q.prototype.setState=Q.prototype.a,Q.prototype.Yb=function(){return this.ga},Q.prototype.getLabel=Q.prototype.Yb,Q.prototype.A=function(a,b){return(b||a!==this.ga)&&(this.ga=a,this.getElement()&&(this.getElement().innerHTML=a)),this},Q.prototype.setLabel=Q.prototype.A,Q.prototype.za=function(a){this.v||this.a(nb.DOWN),a.preventDefault()},Q.prototype.aa=function(a){this.v||this.a(nb.UP),a.preventDefault()},Q.prototype.e=function(){var a=this.getElement();a&&(n(a,"start",this.za),n(a,"end",this.aa),n(a,"out",this.aa)),K.prototype.e.call(this)};var nb={UP:"up",DOWN:"down"};Q.State=nb,ra.lang.inherits(R,Q),h("H.ui.base.PushButton",R),R.prototype.d=function(a){m(a,"start",this.Ha),m(a,"end",this.ec),this.A(this.ga,!0)},R.prototype.renderInternal=R.prototype.d,R.prototype.mc=function(){var a=nb.DOWN;return this.a(this.getState()===a?nb.UP:a),this},R.prototype.toggleState=R.prototype.mc,R.prototype.e=function(){n(this.getElement(),"start",this.Ha),Q.prototype.e.call(this)};var ob={TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right",LEFT_TOP:"left-top",LEFT_MIDDLE:"left-middle",LEFT_BOTTOM:"left-bottom",RIGHT_TOP:"right-top",RIGHT_MIDDLE:"right-middle",RIGHT_BOTTOM:"right-bottom",BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right"},pb=["O","Ms","ms","Moz","Webkit"],qb=new function(){this.$a={},this.ob="",this.tb=document.createElement("span").style};ra.lang.inherits(T,N),T.prototype.renderInternal=function(a,b){N.prototype.renderInternal.call(this,a,b),S(this.ha.el,-1e3,-1e3),S(this.B.el,-1e3,-1e3),this.B.el.innerHTML='<svg class="H_icon H_noevs" viewBox="0 0 120 60"><ellipse cx="60" cy="30" rx="40" ry="20" stroke-width="3" /></svg>',U(this,!1)},ra.lang.inherits(V,J),pa=V.prototype,pa.enable=function(){var a=this.map;this.Xa||(this.H.getElement().insertBefore(this.j.el,this.H.getElement().firstChild),this.H.ma(this.f),this.f.close(),m(this.f.el,"start",this.S),a.addEventListener("pointermove",this.$),a.addEventListener("drag",this.$),a.addEventListener("tap",this.Ja),a.addEventListener("mapviewchange",this.Da),a.addEventListener("mapviewchangestart",this.Ca),a.addEventListener("mapviewchangeend",this.Ba),a.addEventListener("pointerleave",this.Fa),a.addEventListener("pointerenter",this.Ea),this.Xa=!0)},pa.Fa=function(a){"mouse"===a.currentPointer.type&&(M(this.j),this.H.pb(this.f))},pa.Ea=function(a){"mouse"===a.currentPointer.type&&(this.H.getElement().insertBefore(this.j.el,this.H.getElement().firstChild),this.H.ma(this.f),m(this.f.el,"start",this.S),this.f.close())},pa.S=function(){W(this,this.T,this.U)},pa.lc=25,pa.disable=function(){var a=this.f.el,b=this.map;M(this.j),this.H.pb(this.f),a&&n(a,"start",this.S),n(this.j.B.el,"start",this.S),b.removeEventListener("pointermove",this.$),b.removeEventListener("drag",this.$),b.removeEventListener("tap",this.Ja),b.removeEventListener("mapviewchange",this.Da),b.removeEventListener("mapviewchangestart",this.Ca),b.removeEventListener("mapviewchangeend",this.Ba),b.removeEventListener("pointerleave",this.Fa),b.removeEventListener("pointerenter",this.Ea),this.Xa=!1},pa.$=function(a){var b=a.currentPointer;if(this.map.getEngine().type===ra.Map.EngineType.P2D&&"touch"!==b.type&&(a=b.viewportX,b=b.viewportY,this.T!==a||this.U!==b)){this.j.ha.el.style.display="block",this.Ob&&clearTimeout(this.Ob),this.Lb&&this.Lb.cancel(),this.cb=null,this.T=a,this.U=b,a=this.j;var b=this.T,c=this.U;S(a.ha.el,b,c),S(a.B.el,b,c),this.Ob=setTimeout(this.Ga,350),U(this.j,!1),this.f.close()}},pa.Ga=function(){ra.map.render.panorama&&ra.map.render.panorama.RenderEngine.getClosestPanoramas(this.map.screenToGeo(this.T,this.U),this.ib)},pa.ib=function(a){var b,c=this;a&&0<a.length?(b=this.map.geoToScreen(a[0].position),this.cb=a[0].position,U(this.j,!0,b.x,b.y),this.Lb=ra.net.images.load(ra.map.render.panorama.RenderEngine.getImageUrl(a[0]),function(b){c.f.setPosition(a[0].position),c.f.X('<img src="'+b.src+'" />'),c.f.open()})):this.G&&this.Ia(a)},pa.Ca=function(){this.j.B.i("H_pano_notransition"),this.f.close()},pa.Ba=function(){this.j.B.s("H_pano_notransition")},pa.Da=function(){if(this.cb){var a=this.map.geoToScreen(this.cb);a&&U(this.j,!0,a.x,a.y)}this.G=0},pa.Ja=function(a){var b=a.currentPointer;a="mouse"===b.type;var c=b.viewportX,b=b.viewportY,d=this.lc,e=Math.abs;1===this.G&&e(this.T-c)<d&&e(this.U-b)<d?this.G++:0===this.G&&this.G++,1!==this.G||a||(this.f.close(),this.T=c,this.U=b,this.va=c,this.wa=b,this.Ga()),(2===this.G||a)&&(W(this,c,b),this.G=0)},pa.Ia=function(a){a&&0<a.length?this.dispatchEvent({type:"enter",position:a[0].position}):(a=this.map.screenToGeo(this.va,this.wa),this.f.setPosition(a),this.f.X(this.H.b().translate("panorama.unavailableHere")),this.f.open())},ra.lang.inherits(X,N),h("H.ui.Control",X),X.prototype.el=null,X.prototype.ja=function(a){this.map=a},X.prototype.render=function(a){return N.prototype.render.call(this,a)},X.prototype.d=function(a,b){N.prototype.renderInternal.call(this,a,b),this.F(this.Y)},X.prototype.renderInternal=X.prototype.d,X.prototype.lb=function(){},X.prototype.onUnitSystemChange=X.prototype.lb,X.prototype.D=function(){},X.prototype.onMapEngineTypeChange=X.prototype.D,X.prototype.C=function(){return this.map},X.prototype.getMap=X.prototype.C,X.prototype.b=function(){return this.cc},X.prototype.getLocalization=X.prototype.b,X.prototype.Ub=function(){return this.Y},X.prototype.getAlignment=X.prototype.Ub,X.prototype.F=function(a){return"string"==typeof a&&ob[a.replace("-","_").toUpperCase()]===a&&(this.Y=a,this.dispatchEvent("alignmentchange")),this},X.prototype.setAlignment=X.prototype.F,ra.lang.inherits(Y,X),h("H.ui.Pano",Y),Y.prototype.d=function(a,b){X.prototype.renderInternal.call(this,a,b),this.a(this.t.Z),this.R=new V(this.getParentEventTarget()),this.t.Z.Ra=this.b().translate("panorama.showCoverage"),this.t.xb.Ra=this.b().translate("panorama.hideCoverage"),this.t.panorama.Ra=this.b().translate("panorama.leave"),this.t.panorama.label='<span style="padding: 0 0.5em">'+this.b().translate("panorama.leave")+"<span>",this.xa.A(this.t.panorama.label),L(this.xa,this.t.panorama.Ra);var c=this;this.R.addEventListener("enter",function(a){c.R.disable(),c.map.setCenter(a.position,!0),setTimeout(function(){c.coverageButton_.setVisibility(!1),c.map.setEngineType(ra.Map.EngineType.PANORAMA)},200)});var d=this.map.getLayers();this.r=g(this.r,this),d.addEventListener("add",this.r),d.addEventListener("remove",this.r,this),d.addEventListener("set",this.r,this)},Y.prototype.renderInternal=Y.prototype.d,Y.prototype.r=function(a){0===a.idx&&this.map&&$(this,this.map.getBaseLayer())===this.map.getBaseLayer()&&(this.R.disable(),this.coverageButton_.a(nb.UP))},Y.prototype.a=function(a){var b=this.l,c=this.t,d=a===c.panorama,e=this.coverageButton_;b===c.Z&&(this.ic=this.map.getBaseLayer()),d?this.nb=b:(a===c.Z?(b="UP",c=this.ic,this.R&&this.R.disable()):(b="DOWN",c=$(this,this.map.getBaseLayer()),this.R&&this.R.enable()),c&&this.map.setBaseLayer(c),e.A(a.label),L(e,a.Ra),e.a(nb[b])),this.xa.setVisibility(d),e.setVisibility(!d),this.l=a},Y.prototype.D=function(a){var b=this.t;this.a(a===ra.Map.EngineType.PANORAMA?b.panorama:this.nb)},Y.prototype.onMapEngineTypeChange=Y.prototype.D,ra.lang.inherits(_,K),h("H.ui.InfoBubble",_),_.prototype.c=null,_.prototype.getPosition=function(){return this.Kb},_.prototype.setPosition=function(a){this.Kb=ra.geo.Point.fromIPoint(a),this.update()},_.prototype.setPosition=_.prototype.setPosition,_.prototype.ja=function(a){this.c=a},_.prototype.d=function(a,b){this.na=k(b,"div","H_ib_body"),this.tailEl_=k(b,"div","H_ib_tail",sb),this.qa=k(b,"div","H_ib_close",tb),this.J=k(b,"div","H_ib_content","&nbsp;"),this.na.appendChild(this.qa),this.na.appendChild(this.J),m(this.qa,"start",this.Ib),this.c.getViewModel().addEventListener("sync",this.update),this.c.getViewPort().addEventListener("sync",this.update),this.c.addEventListener("enginechange",this.da),a.appendChild(this.na),a.appendChild(this.tailEl_),this.X(this.ra)},_.prototype.renderInternal=_.prototype.d,_.prototype.da=function(){this.zb||(this.zb=setTimeout(this.update,0))},_.prototype.update=function(){var a,b,c,d=this.el,e=this.c;this.zb=0,e&&this.getElement()&&this.getState()===rb.OPEN&&(b=(a=e.geoToScreen(this.Kb))&&a.x,c=a&&a.y,a=e.getViewPort().width,e.getViewPort(),e.getEngine().type!==ra.Map.EngineType.P2D?d.style.display="none":-a>b||b>2*a||-a>c||c>2*a?d.style.display="none":(d.style.display="",qa?(d.style.left=b-a+"px",d.style.top=c+"px"):S(d,b,c),d=this.J.offsetWidth,b-=d,40>b&&(b=Math.max(0,Math.min((d||this.J.offsetWidth)-this.tailEl_.offsetWidth,-b)),this.na.style.right=b?-b+"px":"0")))};var rb={OPEN:"open",CLOSED:"closed"};_.State=rb,_.prototype.l=rb.OPEN,_.prototype.getState=function(){return this.l},_.prototype.getState=_.prototype.getState,_.prototype.a=function(a){a!==this.l&&(this.l=a,this.dispatchEvent("statechange")),(a=this.getElement())&&(this.l===rb.OPEN?(a.style.display="block",this.da()):a.style.display="none")},_.prototype.setState=_.prototype.a,_.prototype.close=function(){this.a(rb.CLOSED)},_.prototype.close=_.prototype.close,_.prototype.open=function(){this.a(rb.OPEN)},_.prototype.open=_.prototype.open,_.prototype.Wb=function(){return this.J},_.prototype.getContentElement=_.prototype.Wb,_.prototype.X=function(a){if(a){if("string"!=typeof a&&("number"!=typeof a.nodeType||"string"!=typeof a.nodeName))throw Error("InfoBubble content must be a string or HTML node.");this.ra=a}else this.ra=void 0;this.getElement()&&(this.ra?(this.J.innerHTML="","string"==typeof this.ra?this.J.innerHTML=a:"number"==typeof a.nodeType&&"string"==typeof a.nodeName&&this.J.appendChild(a)):this.J.innerHTML="&nbsp;",this.da())},_.prototype.setContent=_.prototype.X,_.prototype.e=function(){this.close(),this.X(null),this.qa&&n(this.qa,"end",this.Ib),this.c&&(this.c.getViewModel().removeEventListener("sync",this.update),this.c.getViewPort().removeEventListener("sync",this.update)),K.prototype.e.call(this)};var sb='<svg viewBox="0 0 25 25"><g><path d="M 11.3,0.23 5.08,12.1 C 2.28,12.2 0,13.2 0,14.5 0,15.9 2.28,17 5.08,17 c 2.8,0 5.12,-1.1 5.12,-2.5 0,-0.6 -0.62,-1.2 -1.52,-1.7 L 20.9,1.13 21,0.23 l -9.7,0 z" style="fill:#0d2e41;fill-opacity:0.3" /><path d="M 19.9,0.266 4.88,14.8 12.5,0.266 z" /></g></svg>',tb='<svg version="1.1" class="H_icon" viewBox="0 0 12 22"><path d="M 9.01,17 6.04,14 3,17 0.03,14.1 3,11 0.096,8.17 3.07,5.15 6.04,8.07 8.95,5.15 11.9,8.17 9.01,11 12,14.1 9.01,17" /></svg>';aa.prototype.Ma=function(a){var b;(b=this.m.getData())&&b.getProvider().removeEventListener("tap",this.Aa),a?(b=a.getProvider(),b.addEventListener("tap",this.Aa),this.Va=b.min,this.Ua=b.max,this.m.setData(a),this.m.setVisibility(!0),ca(this)):(this.m.setData(null),this.m.setVisibility(!1),this.Va=0,this.Ua=22)},aa.prototype.hb=function(){var a=this.N.C(),b=this.m.getData();a&&b&&(this.m.getState()===nb.DOWN?a.addLayer(b):a.removeLayer(b))},aa.prototype.Aa=function(a){var b,c;a.target&&(b=a.target.getData())&&(this.w||(this.w=new _(a.target.getPosition()),this.N.ma(this.w)),this.w.setPosition(a.target.getPosition()),c=b.TRAFFIC_ITEM_TYPE_DESC.replace(" ","_"),this.N.b().Cb("traffic."+c)&&(c=this.N.b().translate("traffic."+c)),this.w.X('<div class="H_tib"><p>{{title}}</p><p class="H_tib_desc">{{desc}}</p><p class="H_tib_time"><span class="H_tib_left">{{traffic.from}}</span><span class="H_tib_right">{{from}}</span><br/><span class="H_tib_left">{{traffic.until}}</span><span class="H_tib_right">{{until}}</span></p></div>'.replace("{{title}}",c).replace("{{desc}}",b.TRAFFIC_ITEM_DESCRIPTION[0].value).replace("{{traffic.from}}",this.N.b().translate("traffic.from")).replace("{{traffic.until}}",this.N.b().translate("traffic.until")).replace("{{from}}",b.START_TIME).replace("{{until}}",b.END_TIME)),this.w.open()),a.stopPropagation()},ra.lang.inherits(da,X),h("H.ui.MapSettingsControl",da),da.prototype.d=function(a,b){var c=this.C().getLayers();X.prototype.renderInternal.call(this,a,b),this.n.Na(this.b().translate("layers.choose")),this.n.fa().forEach(function(a){var b=a.ga;"layers."===b.substr(0,7)&&a.A(this.b().translate(b))},this),this.p.A(this.b().translate("layer.transit")),this.o.A(this.b().translate("layer.traffic")),L(this.gb,this.b().translate("layers.choose")),ba(this.ka,this.getParentEventTarget()),c.addEventListener("add",this.r),c.addEventListener("remove",this.r),c.addEventListener("set",this.r),this.C().addEventListener("tap",this.Wa),ea(this)},da.prototype.renderInternal=da.prototype.d,pa=da.prototype,pa.ia=function(){var a;a:{a=this.n.fa();for(var b=a.length;b--;)if(a[b].getState()===nb.DOWN){a=a[b];break a}a=null}(a=a?a.getData():null)?(b=a.map,this.p.h(!a.transit),a.transit&&(this.p.v||this.p.getState()!==nb.DOWN||(b=a.transit)),this.o.h(!a.traffic),a.traffic&&(this.o.v||this.o.getState()!==nb.DOWN||(b=a.traffic)),b&&this.map&&this.map.setBaseLayer(b)):(this.p.h(!0),this.o.h(!0))},pa.jb=function(){this.o.getState()===nb.DOWN&&this.p.a(nb.UP,!0),this.ia()},pa.kb=function(){this.p.getState()===nb.DOWN&&this.o.a(nb.UP,!0),this.ia()},pa.r=function(a){0===a.idx?ea(this,a):ca(this.ka)},pa.D=function(a){a=a!==ra.Map.EngineType.P2D,this.getElement().style.display=a?"none":""},da.prototype.onMapEngineTypeChange=da.prototype.D,da.prototype.Wa=function(){this.gb.a(nb.UP)},da.prototype.Ma=function(a){this.ka.Ma(a)},da.prototype.setIncidentsLayer=da.prototype.Ma;var ub="H_l_top",vb="H_l_bottom",wb="H_l_left",xb="H_l_right",yb="H_l_center",zb="H_l_middle",Ab="H_l_horizontal",Bb="H_l_vertical",Cb="H_l_anchor";fa.prototype.update=function(){var a=this.wb;ga(a["top-center"],!0),ga(a["bottom-center"],!0),ga(a["left-middle"],!1),ga(a["right-middle"],!1)},fa.prototype.put=function(a,b){var c=a?a.getElement():null,d=b?this.wb[b]:null;c&&d&&(c.parentElement&&c.parentElement.removeChild(c),d.insertBefore(c,/(bottom|right)$/.test(b)||/(center|middle)/.test(b)&&d.childNodes.length%2?d.firstChild:null)),this.update()};var Db={IMPERIAL:"imperial",METRIC:"metric"};h("H.ui.UnitSystem",Db);var Eb=[];h("H.ui.i18n.defaultLocales",Eb);var Fb={},Gb=[];ha("pt-BR",{"layers.normal":"Exibição do mapa","layers.satellite":"Satélite","layers.terrain":"Terreno","layer.transit":"Transporte público","layer.traffic":"Condições do trânsito","layer.incidents":"Mostrar incidentes no trânsito","layers.choose":"Escolher exibição","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"milhas","scale.ft":"pés","zoom.out":"Menos zoom","zoom.in":"Mais zoom","panorama.leave":"Sair de nível de rua","panorama.showCoverage":"Mostrar áreas com Nível de Rua","panorama.hideCoverage":"Esconder áreas com Nível de Rua","panorama.unavailableHere":"Não é possível mostrar Nível da Rua aqui.","traffic.MASS_TRANSIT":"Transporte público","traffic.MISCELLANEOUS":"Miscelânea","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras notícias","traffic.PLANNED_EVENT":"Evento planejado","traffic.ROAD_HAZARD":"Risco na estrada","traffic.WEATHER":"Clima","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Construção","traffic.DISABLED_VEHICLE":"Veículo incapacitado","traffic.from":"Hora de início:","traffic.until":"Tempo final estimado:"}),ha("fi-FI",{"layers.normal":"Karttanäkymä","layers.satellite":"Satelliitti","layers.terrain":"Maasto","layer.transit":"Julkinen liikenne","layer.traffic":"Liikenneolosuhteet","layer.incidents":"Näytä liikennetapahtumat","layers.choose":"Valitse näkymä","scale.switchToImperial":"Vaihda maileihin","scale.switchToMetric":"Vaihda kilometreihin","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Loitonna","zoom.in":"Lähennä","panorama.leave":"Poistu katunäkymästä","panorama.showCoverage":"Näytä katutason kattavuus","panorama.hideCoverage":"Piilota katutason kattavuus","panorama.unavailableHere":"Emme voi näyttää sinulle katu tasoa tässä","traffic.MASS_TRANSIT":"Julkinen liikenne","traffic.MISCELLANEOUS":"Erittelemätön syy","traffic.ACCIDENT":"Onnettomuus","traffic.OTHER_NEWS":"Muu tapahtuma","traffic.PLANNED_EVENT":"Suunniteltu tapahtuma","traffic.ROAD_HAZARD":"Vaara tiellä","traffic.WEATHER":"Sää","traffic.CONGESTION":"Ruuhka","traffic.CONSTRUCTION":"Rakennustyö","traffic.DISABLED_VEHICLE":"Pysähtynyt ajoneuvo","traffic.from":"Alkamisaika:","traffic.until":"Arvioitu päättymisaika:"}),ha("fr-FR",{"layers.normal":"Carte","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Transports publics","layer.traffic":"Conditions de circulation","layer.incidents":"Afficher les incidents de circulation","layers.choose":"Choisir la vue","scale.switchToImperial":"Passer en miles","scale.switchToMetric":"Passer en km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom arrière","zoom.in":"Zoom avant","panorama.leave":"Quitter le mode chaussée","panorama.showCoverage":"Activer le mode Chaussée","panorama.hideCoverage":"Désactiver le mode Chaussée","panorama.unavailableHere":"Le mode chaussée n'est pas disponible ici","traffic.MASS_TRANSIT":"Transports publics","traffic.MISCELLANEOUS":"Divers","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Autre","traffic.PLANNED_EVENT":"Événement prévu","traffic.ROAD_HAZARD":"Danger routier","traffic.WEATHER":"Météo","traffic.CONGESTION":"Embouteillage","traffic.CONSTRUCTION":"Travaux","traffic.DISABLED_VEHICLE":"Véhicule en panne","traffic.from":"Date ou heure de début:","traffic.until":"Date et heure de fin estimées:"}),ha("zh-CN",{"layers.normal":"地图视图","layers.satellite":"卫星","layers.terrain":"地形","layer.transit":"公共交通","layer.traffic":"交通情况","layer.incidents":"显示交通事件","layers.choose":"选择视图",
"scale.switchToImperial":"切换为「英里」","scale.switchToMetric":"切换为「公里」","scale.km":"公里","scale.m":"米","scale.mi":"英里","scale.ft":"英尺","zoom.out":"缩小","zoom.in":"放大","panorama.leave":"退出街景","panorama.showCoverage":"显示支持街景的区域","panorama.hideCoverage":"隐藏支持街景的区域","panorama.unavailableHere":"此地还不支持街景","traffic.MASS_TRANSIT":"公共交通","traffic.MISCELLANEOUS":"综合事件","traffic.ACCIDENT":"交通意外","traffic.OTHER_NEWS":"其他新闻","traffic.PLANNED_EVENT":"预定事件","traffic.ROAD_HAZARD":"道路危险","traffic.WEATHER":"天气","traffic.CONGESTION":"堵塞","traffic.CONSTRUCTION":"施工","traffic.DISABLED_VEHICLE":"车辆抛锚","traffic.from":"开始时间：","traffic.until":"预计结束时间："}),ha("tr-TR",{"layers.normal":"Harita görünümü","layers.satellite":"Uydu","layers.terrain":"Arazi","layer.transit":"Toplu ulaşım","layer.traffic":"Trafik durumları","layer.incidents":"Trafik olaylarını göster","layers.choose":"Görünüm seç","scale.switchToImperial":"Mile dönüştür","scale.switchToMetric":"Kilometreye dönüştür","scale.km":"km","scale.m":"m","scale.mi":"mil","scale.ft":"ft","zoom.out":"Uzaklaştır","zoom.in":"Yakınlaştır","panorama.leave":"Sokak görünümü kapat","panorama.showCoverage":"Sokak Görünümünü göster","panorama.hideCoverage":"Sokak Görünümünü sakla","panorama.unavailableHere":"Cadde görünümü yok","traffic.MASS_TRANSIT":"Toplu ulaşım","traffic.MISCELLANEOUS":"Çeşitli","traffic.ACCIDENT":"Kaza","traffic.OTHER_NEWS":"Diğer haberler","traffic.PLANNED_EVENT":"Planlı etkinlik","traffic.ROAD_HAZARD":"Yol tehlikesi","traffic.WEATHER":"Hava durumu","traffic.CONGESTION":"Yoğunluk","traffic.CONSTRUCTION":"Yol çalışması","traffic.DISABLED_VEHICLE":"Araç arızası","traffic.from":"Başlangıç zamanı:","traffic.until":"Tahmini bitiş zamanı:"}),ha("nl-NL",{"layers.normal":"Kaartweergave","layers.satellite":"Satelliet","layers.terrain":"Terrein","layer.transit":"Openbaar vervoer","layer.traffic":"Verkeerssituatie","layer.incidents":"Toon verkeersincidenten","layers.choose":"Weergave kiezen","scale.switchToImperial":"Overgaan naar mijlen","scale.switchToMetric":"Wijzigen naar km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Uitzoomen","zoom.in":"Inzoomen","panorama.leave":"Straatbeeld verlaten","panorama.showCoverage":"Toon straatbeeld","panorama.hideCoverage":"Verberg straatbeeld","panorama.unavailableHere":"Hier hebben we geen Straatbeeld dekking","traffic.MASS_TRANSIT":"Openbaar vervoer","traffic.MISCELLANEOUS":"Diversen","traffic.ACCIDENT":"Ongeval","traffic.OTHER_NEWS":"Meer informatie","traffic.PLANNED_EVENT":"Geplande afzetting","traffic.ROAD_HAZARD":"Gevaar op de weg","traffic.WEATHER":"Weer","traffic.CONGESTION":"Verkeersopstopping","traffic.CONSTRUCTION":"Wegwerkzaamheden","traffic.DISABLED_VEHICLE":"Voertuig met pech","traffic.from":"Begintijd:","traffic.until":"Geschatte eindtijd:"}),ha("en-US",{"layers.normal":"Map view","layers.satellite":"Satellite","layers.terrain":"Terrain","layer.transit":"Public transport","layer.traffic":"Traffic conditions","layer.incidents":"Show traffic incidents","layers.choose":"Choose view","scale.switchToImperial":"Change to miles","scale.switchToMetric":"Change to km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom out","zoom.in":"Zoom in","panorama.leave":"Leave street level","panorama.showCoverage":"Show street level areas","panorama.hideCoverage":"Hide street level areas","panorama.unavailableHere":"Can't show you street level here","traffic.MASS_TRANSIT":"Public transport","traffic.MISCELLANEOUS":"Miscellaneous","traffic.ACCIDENT":"Accident","traffic.OTHER_NEWS":"Other news","traffic.PLANNED_EVENT":"Planned event","traffic.ROAD_HAZARD":"Road hazard","traffic.WEATHER":"Weather","traffic.CONGESTION":"Congestion","traffic.CONSTRUCTION":"Construction","traffic.DISABLED_VEHICLE":"Disabled vehicle","traffic.from":"Start time:","traffic.until":"Estimated end time:"}),ha("de-DE",{"layers.normal":"Kartenansicht","layers.satellite":"Satellit","layers.terrain":"Gelände","layer.transit":"Öffentliche Verkehrsmittel","layer.traffic":"Verkehrslage","layer.incidents":"Verkehrsstörungen anzeigen","layers.choose":"Ansicht auswählen","scale.switchToImperial":"Umrechnung in Meilen","scale.switchToMetric":"Umrechnung in Kilometer","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Verkleinern","zoom.in":"Vergrößern","panorama.leave":"Straßenansicht verlassen","panorama.showCoverage":"Gebiete mit Straßenszenen anzeigen","panorama.hideCoverage":"Gebiete mit Straßenszenen ausblenden","panorama.unavailableHere":"Keine Straßenszenen verfügbar","traffic.MASS_TRANSIT":"Öffentliche Verkehrsmittel","traffic.MISCELLANEOUS":"Diverse","traffic.ACCIDENT":"Unfall","traffic.OTHER_NEWS":"Anderes Ereignis","traffic.PLANNED_EVENT":"Geplantes Ereignis","traffic.ROAD_HAZARD":"Verkehrshindernis","traffic.WEATHER":"Wetter","traffic.CONGESTION":"Verkehrsstau","traffic.CONSTRUCTION":"Baustelle","traffic.DISABLED_VEHICLE":"Liegengebliebenes Fahrzeug","traffic.from":"Beginn:","traffic.until":"Voraussichtliches Ende:"}),ha("pt-PT",{"layers.normal":"Vista do mapa","layers.satellite":"Satélite","layers.terrain":"Terreno","layer.transit":"Transportes públicos","layer.traffic":"Condições de trânsito","layer.incidents":"Mostrar incidentes de trânsito","layers.choose":"Escolher vista","scale.switchToImperial":"Mudar para milhas","scale.switchToMetric":"Mudar para km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Diminuir","zoom.in":"Aumentar","panorama.leave":"Sair de Vista de Rua","panorama.showCoverage":"Visualizar áreas com Vista de Rua","panorama.hideCoverage":"Esconder áreas com Vista de Rua","panorama.unavailableHere":"Vista de Rua indisponível neste local.","traffic.MASS_TRANSIT":"Transportes públicos","traffic.MISCELLANEOUS":"Diversos","traffic.ACCIDENT":"Acidente","traffic.OTHER_NEWS":"Outras notícias","traffic.PLANNED_EVENT":"Evento planeado","traffic.ROAD_HAZARD":"Perigo na estrada","traffic.WEATHER":"Meteorologia","traffic.CONGESTION":"Congestionamento","traffic.CONSTRUCTION":"Construção","traffic.DISABLED_VEHICLE":"Veículo avariado","traffic.from":"Hora de início:","traffic.until":"Hora de fim prevista:"}),ha("pl-PL",{"layers.normal":"Widok mapy","layers.satellite":"Satelita","layers.terrain":"Teren","layer.transit":"Transport publiczny","layer.traffic":"Warunki drogowe","layer.incidents":"Pokaż zdarzenia drogowe","layers.choose":"Wybierz widok","scale.switchToImperial":"Zmień na mile","scale.switchToMetric":"Zmień na km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Oddal","zoom.in":"Przybliż","panorama.leave":"Wyjdź z panoramy","panorama.showCoverage":"Pokaż obszary trybu panoramy","panorama.hideCoverage":"Ukryj obszary trybu panoramy","panorama.unavailableHere":"Niemożliwe jest pokazanie widoku panoramy w tym miejscu.","traffic.MASS_TRANSIT":"Transport publiczny","traffic.MISCELLANEOUS":"Inne zdarzenie","traffic.ACCIDENT":"Wypadek","traffic.OTHER_NEWS":"Inne wiadomości","traffic.PLANNED_EVENT":"Zdarzenie planowane","traffic.ROAD_HAZARD":"Niebezpieczeństwo na drodze","traffic.WEATHER":"Pogoda","traffic.CONGESTION":"Korek","traffic.CONSTRUCTION":"Budowa","traffic.DISABLED_VEHICLE":"Uszkodzony pojazd","traffic.from":"Data rozpoczęcia:","traffic.until":"Przybliżona data zakończenia:"}),ha("it-IT",{"layers.normal":"Vista mappa","layers.satellite":"Satellite","layers.terrain":"Terreno","layer.transit":"Mezzi pubblici","layer.traffic":"Condizioni del traffico","layer.incidents":"Mostra incidenti stradali","layers.choose":"Scegli vista","scale.switchToImperial":"Passa a miglia","scale.switchToMetric":"Passa a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Zoom indietro","zoom.in":"Zoom avanti","panorama.leave":"Abbandona il livello strada","panorama.showCoverage":"Mostra le aree al livello strada","panorama.hideCoverage":"Nascondi le aree al livello strada","panorama.unavailableHere":"Impossibile mostrare il livello strada in questo punto","traffic.MASS_TRANSIT":"Mezzi pubblici","traffic.MISCELLANEOUS":"Varie","traffic.ACCIDENT":"Incidente","traffic.OTHER_NEWS":"Altre notizie","traffic.PLANNED_EVENT":"Evento pianificato","traffic.ROAD_HAZARD":"Strada dissestata","traffic.WEATHER":"Maltempo","traffic.CONGESTION":"Ingorgo","traffic.CONSTRUCTION":"Lavori in corso","traffic.DISABLED_VEHICLE":"Veicolo in panne","traffic.from":"Ora di inizio:","traffic.until":"Ora di fine stimata:"}),ha("ru-RU",{"layers.normal":"Режим карты","layers.satellite":"Спутниковая","layers.terrain":"Местность","layer.transit":"Общественный транспорт","layer.traffic":"Дорожные условия","layer.incidents":"Показать дорожные события","layers.choose":"Выберите вид","scale.switchToImperial":"Использовать мили","scale.switchToMetric":"Использовать километры","scale.km":"км","scale.m":"м","scale.mi":"миль","scale.ft":"фут","zoom.out":"Отдалить","zoom.in":"Приблизить","panorama.leave":"Выйти из режима просмотра улиц","panorama.showCoverage":"Показать области с панорамами улиц","panorama.hideCoverage":"Скрыть области с панорамами улиц","panorama.unavailableHere":"Невозможно показать панораму этих улиц","traffic.MASS_TRANSIT":"Общественный транспорт","traffic.MISCELLANEOUS":"Прочее ДТП","traffic.ACCIDENT":"ДТП","traffic.OTHER_NEWS":"Другие новости","traffic.PLANNED_EVENT":"Плановое мероприятие","traffic.ROAD_HAZARD":"Дорожная опасность","traffic.WEATHER":"Погода","traffic.CONGESTION":"Пробка","traffic.CONSTRUCTION":"Ремонт","traffic.DISABLED_VEHICLE":"Неисправный автомобиль","traffic.from":"Время начала:","traffic.until":"Ожидаемое время окончания:"}),ha("es-ES",{"layers.normal":"Mapa","layers.satellite":"Satélite","layers.terrain":"Terreno","layer.transit":"Transporte público","layer.traffic":"Estado del tráfico","layer.incidents":"Mostrar incidentes de tráfico","layers.choose":"Elija una vista","scale.switchToImperial":"Cambiar a millas","scale.switchToMetric":"Cambiar a km","scale.km":"km","scale.m":"m","scale.mi":"mi","scale.ft":"ft","zoom.out":"Alejar","zoom.in":"Acercar","panorama.leave":"Salir de vista de calles","panorama.showCoverage":"Mostrar áreas con vista desde la calle","panorama.hideCoverage":"Ocultar áreas con vista desde la calle","panorama.unavailableHere":"No se puede mostrar vista desde la calle aquí","traffic.MASS_TRANSIT":"Transporte público","traffic.MISCELLANEOUS":"Varios","traffic.ACCIDENT":"Accidente","traffic.OTHER_NEWS":"Más noticias","traffic.PLANNED_EVENT":"Acto programado","traffic.ROAD_HAZARD":"Riesgo en carretera","traffic.WEATHER":"Tiempo","traffic.CONGESTION":"Atasco","traffic.CONSTRUCTION":"Construcción","traffic.DISABLED_VEHICLE":"Vehículo averiado","traffic.from":"Inicio:","traffic.until":"Finalización estimada:"}),h("H.ui.i18n.Localization",ja),ja.prototype.Zb=function(){return this.Eb},ja.prototype.getLocale=ja.prototype.Zb,ja.prototype.Xb=function(){return Object.keys(this.c)},ja.prototype.getKeys=ja.prototype.Xb,ja.prototype.Cb=function(a){return!(!this.c||!this.c[a])},ja.prototype.hasKey=ja.prototype.Cb,ja.prototype.translate=function(a){var b=this.c[a];if(!c(b))throw Error("Translation missing for key '"+a+"'.");return b},ja.prototype.translate=ja.prototype.translate,ra.lang.inherits(ka,J),h("H.ui.UI",ka),ka.prototype.prevDefault=function(a){for(var b=a.target;b&&!/\bH_ib_content\b/.test(b.className);)b=b.parentNode;b||a.preventDefault()},ka.prototype.getElement=function(){return this.K},ka.prototype.getElement=ka.prototype.getElement,ka.prototype.C=function(){return this.c},ka.prototype.getMap=ka.prototype.C,ka.prototype.Oa=function(a){var b,c=this.Q;if(a!==this.O)for(b in this.O=a,c)c[b]instanceof X&&c[b].onUnitSystemChange(this.O)},ka.prototype.setUnitSystem=ka.prototype.Oa,ka.prototype.b=function(){return this.fb},ka.prototype.Pb=function(){this.Oa(this.O===Db.METRIC?Db.IMPERIAL:Db.METRIC)},ka.prototype.toggleUnitSystem=ka.prototype.Pb,ka.prototype.ma=function(a){var b,c=this.I.length,d=this.getElement();0>this.I.indexOf(a)&&(a.setParentEventTarget(this),a.ja(this.c),b=a.render(this.sa),c=c>0?this.I[c-1].el.nextSibling:this.getElement().firstChild,d.insertBefore(b,c),this.I.push(a))},ka.prototype.addBubble=ka.prototype.ma,ka.prototype.pb=function(a){var b=this.I.indexOf(a);b>-1&&(a.setParentEventTarget(null),a.ja(null),this.I.splice(b,1),this.getElement().removeChild(a.getElement()))},ka.prototype.removeBubble=ka.prototype.pb,ka.prototype.Vb=function(){return this.I},ka.prototype.getBubbles=ka.prototype.Vb,ka.prototype.ca=function(a,b){if(this.ta(a))throw Error("A control with name ["+a+"] is already registered.");b.setParentEventTarget(this),b.ja(this.c),b.cc=this.fb,b.render(this.sa),b.onUnitSystemChange(this.O),b.onMapEngineTypeChange(this.c.getEngine().type),this.Q[a]=b},ka.prototype.addControl=ka.prototype.ca,ka.prototype.kc=function(a){var b=this.ta(a);if(!b)throw Error("Control ["+a+"] not found in this UI's controls.");return b.setParentEventTarget(null),b.ja(null),M(b),delete this.Q[a],b},ka.prototype.removeControl=ka.prototype.kc,ka.prototype.ta=function(a){return this.Q[a]},ka.prototype.getControl=ka.prototype.ta,ka.prototype.e=function(){for(var a in this.Q)this.Q[a].dispose();this.I.forEach(function(a){a.dispose()}),(a=this.K.parentNode)&&a.removeChild(this.K),J.prototype.e.call(this),this.K=null},ka.prototype.dispose=function(){J.prototype.dispose.call(this)},ka.prototype.dispose=ka.prototype.dispose,ka.prototype.capture=function(a,b,c,d){var e=this.ta("scalebar"),f=a.getContext("2d"),g=a.width,h=a.height,i=5*b;e&&e.getVisibility()?e.capture(b,function(b){f.drawImage(b,g-b.width-i,h-b.height-i),c(a)},d):c(a)},ka.prototype.capture=ka.prototype.capture,ka.createDefault=function(a,b,c){var d=[];if(b.normal&&d.push({name:"layers.normal",mapType:b.normal}),b.satellite&&d.push({name:"layers.satellite",mapType:b.satellite}),b.terrain&&d.push({name:"layers.terrain",mapType:b.terrain}),!d.length)throw Error("The mapTypes parameter does not contain any known map types.");return new ka(a,{unitSystem:Db.METRIC,zoom:{alignment:"right-middle"},mapsettings:{alignment:"bottom-right",entries:d,incidents:b.incidents},scalebar:{alignment:"bottom-right"},panorama:{alignment:"top-right",mapTypes:b},locale:c||"en-US"})};var Hb={"in":'<svg class="H_icon" viewBox="0 0 25 25"><path d="M 18.5,11 H 14 V 6.5 c 0,-.8 -.7,-1.5 -1.5,-1.5 -.8,0 -1.5,.7 -1.5,1.5 V 11 H 6.5 C 5.7,11 5,11.7 5,12.5 5,13.3 5.7,14 6.5,14 H 11 v 4.5 c 0,.8 .7,1.5 1.5,1.5 .8,0 1.5,-.7 1.5,-1.5 V 14 h 4.5 C 19.3,14 20,13.3 20,12.5 20,11.7 19.3,11 18.5,11 z" /></svg>',hc:'<svg class="H_icon" viewBox="0 0 25 25"><path d="m 6.5,11 h 12 c .8,0 1.5,.7 1.5,1.5 0,.8 -.7,1.5 -1.5,1.5 H 6.5 C 5.7,14 5,13.3 5,12.5 5,11.7 5.67,11 6.5,11 z" /></svg>'};ra.lang.inherits(na,X),h("H.ui.ZoomControl",na),na.prototype.Ka=function(a){a=a.target;var b=a===this.la?1:-1,c=b>0?Math.ceil:Math.floor,d=this.map;d&&("down"===a.getState()?(d.getViewModel().startControl(),d.getViewModel().control(0,0,b*this.Qb,0,0,0)):d.getViewModel().endControl(!0,function(a){a.zoom=c(a.zoom)}))},na.prototype.d=function(a,b){X.prototype.renderInternal.call(this,a,b),L(this.la,this.b().translate("zoom.in")),L(this.Sa,this.b().translate("zoom.out"))},na.prototype.renderInternal=na.prototype.d,na.prototype.F=function(a){X.prototype.F.call(this,a),a=this.Y;var b;return/^top/g.test(a)||/^bottom/g.test(a)?(a=this.Sa,b=this.la):(a=this.la,b=this.Sa),this.removeChild(a),this.removeChild(b),this.g(a),this.g(b),this},na.prototype.setAlignment=na.prototype.F,na.prototype.D=function(a){a=a!==ra.Map.EngineType.P2D,this.getElement().style.display=a?"none":""},na.prototype.onMapEngineTypeChange=na.prototype.D,na.prototype.ac=function(){return this.Qb},na.prototype.getZoomSpeed=na.prototype.ac,na.prototype.setZoomSpeed=function(a){this.Qb=a},ra.lang.inherits(oa,X),h("H.ui.ScaleBar",oa),oa.prototype.d=function(a,b){X.prototype.renderInternal.call(this,a,b);var c;this.map.addEventListener("mapviewchangeend",this.update),a.innerHTML='<svg height="28" version="1.1" class="H_scalebar_svg" xmlns="http://www.w3.org/2000/svg"><polyline style="fill:none;stroke:white;stroke-width:4;stroke-opacity:0.8" points="2,19 2,26 98,26 98,19"/><polyline style="fill:none; stroke:black; stroke-width:2" points="2,20 2,26 98,26 98,20"/><text style="stroke:white;stroke-width:2;stroke-opacity:0.8;text-anchor:end;font: bold 10px \'Lucida Grande\',\'Lucida Sans Unicode\',Arial,Helvetica,sans-serif" x="90" y="22"></text><text style="text-anchor:end;font: bold 10px \'Lucida Grande\',\'Lucida Sans Unicode\',Arial,Helvetica,sans-serif;color:black;" x="90" y="22"></text></svg>',this.Pa=a.firstChild,c=this.Pa.childNodes,this.qb=c[0],this.rb=c[1],this.ab=c[2],this.bb=c[3],this.O=Db.METRIC,this.Rb=ra.lang.bind(function(a){this.v||(this.dispatchEvent("toggleunitsystem"),a.preventDefault())},this),this.Ha=ra.lang.bind(function(a){a.preventDefault()},this),m(a,"start",this.Ha),m(a,"end",this.Rb),L(this,this.b().translate("scale.switchToImperial")),this.update()},oa.prototype.renderInternal=oa.prototype.d,oa.prototype.capture=function(a,b,c){var d,e=document.createElement("canvas"),f=e.getContext("2d"),g=ra.util.cloneNode(this.Pa,document,!1);d=parseFloat(g.getAttribute("width"));var h=parseFloat(g.getAttribute("height")),i=d*a;a*=h,g.setAttribute("viewBox","0 0 "+d+" "+h),g.setAttribute("width",i),g.setAttribute("height",a),d=document.createElement("div"),d.appendChild(g),g=ra.util.svgToDataUrl(d.innerHTML),e.width=i,e.height=a,ra.net.images.load(g,function(a){f.drawImage(a,0,0),b(e)},c)},oa.prototype.capture=oa.prototype.capture,oa.prototype.lb=function(a){this.O=a,L(this,this.b().translate("imperial"===a?"scale.switchToMetric":"scale.switchToImperial")),this.update()},oa.prototype.onUnitSystemChange=oa.prototype.lb,oa.prototype.D=function(a){a=a!==ra.Map.EngineType.P2D,this.getElement().style.display=a?"none":""},oa.prototype.onMapEngineTypeChange=oa.prototype.D,oa.prototype.update=function(){if(this.getElement()&&(!this.map||this.map.getEngine().type===ra.Map.EngineType.P2D)){var a,b,c,d=0,e=this.map;e&&(a=Math.round(.5*e.getViewPort().width),b=Math.round(.5*e.getViewPort().height),c=e.screenToGeo(a,b))&&(d=ra.geo.Point.fromIPoint(c),e=ra.geo.Point.fromIPoint(e.screenToGeo(a+1,b)),d=100*d.distance(e)),a=d,e=this.maxWidth,this.O===Db.IMPERIAL?Ib>a?(d=a/Jb,b=this.b().translate("scale.ft")):(d=a/Ib,b=this.b().translate("scale.mi")):1e3>a?(d=a,b=this.b().translate("scale.m")):(d=a/1e3,b=this.b().translate("scale.km")),a=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),d=a/d*100,e/5>d?(a*=5,d*=5):e/2>d?(a*=2,d*=2):d>e&&(a/=2,d/=2),d=Math.round(d),this.Pa.setAttribute("width",d),this.bb.textContent=this.ab.textContent=a+" "+b,this.bb.setAttribute("x",d-8),this.ab.setAttribute("x",d-8),this.qb.points.getItem(2).x=this.rb.points.getItem(2).x=this.qb.points.getItem(3).x=this.rb.points.getItem(3).x=d-2}};var Ib=1609.344,Jb=.3048006,ra=ra||{};h("H.ui.buildInfo",function(){return ra.util.BuildInfo.get("mapsjs-ui","0.7.0","760721399496d0bc1a22ff1d5688b618fbd0a393")})}(H),function(){function a(a,b){for(var c in b)a[c]=b[c]}function b(a,b){var c=a.split("."),d=Xo;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function c(a,b){function c(){}c.prototype=b.prototype,a.Du=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.ft=function(a,c,d){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}}function d(){}function e(){return new d}function f(){}function g(a,b){this.b=a,this.a=b||null}function h(a){this.a=[],this.b=a}function i(a){this.Eb=a.Eb,this.duration=a.duration||1e3,this.H=a.rc,this.j=a.ee||this,this.Ma=a.td,this.Wa=a.Sb,this.d=this.Ae=0,this.b=null,this.Fj=new h(void 0),this.o=!1,this.Ee=i.STATE.Sd,this.Pi=null,this.xa=this.aa=0,this.n=this.duration}function j(a,b){a.Ee!==b&&(a.Ee=b,a.Fj.call({target:a,state:b}))}function k(a){for(i.call(this,a),this.a=a.i||[],0>=this.a.length&&So(),a=0;a<this.a.length;a++)this.a[a].Pi=this}function l(a,b){return"in"===a?function(a){return n(a,b)}:"out"===a?function(a){return o(a,b)}:function(a){return.5>a?.5*n(2*a,b):.5*o(2*a,b,2)}}function m(a){return function(b){return.5>=b?o(2*b,a):o(2-2*b,a)}}function n(a,b){return Math.pow(a,b||2)}function o(a,b,c){return c=c||1,b%2?Math.pow(a-c,b)+c:-(Math.pow(a-c,b)-c)}function p(a,b){i.call(this,{duration:b,rc:Yo,ee:this,Sb:this.Wa,td:this.Ma,Eb:this.Qr}),this.q=a,this.mc=null,this.Mb=[0,0,0],this.Ed=[0,0,0],this.af=[0,0,0],this.$d=[0,0,0],this.Be=[0,0,0],this.Zi=[0,0,0],this.Mi=[0,0,0],this.Uc=0,this.gm=!1,this.ge=1,this.te=0,this.Qn=!0}function q(a,b){i.call(this,{duration:b,rc:$o,ee:this,Sb:this.Wa,td:this.Ma,Eb:this.a}),this.q=a,this.Yi=0,this.Fl=this.Li=90*pp}function r(a){this.a=a.Eb,a.Eb=this.s,i.call(this,a),this.g=a.propertyName,this.c=a.jm?a.jm:0,this.p=a.Qj?a.Qj:0,this.e=a.object}function s(a,b){i.call(this,{duration:b,rc:function(a){return a},ee:this,Sb:this.Wa,td:this.Ma,Eb:this.Rr}),this.q=a,this.ae=[0,0,0],this.Uf=[0,0,0],this.Ih=this.Uc=0}function t(){this.i={},this.b=-1,this.a=!1,this.c=new h(void 0),this.d=this.e.bind(this)}function u(a,b){i.call(this,{duration:b,ee:this,Sb:this.Wa,td:this.Ma,Eb:this.Pr}),this.q=a,this.mc=[0,0,0],this.Mb=[0,0,0],this.Ed=[0,0,0],this.af=[0,0,0],this.$d=[0,0,0],this.Be=[0,0,0],this.oo=cp,this.Hq=dp,this.wh=1,this.te=0,this.ge=1,this.Qn=!0,this.yh=-45,this.a=2,this.pc=m(this.a)}function v(a,b){this.a=3,i.call(this,{duration:b,rc:m(this.a),ee:this,Sb:this.Wa,td:this.Ma,Eb:this.c}),this.q=a,this.Eq=-(8*pp)}function w(a,b){i.call(this,{duration:b,rc:$o,ee:this,Sb:this.Wa,td:this.Ma,Eb:this.a}),this.q=a,this.yh=this.xh=this.Ih=this.Uc=0,this.Zi=[0,0,0],this.Mi=[0,0,0],this.Fg=this.zl=null}function x(a){for(i.call(this,a),this.a=a.i||[],0<this.a.length?this.c=0:So(),a=0;a<this.a.length;a++)this.a[a].Pi=this}function y(a,b){i.call(this,{duration:b,rc:Yo,ee:this,td:this.Ma,Eb:this.a}),this.q=a,this.ae=[0,0,0],this.Uf=[0,0,0]}function z(a,b,c){this.qa=!1,this.a=a,this.object=b,this.c=c,this.b=this.startTime=null}function A(a){i.call(this,{duration:void 0,rc:void 0,ee:this,Sb:this.Wa,td:this.Ma}),this.q=a,this.pe=[]}function B(a){for(var b=!1,c=a.pe.length-1;c>=0;c--)if(a.pe[c].qa){b=!0;break}b?a.start():a.stop()}function C(a){this.q=a;var b=this;this.l=new t,this.i={},this.a=this.l.c,this.i.transition=new s(this.q,gp.transition),this.i.gb=new p(this.q,gp.gb),this.i.pc=new u(this.q,gp.pc),this.i.xf=new y(this.q,gp.xf),this.i.rb=new w(this.q,gp.rb),this.i.ld=new q(this.q,gp.ld),this.i.hm=new v(this.q,gp.hm),this.i.qf=new r({duration:gp.qf,rc:$o,propertyName:"globalLabelOpacity",Sb:function(){b.q.Za.Ga.handleEvent("FADED_IN")},Eb:function(){b.q.u()},object:this.q,Qj:1}),this.i.qf.Vh=!0,this.i.hg=new r({duration:gp.hg,rc:$o,Sb:function(){b.q.Za.Ga.handleEvent("FADED_OUT")},Eb:function(){b.q.u()},propertyName:"globalLabelOpacity",object:this.q,Qj:0}),this.i.hg.Vh=!0,this.i.fh=new r({duration:gp.fh,rc:$o,Sb:function(){b.q.Za.Ga.handleEvent("ALL_FADED_OUT")},propertyName:"globalOverlayOpacity",object:this.q,jm:1,Qj:0}),this.i.fh.Vh=!0,this.i.vi=new r({duration:gp.vi,rc:$o,Sb:function(){b.q.Za.Ga.handleEvent("ALL_FADED_IN")},propertyName:"globalOverlayOpacity",object:this.q,jm:0,Qj:1}),this.i.vi.Vh=!0,this.i.Rj=new k({i:[this.i.transition,this.i.rb],Sb:function(){b.q.Za.Ga.handleEvent("TRANSITION_FINISHED",b.q.k.r)}}),this.i.Sj=new x({i:[this.i.transition,this.i.rb],Sb:function(){b.q.Za.Ga.handleEvent("TRANSITION_FINISHED",b.q.k.r)}}),this.i.fc=new k({i:[this.i.xf,this.i.rb]}),this.i.ai=new k({i:[this.i.ld,this.i.rb],td:function(){this.i.rb.Od(gp.ld)},Sb:function(){this.i.rb.Od(gp.rb)},ee:this}),this.i.Cj=new A({ee:this}),this.i.Cj.Vh=!0;for(var c in this.i)this.i.hasOwnProperty(c)&&this.l.add(this.i[c])}function D(a){if(a.l.a){a=a.l.i;for(var b in a){var c=a[b];if(!c.Vh&&c.qa())return!0}}return!1}function E(a){return a.i.transition.qa()||a.i.xf.qa()?!0:!1}function F(){}function G(a){switch(a){case 1:case 2:return 1;case 3:case 4:return 2;case 5:case 6:case 7:return 4;case 8:return 8}return 0}function H(a){throw Error(a)}function I(a){return"undefined"==typeof a}function J(a,b){return I(a)?b:a}function K(a){return"number"==typeof a}function L(a){return null!==a&&"object"==typeof a||Array.isArray(a)||"function"==typeof a}function M(a,b){for(var c in b)b.hasOwnProperty(c)&&(L(b[c])&&L(a[c])?a[c]=M(a[c],b[c]):a[c]||(a[c]=b[c]));return a}function N(a){if(a){if(a.Db)return a.Db();if(a.slice)return a.slice();if(a.subarray)return new a.constructor(a);if(a instanceof Node)return a.cloneNode();if(L(a))return M({},a)}return a}function O(a,b){return Math.log(9999999),Math.log(10),("0000000000"+a.toString()).slice(-b)}function P(a,b,c){return a>>b-c+1&(1<<c)-1}function Q(a,b,c,d){return b=b-c+1,c=(1<<c)-1,a&~(c<<b)|(d&c)<<b}function R(a,b){return a>b?a:b}function S(a,b,c){return b>a?b:c>a?a:c}function T(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c}function U(a,b,c){if(c=J(c,1e-6),K(a))return Math.abs(a-b)<=c;if(Array.isArray(a)){if(a.length!==b.length)return!1;for(var d=0,e=a.length;e>d;++d)if(!U(a[d],b[d],c))return!1;return!0}return!1}function V(a){return a*pp}function W(a){return a*qp}function X(a,b,c){return a+(b-a)*c}function Y(a,b,c){return a*a+b*b+c*c}function Z(a,b){return a>b?a:b}function $(a,b,c){return b>a?b:c>a?a:c}function _(a){return a>0?a:-a}function aa(a,b,c,d){if(a==b)return!0;var e=_(a-b);return(d||1e-6)>e||e<=Z(_(a),_(b))*(c||1e-6)?!0:!1}function ba(a){return a*yp}function ca(a){return Math.log(a)/Math.log(2)}function da(a,b){return Math.log(a)/Math.log(b)}function ea(a,b,c){return a+(b-a)*c}function fa(a){return void 0===a}function ga(a){return"number"==typeof a}function ha(a){return"string"==typeof a||a instanceof String}function ia(a){return"function"==typeof a}function ja(a){return null!==a&&"object"==typeof a||Array.isArray(a)||ia(a)}function ka(a){if(a){if(a.Db)return a.Db();if(Array.isArray(a))return a.slice();if(ja(a)&&0<a.length&&ga(a.byteLength))return new a.constructor(a);if(a instanceof Node)return a.cloneNode(!1);if(ja(a)){var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c}}return a}function la(a,b){var c=0>a;0>a&&(a=-a);var d=1+(Math.log(a)/Math.log(10)|0),d=b-d,d=d>0?"00000000000000000000".substr(0,d):"",e="";return c&&(e+="-"),e=e+d+a}function ma(a){window.setTimeout(a,0)}function na(a){return!!a&&a.length>=Bp.Hi}function oa(a,b,c,d){var e=Array(4);return I(d)?(e[0]=1,e[1]=0,e[2]=0,e[3]=0):(e[0]=a,e[1]=b,e[2]=c,e[3]=d),e}function pa(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):oa(a[0],a[1],a[2],a[3])}function qa(a,b,c){c=c||oa();var d=a[0],e=a[1],f=a[2];a=a[3];var g=b[0],h=b[1],i=b[2];b=b[3],c[0]=d*g-e*h-f*i-a*b,c[1]=d*h+e*g+f*b-a*i,c[2]=d*i-e*b+f*g+a*h,c[3]=d*b+e*i-f*h+a*g}function ra(a,b){var c=b||oa(),d=1/Math.sqrt(sa(a,a));c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d}function sa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function ta(a,b,c){c=c||oa(),b*=.5;var d=Math.sin(b);return c[0]=Math.cos(b),c[1]=a[0]*d,c[2]=a[1]*d,c[3]=a[2]*d,c}function ua(a,b,c,d,e){d=d||"xyz",e=e||oa();var f=.5*a;a=.5*b;var g=.5*c;c=Math.sin(f),f=Math.cos(f),b=Math.sin(a);var h=Math.cos(a);return a=Math.sin(g),g=Math.cos(g),c=oa(f,c,0,0),b=oa(h,0,b,0),a=oa(g,0,0,a),"zxy"===d?(qa(a,c,e),qa(e,b,e)):"zyx"===d?(qa(a,b,e),qa(e,c,e)):"xzy"===d?(qa(c,a,e),qa(e,b,e)):"yzx"===d?(qa(b,a,e),qa(e,c,e)):"yxz"===d?(qa(b,c,e),qa(e,a,e)):"xyz"===d?(qa(c,b,e),qa(e,a,e)):H("invalid euler order: "+d),ra(e,e),e}function va(a,b){var c=b||Ba(),d=a[0],e=a[1],f=a[2],g=a[3],h=e*e,i=f*f,j=g*g,k=d*e,l=d*f,d=d*g,m=e*f,e=e*g,f=f*g;return c[0]=1-2*(i+j),c[1]=2*(m+d),c[2]=2*(e-l),c[3]=0,c[4]=2*(m-d),c[5]=1-2*(h+j),c[6]=2*(f+k),c[7]=0,c[8]=2*(e+l),c[9]=2*(f-k),c[10]=1-2*(h+i),c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,c}function wa(a,b){var c=b||oa(),d=a[0],e=a[4],f=a[8],g=a[1],h=a[5],i=a[9],j=a[2],k=a[6],l=a[10],m=Math.sqrt(Y(d,g,j)),n=Math.sqrt(Y(e,h,k)),o=Math.sqrt(Y(f,i,l)),d=d*m,h=h*n,l=l*o,p=.5*Math.sqrt(R(1+d+h+l,0)),q=.5*Math.sqrt(R(1+d-h-l,0)),r=.5*Math.sqrt(R(1-d+h-l,0)),d=.5*Math.sqrt(R(1-d-h+l,0)),q=0>k*n-i*o?-Math.abs(q):Math.abs(q),r=0>f*o-j*m?-Math.abs(r):Math.abs(r),d=0>g*m-e*n?-Math.abs(d):Math.abs(d);return c[0]=p,c[1]=q,c[2]=r,c[3]=d,c}function xa(){}function ya(a,b,c){if(this.o=a,this.a=this.d=null,this.j=0,this.c=null,this.p=0,this.b=null,this.n=0,this.g=this.e=null,b instanceof Nb){var d=J(c,Fp);a=b.d,c=new qb(b.s);var e=this.o.Je(b.g);if(rb(c,e),za(this,c,a),e=null,0<b.ji()&&(e=b.a),Aa(this,e,d),e=null,0<b.a.length){if(!b.n){for(var e=b.a,f=b.a.length,g=new Uint16Array(2*f),h=0,i=0;f>h;h+=3,i+=6){var j=e[h+0],k=e[h+1],l=e[h+2];g[i+0]=j,g[i+1]=k,g[i+2]=k,g[i+3]=l,g[i+4]=l,g[i+5]=j}b.n=g}e=b.n}d=J(d,Fp),f=this.b,e?(0!==e.length%2&&H("bad index count"),g=e.byteLength,f&&f.od()>=g&&f.ml()===d?f.Yj(e):(f&&f.Na(),this.b=this.o.nf(e,d)),this.n=e.length/2):f&&(f.Na(),this.b=null),this.d=b,this.a=c,this.j=a,this.p=b.ji(),this.n=b.a.length,this.g=this.e=null}}function za(a,b,c){a.a&&a.a.Na(),a.d=null,a.a=b,a.j=c,a.e=null,a.g=null}function Aa(a,b,c){c=J(c,Fp);var d=a.c;if(b){0!==b.length%3&&H("bad index count");var e=b.byteLength;d&&d.od()>=e&&d.ml()===c?d.Yj(b):(d&&d.Na(),a.c=a.o.nf(b,c)),a.p=b.length/3}else d&&(d.Na(),a.c=null)}function Ba(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=Array(16);return I(p)||(q[0]=a,q[1]=e,q[2]=i,q[3]=m,q[4]=b,q[5]=f,q[6]=j,q[7]=n,q[8]=c,q[9]=g,q[10]=k,q[11]=o,q[12]=d,q[13]=h,q[14]=l,q[15]=p),q}function Ca(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b):Ba(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15])}function Da(a,b,c){c=c||Ba();var d=a[0],e=a[4],f=a[8],g=a[12],h=a[1],i=a[5],j=a[9],k=a[13],l=a[2],m=a[6],n=a[10],o=a[14],p=a[3],q=a[7],r=a[11];a=a[15];var s=b[0],t=b[4],u=b[8],v=b[12],w=b[1],x=b[5],y=b[9],z=b[13],A=b[2],B=b[6],C=b[10],D=b[14],E=b[3],F=b[7],G=b[11];return b=b[15],c[0]=d*s+e*w+f*A+g*E,c[1]=h*s+i*w+j*A+k*E,c[2]=l*s+m*w+n*A+o*E,c[3]=p*s+q*w+r*A+a*E,c[4]=d*t+e*x+f*B+g*F,c[5]=h*t+i*x+j*B+k*F,c[6]=l*t+m*x+n*B+o*F,c[7]=p*t+q*x+r*B+a*F,c[8]=d*u+e*y+f*C+g*G,c[9]=h*u+i*y+j*C+k*G,c[10]=l*u+m*y+n*C+o*G,c[11]=p*u+q*y+r*C+a*G,c[12]=d*v+e*z+f*D+g*b,c[13]=h*v+i*z+j*D+k*b,c[14]=l*v+m*z+n*D+o*b,c[15]=p*v+q*z+r*D+a*b,c}function Ea(a,b){var c=b||Ba(),d=a[1],e=a[2],f=a[3],g=a[6],h=a[7],i=a[11];c[0]=a[0],c[1]=a[4],c[2]=a[8],c[3]=a[12],c[4]=d,c[5]=a[5],c[6]=a[9],c[7]=a[13],c[8]=e,c[9]=g,c[10]=a[10],c[11]=a[14],c[12]=f,c[13]=h,c[14]=i,c[15]=a[15]}function Fa(a,b){var c=b||Ba(),d=a[0],e=a[4],f=a[8],g=a[12],h=a[1],i=a[5],j=a[9],k=a[13],l=a[2],m=a[6],n=a[10],o=a[14],p=a[3],q=a[7],r=a[11],s=a[15],t=i*n*s-i*r*o-j*m*s+j*q*o+k*m*r-k*q*n,u=-h*n*s+h*r*o+j*l*s-j*p*o-k*l*r+k*p*n,v=h*m*s-h*q*o-i*l*s+i*p*o+k*l*q-k*p*m,w=-h*m*r+h*q*n+i*l*r-i*p*n-j*l*q+j*p*m,x=-e*n*s+e*r*o+f*m*s-f*q*o-g*m*r+g*q*n,y=d*n*s-d*r*o-f*l*s+f*p*o+g*l*r-g*p*n,z=-d*m*s+d*q*o+e*l*s-e*p*o-g*l*q+g*p*m,A=d*m*r-d*q*n-e*l*r+e*p*n+f*l*q-f*p*m,B=e*j*s-e*r*k-f*i*s+f*q*k+g*i*r-g*q*j,C=-d*j*s+d*r*k+f*h*s-f*p*k-g*h*r+g*p*j,s=d*i*s-d*q*k-e*h*s+e*p*k+g*h*q-g*p*i,q=-d*i*r+d*q*j+e*h*r-e*p*j-f*h*q+f*p*i,r=-e*j*o+e*n*k+f*i*o-f*m*k-g*i*n+g*m*j,D=d*j*o-d*n*k-f*h*o+f*l*k+g*h*n-g*l*j,g=-d*i*o+d*m*k+e*h*o-e*l*k-g*h*m+g*l*i,e=d*i*n-d*m*j-e*h*n+e*l*j+f*h*m-f*l*i,d=d*t+h*x+l*B+p*r;return U(d,0)?null:(d=1/d,c[0]=t*d,c[1]=u*d,c[2]=v*d,c[3]=w*d,c[4]=x*d,c[5]=y*d,c[6]=z*d,c[7]=A*d,c[8]=B*d,c[9]=C*d,c[10]=s*d,c[11]=q*d,c[12]=r*d,c[13]=D*d,c[14]=g*d,c[15]=e*d,c)}function Ga(a){return a=a||Ba(),a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}function Ha(a,b,c,d){d=d||Ba(),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=0,d[4]=b[0],d[5]=b[1],d[6]=b[2],d[7]=0,d[8]=c[0],d[9]=c[1],d[10]=c[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1}function Ia(a,b,c,d){d=d||Ba(),d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,na(a)?(d[12]=a[0],d[13]=a[1],d[14]=a[2]):(d[12]=a,d[13]=b,d[14]=c),d[15]=1}function Ja(a,b,c,d){
d=d||Ba(),d[0]=X(a[0],b[0],c),d[1]=X(a[1],b[1],c),d[2]=X(a[2],b[2],c),d[3]=X(a[3],b[3],c),d[4]=X(a[4],b[4],c),d[5]=X(a[5],b[5],c),d[6]=X(a[6],b[6],c),d[7]=X(a[7],b[7],c),d[8]=X(a[8],b[8],c),d[9]=X(a[9],b[9],c),d[10]=X(a[10],b[10],c),d[11]=X(a[11],b[11],c),d[12]=X(a[12],b[12],c),d[13]=X(a[13],b[13],c),d[14]=X(a[14],b[14],c),d[15]=X(a[15],b[15],c)}function Ka(a,b,c,d,e,f,g){g=g||Ba();var h=f-e,i=1/(b-a),j=1/(d-c),k=2*e;return g[0]=k*i,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=k*j,g[6]=0,g[7]=0,g[8]=(b+a)*i,g[9]=(d+c)*j,g[10]=-(f+e)/h,g[11]=-1,g[12]=0,g[13]=0,g[14]=-f*k/h,g[15]=0,g}function La(a,b,c,d,e,f,g){g=g||Ba();var h=f-e,i=1/(b-a),j=1/(d-c);return g[0]=2*i,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*j,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=-2/h,g[11]=0,g[12]=-(b+a)*i,g[13]=-(d+c)*j,g[14]=-(f+e)/h,g[15]=1,g}function Ma(a,b,c){a instanceof Ma?this.A(a):a instanceof ol&&(this.De="",this.b=a,this.Gg=b||{},this.ef=c||new Yi,this.Sf=3,this.a=[])}function Na(a,b,c){I(c)||null===c?delete a.Gg[b]:a.Gg[b]=c}function Oa(a,b,c,d){var e=Array(4);return I(d)||(e[0]=a,e[1]=b,e[2]=c,e[3]=d),e}function Pa(a,b){var c=b||Oa(),d=1/Math.sqrt(Y(a[0],a[1],a[2]));c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c[3]=a[3]*d}function Qa(a,b,c,d,e,f,g){var h=a[0],i=a[1],j=a[2];a=a[3];var k;return 0>h?k=b:(k=e,e=b),0>i?b=c:(b=f,f=c),0>j?(c=d,d=g):c=g,0>h*k+i*b+j*c+a?-1:h*e+i*f+j*d+a>0?1:0}function Ra(a){if(a instanceof Ra){this.Cg=Ba(),this.b=Ba(),this.c=!1;for(var b=this.a=[],c=0;6>c;++c)b.push(Ba());this.A(a)}else a&&16===a.length&&(this.Cg=Ca(a),this.b=Ba(),this.c=!1,b=this.a=[],a=this.Cg,b.push(Ua(a)),b.push(Va(a)),b.push(Wa(a)),b.push(Xa(a)),b.push(Ya(a)),b.push(Za(a)))}function Sa(a,b){var c=!1,d=J(void 0,0),e=a.a;if(d>0){var f=b(e[d]);if(void 0!==f)return f;for(var g=0,h=e.length;h>g;++g)if(g!==d&&(f=b(e[g]),void 0!==f)){c=f;break}}else for(g=0,h=e.length;h>g;++g)if(f=b(e[g]),void 0!==f){c=f;break}return c}function Ta(a,b,c,d,e){if(!(-1>d||d>1)){a.c||(Fa(a.Cg,a.b),a.c=!0),a=a.b;var f=a[3]*b+a[7]*c+a[11]*d+a[15];aa(f,0)||(f=1/f,Bp.set(b,c,d,e),Bp.I(a,e,e),Bp.scale(e,f,e))}}function Ua(a){var b=Oa();return b[0]=a[3]+a[0],b[1]=a[7]+a[4],b[2]=a[11]+a[8],b[3]=a[15]+a[12],Pa(b,b),b}function Va(a){var b=Oa();return b[0]=a[3]-a[0],b[1]=a[7]-a[4],b[2]=a[11]-a[8],b[3]=a[15]-a[12],Pa(b,b),b}function Wa(a){var b=Oa();return b[0]=a[3]+a[1],b[1]=a[7]+a[5],b[2]=a[11]+a[9],b[3]=a[15]+a[13],Pa(b,b),b}function Xa(a){var b=Oa();return b[0]=a[3]-a[1],b[1]=a[7]-a[5],b[2]=a[11]-a[9],b[3]=a[15]-a[13],Pa(b,b),b}function Ya(a){var b=Oa();return b[0]=a[3]-a[2],b[1]=a[7]-a[6],b[2]=a[11]-a[10],b[3]=a[15]-a[14],Pa(b,b),b}function Za(a){var b=Oa();return b[0]=a[3]+a[2],b[1]=a[7]+a[6],b[2]=a[11]+a[10],b[3]=a[15]+a[14],Pa(b,b),b}function $a(a){a instanceof $a?this.A(a):this.b=this.ne=this.rf=this.sf=this.a=this.object=null}function _a(a,b){a.sa=b;var c=a.hd;c&&xn(c,a)}function ab(a){a.Tc&&a.Tc.remove(a)}function bb(a,b,c){var d=[a];if(!c||c(a))for(d.push(null);0<d.length&&(a=d.shift(),!b||(b(a),I(void 0)));)if(a&&(a=a.ea,0<a.length)){for(var e=0,f=a.length;f>e;++e){var g=a[e];c&&!c(g)||d.push(g)}d.push(null)}}function cb(a,b){var c=[];return bb(a,function(a){a&&(b&&!b(a)||c.push(a))}),c}function db(a,b){return cb(a,function(a){return a.getName()===b})}function eb(a,b){Bp.A(b,a.S),a.ob()}function fb(a,b){Bp.A(b,a.S);var c=b[4],d=b[5],e=b[6],f=a.bc;f[0]=b[3],f[1]=c,f[2]=d,f[3]=e,a.ob()}function gb(a,b){pa(b,a.bc),a.ob()}function hb(a,b){Bp.A(b,a.Dc),a.ob()}function ib(a){if(!a.Ti){var b=a.Tc;!b||b instanceof sn?Ca(a.Yg(),a.Cl):Da(ib(b),a.Yg(),a.Cl),a.Ti=!0}return a.Cl}function jb(a){if(!a.Si){var b=a.Tc;!b||b instanceof sn?Ca(a.Xg(),a.Dl):Da(a.Xg(),jb(b),a.Dl),a.Si=!0}return a.Dl}function kb(a){if(!a.Hl){var b=a.Tc;!b||b instanceof sn?pa(a.bc,a.Gl):qa(kb(b),a.bc,a.Gl),a.Hl=!0}return a.Gl}function lb(a,b){var c=a.Tc;if(!c||c instanceof sn)pa(b,a.bc);else{var d=kb(c),e=(c=a.bc||oa())||oa(),f=e||oa();f[0]=d[0],f[1]=-d[1],f[2]=-d[2],f[3]=-d[3],d=1/sa(e,e),f=e||oa(),f[0]=e[0]*d,f[1]=e[1]*d,f[2]=e[2]*d,f[3]=e[3]*d,qa(c,b,c)}a.ob()}function mb(a){bb(a,function(a){a&&(a.Ti=!1,a.Si=!1,ib(a),jb(a))})}function nb(a,b){if(a instanceof nb)Ep.call(this,a),this.o=a.o,this.Ha=a.Ha,this.a=a.a;else if(a instanceof ya){var c=J(b,null);Ep.call(this),this.o=a,this.Ha=c,this.a=null}}function ob(a,b,c,d,e){this.type=a,this.size=b,this.offset=c,this.xn=d,this.normalize=J(e,!1)}function pb(a){if(this.a=[],this.b={},a){var b,c=this.b;for(b in a)c[b]&&H("duplicate role '"+b+"'"),this.b[b]=a[b];this.a.push(a),a=this.a[this.a.length-1],c=0;for(b in a)var d=a[b],d=d.offset+d.od(),c=R(c,d);for(b in a)d=a[b],I(d.xn)&&(d.xn=c)}}function qb(a){this.j=a,this.a=Array(a.a.length)}function rb(a,b){var c=a.a;if(K(void 0))void 0>=c.length&&H("invalid args"),c[void 0]=b;else for(var d=0,e=c.length;e>d;++d)c[d]=b}function sb(a,b){if(a instanceof sb)nb.call(this,a),this.p=a.p,this.d=a.d,this.g=a.g,this.H=a.H,this.s=a.s,this.Xa=a.Xa,this.e=a.e,this.n=a.n,this.c=N(a.c),this.j=N(a.j),this.b=a.b,this.v=a.v;else if(a instanceof sh){var c=b||ip,d=c.Se,c=c.Gc;if(!c){var c=a.Am(),e=c.tq;if(!e){var f=new pb({position:new ob(7,3,0),texcoord:new ob(7,2,12),normal:new ob(7,3,20)}),e=null,e=new Float32Array([-.5,.5,0,0,0,0,0,1,-.5,-.5,0,0,1,0,0,1,.5,-.5,0,1,1,0,0,1,.5,.5,0,1,0,0,0,1]),g=null,g=new Uint16Array([0,1,2,2,3,0]),e=a.Je(e),f=new qb(f);rb(f,e),e=new ya(a.oj()),za(e,f,4),Aa(e,g),c.tq=e}c=e}nb.call(this,c,d),this.p=1,this.g=this.d=2,this.H=Ap.create(0,0),this.s=0,this.e=this.Xa=null,this.n=!1,this.c=new xj(0,0,1,1),this.j=Array(9),this.b=!1,this.v=!0}}function tb(a,b,c,d,e){var f=a.c;(b!==f.x||c!==f.y||d!==f.width||e!==f.height)&&(f.set(b,c,d,e),a.ob(),a.b=!1)}function ub(a){a.v=!1,a.b=!1}function vb(a){this.marker=null,this.Me=Ap.A(a),this.a=this.Te=null,this.b=new Ep,this.d=new Ep,this.c=new Ep,this.c.add(this.d),this.b.add(this.c),this.R=0,this.ip=!1,this.g=this.e=null}function wb(a,b){a.a=b,eb(a.b,b);var c=a.marker;c&&c.Ba&&(c.Ba.a=b)}function xb(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.Me=Ap.A(a),this.a=this.Te=null,this.buildingId=b,this.Sa=c,this.index=d,this.ep=m,this.g=n,this.label=e,this.o=f,this.n=g,this.ag=h,this.b=null,this.Nm=!1,this.jd=null,this.e=i,this.d=j,this.j=k,this.c=l}function yb(a){this.Ba=a}function zb(a,b){this.Ba=a,this.anchor=b,this.Ve=this.Q=null,this.He=Bp.create(.5,0,1),this.distanceFactor=1,this.zd=this.Xb=this.fg=this.ni=this.height=this.width=0,this.R=Number.MAX_VALUE,this.Go=null,this.visible=!0,this.ag=a.ag,this.Dj=Qq,this.fn=Nq,this.Ld=Oq,this.Kd=Pq;var c=a.Sa["3d"];c&&(fa(c.ag)||(this.ag=c.ag),fa(c.Dj)||(this.Dj=c.Dj),fa(c.fn)||(this.fn=c.fn),fa(c.Ld)||(this.Ld=c.Ld),fa(c.Kd)||(this.Kd=c.Kd)),this.wj=!1}function Ab(a){a.Q&&(a.Q.bm(),a.Q=null)}function Bb(){}function Cb(a,b){return!!Sa(b,function(b){return a.Mm(b)?!0:void 0})}function Db(a,b,c){if(a instanceof Db)c=Bp.A(a.Zb),a=Bp.A(a.Nb);else if(na(a)&&na(b))c=Bp.A(a),a=Bp.A(b);else if(K(c)){a=.5*a,b=.5*b;var d=.5*c;c=Bp.create(-a,-b,-d),a=Bp.create(+a,+b,+d)}else H("invalid args"),c=a=Bp.create();this.Zb=c,this.Nb=a}function Eb(a,b){this.Mf=Bp.create(),this.Hh=0,a instanceof Eb?(this.Mf=Bp.A(a.Mf,this.Mf),this.Hh=a.Hh):na(a)&&K(b)?(this.Mf=Bp.A(a,this.Mf),this.Hh=b):H("invalid args")}function Fb(a,b,c,d,e,f){var g=Array(6);return I(f)||(g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f),g}function Gb(a,b,c,d,e,f,g){return g=g||Fb(),g[0]=a,g[1]=b,g[2]=c,g[3]=d,g[4]=e,g[5]=f,a=g||Fb(),b=1/Math.sqrt(Y(g[3],g[4],g[5])),a[0]=g[0],a[1]=g[1],a[2]=g[2],a[3]=g[3]*b,a[4]=g[4]*b,a[5]=g[5]*b,g}function Hb(a){var b=Bp.create();return b[0]=a[0],b[1]=a[1],b[2]=a[2],b}function Ib(a,b,c){c=c||Fb();var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4];b=b[5];var i=a[0],j=a[4],k=a[8],l=a[1],m=a[5],n=a[9],o=a[13],p=a[2],q=a[6],r=a[10],s=a[14];c[0]=i*d+j*e+k*f+a[12],c[1]=l*d+m*e+n*f+o,c[2]=p*d+q*e+r*f+s,d=i*g+j*h+k*b,e=l*g+m*h+n*b,f=p*g+q*h+r*b,a=1/Math.sqrt(Y(d,e,f)),c[3]=d*a,c[4]=e*a,c[5]=f*a}function Jb(a,b,c){return c=c||Bp.create(),c[0]=a[0]+a[3]*b,c[1]=a[1]+a[4]*b,c[2]=a[2]+a[5]*b,c}function Kb(a,b,c,d,e){var f=a[3],g=a[4],h=a[5],i=c[0]-b[0],j=c[1]-b[1];c=c[2]-b[2];var k,l=d[0]-b[0],m=d[1]-b[1],n=d[2]-b[2],o=j*n-c*m,p=c*l-i*n,q=i*m-j*l;if(d=f*o+g*p+h*q,d>1e-6)k=1;else{if(!(-1e-6>d))return-(1/0);k=-1,d=-d}if(!e&&k>0)return-(1/0);e=a[0]-b[0];var r=a[1]-b[1];return a=a[2]-b[2],b=k*(f*(r*n-a*m)+g*(a*l-e*n)+h*(e*m-r*l)),0>b?-(1/0):(f=k*(f*(j*a-c*r)+g*(c*e-i*a)+h*(i*r-j*e)),0>f||f+b>d?-(1/0):(f=-k*(e*o+r*p+a*q),0>f?-(1/0):f/d))}function Lb(a,b,c,d,e,f,g){var h,i=a[3],j=a[4],k=a[5],l=c[0]-b[0],m=c[1]-b[1],n=c[2]-b[2],o=d[0]-b[0],p=d[1]-b[1],q=d[2]-b[2],r=m*q-n*p,s=n*o-l*q,t=l*p-m*o,u=i*r+j*s+k*t;if(u>1e-6)h=1;else{if(!(-1e-6>u))return-(1/0);h=-1,u=-u}if(!g&&h>0)return-(1/0);g=a[0]-b[0];var v=a[1]-b[1];return a=a[2]-b[2],o=h*(i*(v*q-a*p)+j*(a*o-g*q)+k*(g*p-v*o)),0>o?-(1/0):(i=h*(i*(m*a-n*v)+j*(n*g-l*a)+k*(l*v-m*g)),0>i||i+o>u?-(1/0):(j=-h*(g*r+v*s+a*t),0>j?-(1/0):(h=-h,e[0]=h*r,e[1]=h*s,e[2]=h*t,f&&(f.J=Bp.A(b),f.W=Bp.A(c),f.Ye=Bp.A(d),f.tg=o/u,f.ug=i/u,f.Gi=1-f.tg-f.ug),j/u)))}function Mb(a,b,c){var d=a[0],e=a[1],f=a[2],g=1/a[3],h=1/a[4];a=1/a[5];var i;return g>=0?(i=(b[0]-d)*g,g*=c[0]-d):(i=(c[0]-d)*g,g*=b[0]-d),d=i,h>=0?(i=(b[1]-e)*h,e=(c[1]-e)*h):(i=(c[1]-e)*h,e=(b[1]-e)*h),d>e||i>g?-(1/0):(i>d&&(d=i),g>e&&(g=e),a>=0?(e=(b[2]-f)*a,b=(c[2]-f)*a):(e=(c[2]-f)*a,b=(b[2]-f)*a),d>b||e>g?-(1/0):(e>d&&(d=e),d))}function Nb(a,b,c,d,e){this.s=a,this.d=b,this.g=c,this.a=d,this.o=this.n=null,this.e=0,this.c=e||null,this.b=!1}function Ob(a,b){var c=a.ji(),d=J(void 0,0);(0>d||d>=c)&&H("invalid args");for(var e=J(void 0,c-d),e=S(e,0,c-d),c=a.a,f=3*d,g=Pb(a),h=a.e,i=Bp.create(),j=Bp.create(),k=Bp.create(),l=d,d=d+e;d>l;++l){var m=c[f+0],n=c[f+1],o=c[f+2],e=m*h;if(i[0]=g[e+0],i[1]=g[e+1],i[2]=g[e+2],i[3]=g[e+3],i[4]=g[e+4],e=n*h,j[0]=g[e+0],j[1]=g[e+1],j[2]=g[e+2],j[3]=g[e+3],j[4]=g[e+4],e=o*h,k[0]=g[e+0],k[1]=g[e+1],k[2]=g[e+2],k[3]=g[e+3],k[4]=g[e+4],e=b(l,m,i,n,j,o,k),!I(e))break;f+=3}}function Pb(a){if(!a.o){var b,c=a.g.buffer;(b=a.s.b.position)||H("no vertex position attrib");var d=b.offset,e=null;switch(b.type){case 1:e=new Int8Array(c,d);break;case 2:e=new Uint8Array(c,d);break;case 3:e=new Int16Array(c,d);break;case 4:e=new Uint16Array(c,d);break;case 7:e=new Float32Array(c,d)}a.o=e,a.e=0<a.d&&0<e.length?a.g.byteLength/a.d/(e.byteLength/e.length):0}return a.o}function Qb(a,b){for(var c=1,d=a.c,e=d.length;e>c&&!(b<d[c].index);)c++;return d[c-1]}function Rb(a,b){var c=J(b,16384);for(this.j=a,this.c=0,this.a=this.a||new Float32Array(c/4),this.e=[],this.d=this.b=0,this.n=this.g=null;c>this.a.byteLength;)_b(this)}function Sb(a){a.g||(a.g=[],a.n=null)}function Tb(a,b,c,d,e,f,g,h,i){var j=a.d,k=a.b<<2;if(j>0)for(k%j&&H("inconsistent stride");k+j>a.a.byteLength;)_b(a);else a.d=k;return Ub(a,b,c,d),void 0!==e&&void 0!==f&&(a.a[a.b++]=e,a.a[a.b++]=f),void 0!==g&&void 0!==h&&void 0!==i&&Ub(a,g,h,i),a.c++}function Ub(a,b,c,d){var e=a.a,f=a.b;e[f++]=b,e[f++]=c,e[f++]=d,a.b=f}function Vb(a,b,c,d,e){Yb(a,b,c,d,d,e,b)}function Wb(a,b,c,d,e,f){var g=a.d,h=a.b<<2;if(g>0)for(h%g&&H("inconsistent stride");h+g>a.a.byteLength;)_b(a);else a.d=h;return g=a.a,h=a.b,g[h++]=b,g[h++]=c,g[h++]=d,void 0!==e&&(g[h++]=e[0],g[h++]=e[1]),void 0!==f&&(g[h++]=f[0],g[h++]=f[1],g[h++]=f[2]),a.b=h,a.c++}function Xb(a,b,c,d){var e=a.d,f=a.b<<2;if(e>0)for(f%e&&H("inconsistent stride");f+e>a.a.byteLength;)_b(a);else a.d=f;return e=a.a,f=a.b,e[f++]=b[0],e[f++]=b[1],e[f++]=b[2],void 0!==c&&(e[f++]=c[0],e[f++]=c[1]),void 0!==d&&(e[f++]=d[0],e[f++]=d[1],e[f++]=d[2]),a.b=f,a.c++}function Yb(a,b,c,d,e,f,g,h){h&&$b(a,h),a=a.e,h=a.length,a[h++]=b,a[h++]=c,a[h++]=d,a[h++]=e,a[h++]=f,a[h++]=g}function Zb(a,b,c,d,e,f,g,h,i,j,k){k&&$b(a,k),a=a.e,k=a.length,a[k++]=b,a[k++]=c,a[k++]=d,a[k++]=e,a[k++]=f,a[k++]=g,a[k++]=h,a[k++]=i,a[k++]=j}function $b(a,b){b!==a.n&&(a.g.push({index:a.e.length/3,Y:b}),a.n=b)}function _b(a){var b=new Float32Array(((a.a.byteLength<<1)+4-1&-4)>>2);b.set(a.a),a.a=b}function ac(){this.a=new pn}function bc(a,b){if(b&&b.Sa&&b.Sa.id){var c=a.a.get(b.Sa.id);c&&a.mg(c.Sa)}}function cc(a){if(a instanceof cc)Ep.call(this,a),this.Ce=a.Ce,this.Lb=a.Lb,this.Yb=a.Yb,this.ac=a.ac,this.kc=a.kc,this.nc=a.nc,this.Yd=a.Yd,this.Ni=a.Ni,this.Fe=N(a.Fe),this.Wd=Ca(a.Wd),this.Xd=a.Xd,this.Oi=N(a.Oi),this.bf=a.bf,this.Eg=a.Eg,this.Vi=a.Vi;else{if(a=a||{},Ep.call(this),this.Ce=rp,this.Lb=a.Tl,this.Yb=a.left,this.ac=a.right,this.kc=a.bottom,this.nc=a.top,this.Yd=J(a.Nk,.1),this.Ni=J(a.tk,100),I(this.Yb)||I(this.ac)||I(this.kc)||I(this.nc)){this.Lb=J(this.Lb,1.6),this.Ja(J(a.ld,rp));var b=this.Yd*Math.tan(.5*this.Ce),c=b*this.Lb;this.Yb=-c,this.ac=c,this.kc=-b,this.nc=b}else b=this.ac-this.Yb,c=this.nc-this.kc,this.Ce=Math.atan(Math.abs(this.nc)/this.Yd)+Math.atan(Math.abs(this.kc)/this.Yd),this.Lb=b/c;this.Fe=a.viewport||new xj(-1,-1,2,2),a.viewport&&this.Fe.A(a.viewport),this.Wd=Ba(),this.Xd=!1,this.Oi=new Ra(this.Wd),this.bf=!1,this.Eg=a.Kr,this.Vi=J(a.Jr,0)}}function dc(a,b){if(b!==ec(a)){var c=2*Math.atan(Math.sqrt(Math.pow(Math.tan(.5*b),2)/(1+Math.pow(a.Lb,2))));if(c!==a.Ce){a.Ce=c;var c=a.Yd*Math.tan(.5*a.Ce),d=c*a.Lb;a.Yb=-d,a.ac=d,a.kc=-c,a.nc=c,a.Xd=!1,a.bf=!1}}}function ec(a){var b=Math.tan(.5*a.Ce);return 2*Math.atan(Math.sqrt(Math.pow(b*a.Lb,2)+Math.pow(b,2)))}function fc(a,b){var c=b||Bp.create(),d=a.Yg();return c[0]=d[0],c[1]=d[1],c[2]=d[2],c}function gc(a,b){var c=b||Bp.create(),d=a.Yg();return c[0]=d[4],c[1]=d[5],c[2]=d[6],c}function hc(a,b){var c=b||Bp.create(),d=a.Yg();return c[0]=-d[8],c[1]=-d[9],c[2]=-d[10],c}function ic(a){if(a instanceof ic)cc.call(this,a);else{if(a=a||{},Ep.call(this),this.Lb=a.Tl,this.Yb=a.left,this.ac=a.right,this.kc=a.bottom,this.nc=a.top,this.Yd=J(a.Nk,.1),this.Ni=J(a.tk,100),this.Lb)if(I(this.kc)||I(this.nc))I(this.Yb)||I(this.ac)?H("invalid args"):(c=this.ac-this.Yb,b=c/this.Lb,this.kc=.5*-b,this.nc=.5*b);else{var b=this.nc-this.kc,c=b*this.Lb;this.Yb=.5*-c,this.ac=.5*c}else I(this.Yb)||I(this.ac)||I(this.kc)||I(this.nc)?H("invalid args"):(c=this.ac-this.Yb,b=this.nc-this.kc,this.Lb=c/b);this.Fe=new xj(-1,-1,2,2),a.viewport&&this.Fe.A(a.viewport),this.Wd=Ba(),this.Xd=!1,this.Oi=new Ra(this.Wd),this.bf=!1,this.Eg=a.Kr,this.Vi=J(a.Jr,0)}}function jc(a,b,c){Ep.call(this),this.f=a,this.type=b,this.state=c,this.R=Number.MAX_VALUE,this.opacity=1,this.c=this.b=this.wf=this.Fd=this.a=this.Y=this.Q=null,this.s=!1,this.Lj=this.p=this.o=this.Se=this.Ka=null,this.n=0,this.qe=null,this.aj=0,this.be=null,this.e=$p,this.j=!0}function kc(a){var b=a.Se,c=a.o,d=a.p,e=a.Lj;if(b&&c&&d&&e){var f=a.Ka?a.opacity:0;Na(b,"u_texunit0",0),Na(b,"u_opacity",f),Na(b,"u_mat_tex",$p),Na(c,"u_texunit0",0),Na(c,"u_opacity",f),Na(c,"u_mat_tex",a.e),Na(d,"u_texunit0",0),Na(d,"u_opacity",f),Na(d,"u_mat_tex",a.e),Na(e,"u_texunit0",0),Na(e,"u_opacity",f),Na(e,"u_mat_tex",$p),a.s&&(b.za(0,a.Ka),c.za(0,a.Ka),d.za(0,a.Ka),e.za(0,a.Ka),a.s=!1)}}function lc(a,b,c,d,e,f){function g(a,b,c,d){return l=new Rb(k),Sb(l),$b(l,f),d?(i(a[0]-d[0],a[2]-d[2],a[0],a[2]),i(b[0]-d[0],b[2]-d[2],b[0],b[2]),i(c[0]-d[0],c[2]-d[2],c[0],c[2])):(j(a[0],a[2]),j(b[0],b[2]),j(c[0],c[2])),l.Lh(0,1,2),l.hb()}function h(a,b,c){return l=new Rb(k),Sb(l),$b(l,f),c?(i(a[0]-c[0],a[2]-c[2],a[0],a[2]),i(b[0]-c[0],a[2]-c[2],b[0],a[2]),i(b[0]-c[0],b[2]-c[2],b[0],b[2]),i(a[0]-c[0],b[2]-c[2],a[0],b[2])):(j(a[0],a[2]),j(b[0],a[2]),j(b[0],b[2]),j(a[0],b[2])),Yb(l,0,1,2,0,2,3),Yb(l,0,2,1,0,3,2),l.hb()}function i(a,b,c,d){Tb(l,a,0,b,c/256,(256-d)/256,0,1,0)}function j(a,b){Tb(l,a,0,256-b,a/256,b/256,0,1,0)}a.Y=f;var k=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),l=null,m=new ya(b,h(Op[0],Op[1],Pp)),n=new ya(b,h(Qp[0],Qp[1],Rp)),o=null,o=a.type===vr?new ya(b,g(Ip[0],Ip[1],Ip[2],Jp)):new ya(b,g(Xp[0],Xp[1],Xp[2],Yp)),p=new ya(b,g(Lp[0],Lp[1],Lp[2],Mp)),q=new ya(b,h(Np[0],Np[1],Wp));b=Qn(c),b.za(0,e);var r=Qn(c);r.za(0,e);var s=Qn(c);return s.za(0,e),c=Qn(c),c.za(0,e),_a(a,Nt),a.c=new nb(q,c),_a(a.c,Nt),a.a=new nb(m,b),_a(a.a,Lt),a.Fd=new nb(n,b),_a(a.Fd,Lt),a.wf=new nb(o,r),_a(a.wf,Nt),a.type===vr&&(a.b=new nb(p,s),_a(a.b,Nt)),m=256/(Ip[0][2]-Ip[1][2]+(Op[1][2]-Op[0][2])+(Np[1][2]-Np[0][2])/2),m=[1/256*m,1,1/256*m],hb(a.Fd,m),hb(a.wf,m),hb(a.c,m),a.b&&hb(a.b,m),a.s=!0,a.F(d.eg()),a.add(a.c),a.add(a.wf),a.add(a.Fd),a.add(a.a),a.b&&a.add(a.b),a.Ka=e,a.Se=b,a.o=r,a.p=s,a.Lj=c,kc(a),sc(a,!0),mc(a),nc(a,0),a}function mc(a){a.Q?So():(qc(a,1,!0),oc(a,0))}function nc(a,b){if(a.Q)So();else{if(fa(b)||b>0){var c=fa(b)?300:b,d=a.n;a.qe&&a.qe.stop(),a.qe=rc(a.f,a,d,0,c,!1),a.qe&&a.qe.start()}else qc(a,0,!1);a.u()}}function oc(a,b){if(a.Q)So();else{a.aj=b;var c=256/(Ip[0][2]-Ip[1][2]+(Op[1][2]-Op[0][2])+(Np[1][2]-Np[0][2])/2),d=[1/256*c,1,1/256*c],c=Bp.si(Vp,d),d=Bp.si(Tp,d),c=Bp.ma(c,d,b);eb(a.Fd,c),a.Fd.F(a.j&&.05<a.aj)}}function pc(a,b,c,d,e){return b.Q?void So():new z(a.l.i.Cj,b.Fd,function(a,f){var g=a>e,h=g?1:S(a/e,0,1),h=X(c,d,h),h=d>c?_p(h):aq(h);return oc(b,h),b.u(),g?(f.stop(),b.be=null,!1):!0})}function qc(a,b,c){if(a.Q)So();else{if(a.type===vr){var d=c?Up:Sp,e=c?Sp:bq;a.n=b;var f=c?b:1-b,g=X(c?0:1,c?1:.3125,f),h=256/(Ip[0][2]-Ip[1][2]+(Op[1][2]-Op[0][2])+(Np[1][2]-Np[0][2])/2),i=1/256*h,j=1/256*h,k=[i,1,j]}else d=c?Up:Sp,e=c?Zp:bq,a.n=b,f=c?b:1-b,g=X(c?0:1,c?1:.3125,f),h=256/(Ip[0][2]-Ip[1][2]+(Op[1][2]-Op[0][2])+(Np[1][2]-Np[0][2])/2),i=1/256*h,j=1/256*h,k=[i,1,j];h=X(c?.5:1,c?1:.25,f),h=[i*h,1,j*h],c=X(c?0:1,c?1:.15,f),c=[i*c,1,j*c],d=Bp.si(d,k),e=Bp.si(e,k),f=Bp.ma(d,e,f),eb(a.a,f),a.e=[1,0,0,0,1,0,X(Kp[0]/256,0,g),X(-(Kp[2]/256),0,g),1],hb(a.a,h),hb(a.c,c),sc(a,b>0)}}function rc(a,b,c,d,e,f){return b.Q?void So():new z(a.l.i.Cj,b.Fd,function(a,g){var h=a>e,i=h?1:S(a/e,0,1),i=X(c,d,i),i=d>c?_p(i):aq(i);return qc(b,i,f),b.u(),h?(g.stop(),b.qe=null,!1):!0})}function sc(a,b){a.j!=b&&(a.j=b,tc(a))}function tc(a){var b=a.j&&a.Vf;a.a&&(a.a.F(b),a.Fd.F(b&&.05<a.aj),a.wf.F(b),a.c.F(b),a.b&&a.b.F(b)),a.Q&&a.Q.F(b)}function uc(){this.Vb=this.wa=this.Jc=this.lb=this.mb=this.f=null,this.n=this.o=-1,this.Fa=this.d=this.b=this.j=this.e=this.a=null,this.c=[]}function vc(a,b,c){if(a.wa){var d=a.wa.getContext();(null==a.g||b!=a.o||c!=a.n)&&(a.o=b,a.n=c,a.a=d.createFramebuffer(),a.a.width=b,a.a.height=c,a.g=d.createRenderbuffer()),d.bindRenderbuffer(d.RENDERBUFFER,a.g),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,a.a.width,a.a.height)}return a.a}function wc(a,b,c){var d=b,e=c,d=b/2,e=c/2;c=new Uint8Array(d*e);for(var f=0,g=0;e>g;g++)for(var h=g*b*8+3,i=(g+1)*b*8+3,j=0;d>j;j++)c[f]=10<a[h]||10<a[h+4]||10<a[i]||10<a[i+4]?255:0,f++,h+=8,i+=8;return{width:d,height:e,data:c,wp:1}}function xc(a,b){this.c=a,this.b=b,this.da=0,this.keys=[],this.a={},this.Wb=0}function yc(a,b){var c=a.a[b];return c?c.value:null}function zc(a,b){for(var c={key:a[0],Wb:b[a[0]].Wb,index:0},d=a.length,e=1;d>e;++e){var f=a[e],g=b[f].Wb;g<c.Wb&&(c.key=f,c.Wb=g,c.index=e)}return c}function Ac(a,b){for(var c=a.a,d=a.keys,e=d.length,f=1;e>f;++f){var g=d[f],g=b(g,c[g].value);if(!fa(g))break}}function Bc(){this.$c=new rk,this.a=cq}function Cc(a,b){var c,d=[0,0,0,1];return d[0]=Math.floor(a/Math.pow(16,4))/255,c=a%Math.pow(16,4),d[1]=Math.floor(c/Math.pow(16,2))/255,c%=Math.pow(16,2),d[2]=c/255,void 0!==b&&(d[3]=b),d}function Dc(a,b){var c,d=a.length,e=null,f=0,g=!1,h=Number.MAX_VALUE,i={},j=0,k=a[0],l=(c=2<k.length&&2<b.length)?Bp.Ta:Ap.Ta,m=c?Bp.X:Ap.X;if(2===d)c=a[j+1],e=l(k,c,b,i),f=0,g=i.split,h=m(b,e);else for(;d-1>j;j++){c=a[j+1];var n=null,o=-1,n=l(k,c,b,i),o=m(b,n);h>o&&(h=o,e=n,f=j,g=i.split),k=c}return{point:e,index:f,split:g,Zf:h}}function Ec(a,b){var c=Dc(a,b);if(0===c.index&&!c.split)return{Rd:null,Le:null,ub:c.point,split:!1};if(c.index===a.length-1&&!c.split)return{Rd:null,Le:null,ub:c.point,split:!1};var d=a.slice(0,c.index+1);d.push(c.point);var e=a.slice(c.index+1);return e.splice(0,0,c.point),{Rd:d,Le:e,ub:c.point,split:!0}}function Fc(a){if(!(null===a||2>a.length))for(var b=0;b<a.length;b++)for(var c=b+1;c<a.length;c++)if(.1>Ap.X(a[b],a[c]))return}function Gc(a,b,c){for(var d=c*c;1<a.length&&Ap.Pg(a[0],a[1],b)>d;)a.splice(0,1);if(1==a.length&&Ap.X(a[0],b)>d&&a.splice(0,1),0!=a.length){var e,f,g=0;e=a[0];for(var h=Ap.X(a[0],b)<d;g<a.length-1;g++){f=a[g+1];var i=Ap.Pg(e,f,b);if(i+.01>d)a.splice(0,2);else{if(i=Ap.ig(e,f,b,c),!i){if(Ap.X(e,b)<d-1e-6){e=f;continue}break}if(!i[0]||h||.1>Ap.X(i[0],e)||.1>Ap.X(i[0],f)||(a[g]=i[0]),i[1]){Ap.distance(i[1],e),Ap.distance(i[1],f),.1>Ap.X(i[1],e)||.1>Ap.X(i[1],f)||(Ap.distance(i[1],f),a.splice(g+1,0,i[1]));break}e=f}}if(Fc(a),1<a.length)for(;1<a.length&&Ap.Pg(a[a.length-1],a[a.length-2],b)+.001>d;)a.splice(a.length-1,1);var j=g;for(e=a[a.length-1],h=Ap.X(e,b)<d,g=a.length-1;g>j;g--)if(f=a[g-1],i=Ap.Pg(e,f,b),i+.01>d)a.splice(g-1,2);else{if(i=Ap.ig(e,f,b,c),!i)break;if(i[0]&&!h){if(.1>Ap.X(i[0],e)||.1>Ap.X(i[0],f))break;a[g]=i[0]}if(i[1]){if(.1>Ap.X(i[1],e)||.1>Ap.X(i[1],f))break;a.splice(g,0,i[1]);break}e=f}Fc(a)}}function Hc(a,b,c,d){var e=Bp.jb(Bp.sub(c,a)),f=Bp.jb(Bp.sub(c,b));if(1e-6<Bp.jb(Bp.sub(a,b))){f>e?(e=a,a=b):e=b,b={},c=Bp.Ta(e,a,c,b);var f=e,g=a,h=0;return b.split&&(h=Bp.L(Bp.normalize(Bp.sub(e,c)),Bp.normalize(Bp.sub(d,c))),h>0?(f=c,g=e):(f=c,g=a)),Bp.normalize(Bp.sub(g,f))}}function Ic(a,b,c,d,e){if(b!=c){e=(e-d)/Math.abs(c-b);var f=c>b?1:-1;for(b+=f,d+=e;b!=c;)a[b][2]=d,b+=f,d+=e}}function Jc(a){return Array.isArray(a)&&2<a.length&&ga(a[2])&&!isNaN(a[2])}function Kc(a){for(var b=0;b<a.length;b++)if(!Jc(a[b]))return!1;return!0}function Lc(a,b){var c=!0,d=b>0?0:a.length-1,e=b>0?a.length:-1,f=null,g=d,h=a[g][2];for(ga(h)&&!isNaN(h)?f=d:(c=!1,h=null),g+=b,d=null;g!=e;)d=a[g],2<d.length&&ga(d[2])&&!isNaN(d[2])&&(null!=h&&null!=f&&Ic(a,f,g,h,d[2]),f=g,h=d[2]),g+=b;return d&&null!=h&&null!=f&&(e=Jc(d)?d[2]:h,Ic(a,f,g,h,e)),c}function Mc(a){Lc(a,1)||Lc(a,-1)}function Nc(a){var b=Jq;if(a&&!(3>a.length))for(var c=a.length-1,d=a[0],e=1;c>e;e++){var f=a[e],g=a[e+1],h=f,i=d,j=g;Math.abs(Ap.Zk(Ap.sub(i,h),Ap.sub(j,h)))<eq||.25<Ap.Pg(i,j,h)?d=f:(h=Ap.distance(d,g),1e-4>h&&(h=1e-4),g=(g[2]-d[2])/h,i=Ap.distance(d,f),1e-4>i&&(i=1e-4),Math.abs(d[2]+i*g-f[2])*(1>h?1:h)<=b?(a.splice(e,1),e--,c--):d=f)}}function Oc(a,b,c){this.op=a,this.we=b,this.Ai=Bp.create(),this.kh=Bq,this.right=this.left=null,this.a=this.height=0,this.Vk=c,this.R=Number.MAX_VALUE,this.Xm=!1}function Pc(a,b,c,d,e,f){this.zc=a,this.nn=b,this.V=c,this.label=d,this.Qd=e,this.Rk=f}function Qc(a,b,c,d,e,f){this.V=a,this.label=b,this.start=c,this.end=d,this.Sn=e,this.il=f}function Rc(){}function Sc(a,b){return a.kh==Cq&&b.kh!=Cq?-1:a.kh!==Cq&&b.kh==Cq?1:a.R-b.R}function Tc(a,b,c,d,e,f,g,h,i){this.op=a,this.V=b,this.Zf=c,this.gs=d,this.rr=e,this.ub=f,this.nn=g,this.Qd=h,this.Rk=i}function Uc(a,b,c){this.a=Dq,this.s=Eq,this.b=Fq,this.mb=a,this.Vb=b,this.lb=c,this.n=kq,this.c=.5*this.n,this.g={},this.d=null,Wc(this),this.e=rq,this.o=this.j=null,this.v=new Rc,this.p=cq.toUpperCase(),this.H=0,this.M=1,this.aa=128}function Vc(a,b){var c=b.nh,d=null,e=[];for(d in a.g){var f=a.g[d];if(f){var g;g=c,f&&(f.jn--,0>=f.jn)?(g.remove(f),f.Ka&&f.Ka.Na(),g=!0):g=!1,g&&e.push(d)}}for(c=0;c<e.length;c++)delete a.g[e[c]]}function Wc(a){a.j=null,a.o=null,vq=[1,1,1,1],xq=[0,0,0,.14],yq=[0,0,0,0];var b=sq,c=parseInt(uq,10),d=vq,e=xq,f=parseInt(wq,10),g=yq,h=new sk;h.name=void 0,h.font=b,h.size=c,h.color=void 0!=d?d:[1,1,1,1],h.outlineColor=void 0!=e?e:[0,0,0,1],h.outlineWidth=void 0!=f?f:0,h.shadowColor=void 0!=g?g:null,h.a=!1,h.Ff=0,h.b=!1,a.d=h}function Xc(a,b,c,d,e,f,g,h,i,j){if(void 0===d[c.id]){d[c.id]=c;for(var k=[10,2],l=c.$,m=0;m<l.length;m++){var n=l[m];if(n!==b&&n.Ra==b.Ra&&void 0===e[n.V]&&!n.qd)for(var o=0,p=n.P;o<p.length;o++){var q=p[o];if(q!==c){if(void 0!==d[q.id])return;for(var r=0;2>r;r++){var s=a.c+k[r],s=Yc(n.m,s,s),s=bd(a,n.m,s,0,j,h,i);f.push(new Pc(n,s.vc?s.vc:n.m,n.V,j,s.Qd,1==r))}Xc(a,n,q,d,e,f,g,h,i,j)}}}}}function Yc(a,b,c){if(1e-6>b&&1e-6>c)return a;var d,e,f=a.length,g=b*b,h=c*c,i=a[0],j=a[f-1],k=[],l=0;if(d=a[0],b>0){var m=Ap.X(i,j);if(g>m)return null}if(c>0&&(m=Ap.X(i,j),h>m))return null;if(b>0&&c>0){for(;f-1>l&&(e=a[l+1],m=Ap.X(i,e),!(m>=g));l++)d=e;for(;f-1>l;l++){if(e=a[l+1],(g=Bp.ig(d,e,i,b))&&g[1]){if(d=g[1],m=Ap.X(j,e),m>h){k.push(d),d=e,l++;break}if((g=Bp.ig(d,e,j,c))&&g[0])k.push(d),k.push(g[0]);else{if(1e-6>m){if(0==k.length)return null;l=f;break}k.push(d),k.push(e)}return k}k.push(d),d=e}for(;f-1>l;l++){if(e=a[l+1],m=Ap.X(j,e),!(m>h)){(g=Bp.ig(d,e,j,c))&&g[0]?(k.push(d),k.push(g[0])):(k.push(d),k.push(e));break}k.push(d),d=e}}else if(b>0){for(;f-1>l;l++){if(e=a[l+1],m=Ap.X(i,e),!(g>m)){k.push((g=Bp.ig(d,e,i,b))&&g[1]?g[1]:d),l++;break}d=e}for(;f>l;l++)k.push(a[l])}else for(;f-1>l;l++){if(e=a[l+1],m=Ap.X(j,e),!(m>h)){(g=Bp.ig(d,e,j,c))&&g[0]?(k.push(d),k.push(g[0])):(k.push(d),k.push(e));break}k.push(d),d=e}return k}function Zc(a,b,c){return Bp.sub(a,b,Gq),Bp.normalize(Gq,Gq),Bp.L(Eq,Gq)>=c}function $c(a,b,c){for(var d,e=0,f=b.length,g=b[0],h=null,i={},j=Zc(g,c,Math.cos(63.5*pp)),k=j;f-1>e;e++){var l=b[e+1],m=qd(g,l,c,a.s,i),k=k&&i.valid&&0<i.is&&1>i.js;if(null!=m){if((null!=m[0]||null!=m[1])&&null===h&&(h=[],!j))for(d=0;e>d;d++)h.push(b[d]);if(null!=m[0]&&!j){h.push(g),h.push(m[0]),k=!1;break}if(null!=m[1]&&j){for(h.push(m[1]),d=e+1;f>d;d++)h.push(b[d]);return{m:h,Jo:!1}}}else h&&h.push(g);g=l}return{m:h,Jo:k}}function _c(a,b){if(!a||2>a.length)return!1;var c=Math.cos(62.5*pp),d=Zc(a[0],b,c),c=Zc(a[a.length-1],b,c);return d||c}function ad(a,b){var c=tq,d=zq,e=Aq,f=1+Math.max(0,Uc.distanceFactor*b),c=c*f/b/a.M,g=1;return d>c?g=d/c:c>e&&(g=e/c),f*g}function bd(a,b,c,d,e,f,g){return!c||2>c.length?{vc:null,Qd:!0}:(d||(g=Dc(c,g),g=ad(a,Math.sqrt(g.Zf)),e=f.measureText(e,a.d),d=e.width/e.height*tq*g),1>Ap.length(Ap.sub(c[0],c[c.length-1]))-d?{vc:Yc(b,a.c,a.c),Qd:!0}:{vc:c,Qd:!1})}function cd(a,b,c,d,e,f,g,h){for(var i=g[2]-3,j={},k=0,l=!1;2>k;k++){for(var m=[],n=e[k],o=0;o<n.length;o++){var p=n[o],q=p.V,r=p.Qd,s=p.Rk,p=p.nn;if(id(d,p,i)){var t=$c(a,p,g);if(!t.Jo&&(t=t.m,!_c(t,g))){t&&1<t.length&&(p=t);var t=p[0],u=p[p.length-1],v=Bp.Ta(t,u,g),w=Bp.jb(Bp.sub(g,v));0<Ap.se(t,u,g)&&(i=Bp.A(t),t=u,u=i),i=v[2],hd(d,t,p,i,!0),hd(d,u,p,i,!0),hd(d,v,null,i,!0),m.push(new Tc(h,q,w,t,u,v,p,r,s))}}}m.sort(pd);var n=0,o=b.Fa,x=b.ce,y=null,z=null,y=ib(b.bd),z=Bp.I(y,g);for(o.update(),o=null,o=function(a,b,c){a:{var d=z,e=y,f=x,g=Array(6),h=Array(3),i=Array(3);if(Bp.I(e,b,h),Bp.sub(h,d,i),Gb(d[0],d[1],d[2],i[0],i[1],i[2],g),hj(f,g,Bp.distance(h,d)))a=!0;else{if(Bp.I(e,a,h),Bp.sub(h,d,i),Gb(d[0],d[1],d[2],i[0],i[1],i[2],g),hj(f,g,Bp.distance(h,d))&&(Bp.I(e,c,h),Bp.sub(h,d,i),Gb(d[0],d[1],d[2],i[0],i[1],i[2],g),hj(f,g,Bp.distance(h,d)))){a=!0;break a}a=!1}}return a};n<m.length&&(q=m[n],!j[q.V]);n++)if(r=ed(a,q.V,f,q.op,q.gs,q.rr,g,d,q.nn,i,q.Qd,q.ub,o)){c.push(r),j[q.V]=1,l=!0;break}}return l}function dd(a,b,c,d,e,f,g,h,i){var j,k={},l=null,m=Bm(e,d.og);if(2>m.length)j=null;else{j=0;for(var n,l={og:[]},o=null;j<m.length;j++){var p=m[j];p.P[0].Yc||p.P[1].Yc?(o||(o=[]),o.push(p)):l.og.push(p.V)}if(o){for(j=0;j<o.length;j++)if(p=o[j],!p.yj){p.yj=!0;var m=p.m.slice(),q=p.P[0],r=p.P[1];if(q.Yc){var s=q.$[0].V===p.V?q.$[1]:q.$[0];if(s.yj)continue;k[s.V]=1,s.yj=!0;var t=s.m;if(n=m[0],t[0][0]===n[0]&&t[0][1]===n[1]){for(n=t.length-1;n>0;n--)m.splice(0,0,t[n]);q=s.P[1],vm(q,s,p)}else if(t[t.length-1][0]===n[0]&&t[t.length-1][1]===n[1]){for(n=t.length-2;n>=0;n--)m.splice(0,0,t[n]);q=s.P[0],vm(q,s,p)}}if(r.Yc){if(s=r.$[0].V===p.V?r.$[1]:r.$[0],s.yj)continue;if(k[s.V]=1,s.yj=!0,t=s.m,n=m[m.length-1],t[0][0]===n[0]&&t[0][1]===n[1]){for(n=1;n<t.length;n++)m.push(t[n]);r=s.P[1],vm(r,s,p)}else if(t[t.length-1][0]===n[0]&&t[t.length-1][1]===n[1]){for(n=t.length-2;n>0;n--)m.push(t[n]);r=s.P[0],vm(r,s,p)}}if(p.P=[q,r],p.m=m,p.qd=!Em(p.m),!p.qd){for(n=0;n<m.length;n++);l.og.push(p.V)}}j=l?l:null}else j=null}for(j&&(d=j),j=Bm(e,d.og),l=g[2]-3,d=[],o=null,p=Number.MAX_VALUE,m=0;m<j.length;m++)if(q=j[m],r=q.m,q.qd=!id(f,r,l),!q.qd){a:if(null!==r)for(s=0;s<r.length;s++)if(3>r[s].length)break a;if(s=g,t=r.length,2===t)r=Ap.Ta(r[0],r[1],s);else{var u=r[0];n=void 0;for(var v=null,w=Number.MAX_VALUE,x=0;t-1>x;x++){n=r[x+1];var u=Ap.Ta(u,n,s),y=Ap.X(s,u);w>y&&(w=y,v=u),u=n}r=v}r=Ap.jb(Bp.sub(g,r)),r>oq||(d.push(q),p>r&&(o=q,p=r))}if(l=o,j=[[],[]],l){k[l.V]=1,o={},k[l.V]=1,p=l.m,m=null,q=!1;a:if(r=0,s=p.length,v=p[0],t=Math.cos(63.5*pp),w=Zc(v,g,t))r=!0;else{for(;s-1>r;r++){if(n=p[r+1],w=Zc(n,g,t)){r=!0;break a}if(v=qd(v,n,g,a.s),null!=v&&(null!=v[0]||null!=v[1])){r=!0;break a}v=n}r=!1}r?(m=Ec(p,g),hd(f,m.ub,p,m.ub[2],!0),m.Rd&&0<m.Rd.length&&(m.Rd[m.Rd.length-1][2]=m.ub[2]),m.Le&&0<m.Le.length&&(m.Le[0][2]=m.ub[2]),t=Ap.jb(Bp.sub(g,m.ub)),q=m.split):t=Dc(p,g).Zf,t>oq||(s=r=a.c,t=ad(a,Math.sqrt(t)),n=h.measureText(i,a.d),t=n.width/n.height*tq*t,n=Bp.length(Bp.sub(p[0],p[p.length-1]))-2*a.c,.1>n)||(1>n-t||(l.P[0].Yc||(r=l.P[0].Pe,r=a.c+(r?0:10)),l.P[1].Yc||(s=l.P[1].Pe,s=a.c+(s?0:10))),q?(q=Yc(m.Rd,a.c+10,0),(p=null!=q)&&(q=new Pc(l,q?q:m.Rd,l.V,i,!1,!1),j[0].push(q)),q=Yc(m.Rd,a.c+2,0),q=new Pc(l,q?q:m.Rd,l.V,i,!1,!p),j[0].push(q),q=Yc(m.Le,0,a.c+10),(p=null!=q)&&(q=new Pc(l,q?q:m.Le,-l.V,i,!1,!1),j[1].push(q)),q=Yc(m.Le,0,a.c+2),q=new Pc(l,q?q:m.Le,-l.V,i,!1,!p),j[1].push(q)):(q=Yc(p,r,s),m=bd(a,p,q,t,i,h,g),m=new Pc(l,m.vc?m.vc:p,l.V,i,m.Qd,!1),j[0].push(m),j[1].push(m),l.P[0].Yc||(r=l.P[0].Pe,r=a.c+(r?0:2)),l.P[1].Yc||(s=l.P[1].Pe,s=a.c+(s?0:2)),q=Yc(p,r,s),m=bd(a,p,q,t,i,h,g),m=new Pc(l,m.vc?m.vc:p,l.V,i,m.Qd,!0),j[0].push(m),j[1].push(m)),Xc(a,l,l.P[0],o,k,j[0],e,h,g,i),Xc(a,l,l.P[1],o,k,j[1],e,h,g,i))}for(e=0;e<d.length;e++)l=d[e],void 0===k[l.V]&&(k[l.V]=1,p=o=0,l.P[0].Yc||(o=l.P[0].Pe,o=a.c+(o?0:10)),l.P[1].Yc||(p=l.P[1].Pe,p=a.c+(p?0:10)),o=Yc(l.m,o,p),o=bd(a,l.m,o,0,i,h,g),null===o.vc||1<o.vc.length)&&(p=new Pc(l,o.vc?o.vc:l.m,l.V,i,o.Qd,!1),j[0].push(p),!o.Qd&&(p=o=0,l.P[0].Yc||(o=l.P[0].Pe,o=a.c+(o?0:2)),l.P[1].Yc||(p=l.P[1].Pe,p=a.c+(p?0:2)),o=Yc(l.m,o,p),o=bd(a,l.m,o,0,i,h,g),null===o.vc||1<o.vc.length)&&(p=new Pc(l,o.vc?o.vc:l.m,l.V,i,o.Qd,!0),j[0].push(p)));return cd(a,b,c,f,j,h,g,i)}function ed(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=Bp.length(Bp.sub(e,f));if(.1>n)return null;l=ad(a,Ap.distance(l,g));var o=c.measureText(d,a.d),o=o.width/o.height*tq*l-2*a.c;if(l=null,k||1>n-o)l=fd(a,b,c,d,e,f,1,g,h,i,j,m);else for(k=[0,2,3],n=0;n<k.length&&(l=fd(a,b,c,d,e,f,k[n],g,h,i,j,m),null===l&&null!==m);n++);return l}function fd(a,b,c,d,e,f,g,h,i,j,k,l){var m=Bp.A(e),n=Bp.A(f),o=null,p=null,q=-1,r=-1,s=c.measureText(d,a.d),q=tq,r=s.width/s.height*tq;null===m[2]&&null!==n[2]?m[2]=n[2]:null===n[2]&&null!==m[2]&&(n[2]=m[2]);var t,u,v=Ap.se(m,n,h),w=v>0;w?(t=n,u=m):(t=m,u=n);var x,y=Bp.normalize(Bp.sub(u,t)),z=Bp.Ta(t,u,h),A=!0;hd(i,z,j,k,A);var B=z,C=Bp.A(B),D=Bp.distance(C,h),E=ad(a,D),F=q*E,G=r*E,H=Bp.scale(y,G),J=Bp.scale(H,.5),K=Bp.length(Bp.sub(t,u));if(1===g)z=Bp.ma(t,u,.5);else{var L=Bp.add(t,J),M=Bp.sub(u,J),N=Bp.Ta(L,M,h);switch(g){case 0:z=N;break;case 2:if(1>Bp.X(L,N))return null;z=L;break;case 3:if(1>Bp.X(M,N))return null;z=M}}if(A=!0,!kd(i,z,null,A))return null;if(1!=g){for(var O,P,Q,R=z,S=R,T=j.length,U=Number.MAX_VALUE,V=0,W=j[0],Y=W,Z=.25*G,$=[];T-1>V;V++){P=j[V+1];var _=Ap.Ta(Y,P,R);Q=Ap.X(h,_),U>Q&&(U=Q,S=_),Y=P}for(V=0,Y=W;T-1>V;V++){P=j[V+1];var aa=Ap.pp(Y,P,S,Z),Y=P;null!==aa&&(aa[0]&&$.push(aa[0]),aa[1]&&$.push(aa[1]))}var ba,ca;0===$.length?(ba=j[0],ca=j[T-1]):1===$.length?(ba=S,ca=$[0]):(ba=$[0],ca=$[$.length-1]);var da=Ap.pb(ba,ca);if(hd(i,S,null,R[2],!0),hd(i,ba,null,R[2],!0),hd(i,ca,null,R[2],!0),O={point:S,An:da,ru:ba,gu:ca},C=B=O.point,null!==O.An){if(y=Bp.normalize(Bp.create(Math.cos(O.An),Math.sin(O.An),0)),H=Bp.scale(y,G),J=Bp.scale(H,.5),t=Bp.sub(B,J),u=Bp.add(B,J),v=Ap.se(t,u,h),w=v>0){var ea=u;u=t,t=ea}}else t=Bp.sub(B,J),u=Bp.add(B,J)}else C=B=z,t=Bp.sub(B,J),u=Bp.add(B,J);var fa,ga,ha=Bp.jb(Bp.sub(h,t)),ia=Bp.jb(Bp.sub(h,u)),ja=Bp.jb(Bp.sub(t,u));ia>ha?(fa=t,ga=u):(fa=u,ga=t);var ka=Bp.normalize(Bp.sub(h,B)),la=Ap.normalize(Ap.sub(h,B)),ma=Bp.L(ka,a.a),na=Math.max(0,Math.acos(ma)*qp),oa=Ap.L(ka,Bp.normalize(Bp.sub(ga,fa))),pa=Math.acos(Math.abs(oa))*qp,qa=Ap.L(la,Ap.normalize(Bp.sub(ga,fa))),ra=Math.acos(Math.abs(qa))*qp,sa=30>ra,ua=pa>30,wa=35>ra,xa=70>na,ya=ra>35&&ua,za=30>na||wa&&xa?Cq:sa?1:ya?Bq:1,Aa=za===Bq;

if((za===Cq||Aa)&&G>K)return null;var y=Bp.normalize(Bp.sub(u,t)),H=Bp.scale(y,G),J=Bp.scale(H,.5),Ba=Bp.add(t,J),Ca=Bp.sub(u,J),z=Bp.Ta(Ba,Ca,h),A=!0;kd(i,z,null,A),B=z,t=Bp.sub(z,J),x=u=Bp.add(z,J),G*G>ja&&(t=Bp.sub(B,J),x=Bp.add(t,H));var Da=kd(i,x,j,A),Ea=kd(i,t,j,A),B=Bp.ma(t,x,.5),Fa=kd(i,B,j,A);if(!Da||!Ea||!Fa)return null;var Ga,ka=Bp.normalize(Bp.sub(h,B));1===za?Ga=90:za===Cq?Ga=0:(ma=Bp.L(ka,a.a),Ga=Math.max(0,Math.acos(ma)*qp),30>Ga?Ga=0:Ga>45&&(Ga=90));var Ha=Ga*pp;if(1===za){var Ia=Ap.pa(y),H=Bp.scale(Ia,G);H[2]=0,J=Bp.scale(H,.5),t=Bp.sub(B,J),x=Bp.add(B,J),v=Ap.se(t,x,h),(w=v>0)&&(ea=x,x=t,t=ea),t[2]=x[2]=B[2]}var Ja,Ka=t,La=B,Na=x,Oa=0,Pa=0;for(Ja=0;10>Ja;Ja++,Pa+=.1){var Qa=Bp.ma(Ka,Na,Pa),Ra=i.mh(Qa[0],Qa[1],8,Hq);if(Hq.ua&&1<Hq.ua.length&&null!=Ra&&Hq.ua&&1<Hq.ua.length&&(Ra=jd(La[2])),Hq={ua:[],Id:[]},null!==Ra){var Sa=Ra-X(Ka[2],Na[2],Pa);Sa>Oa&&(Oa=Sa)}}if(Oa>0&&(Ka[2]+=Oa,La[2]+=Oa,Na[2]+=Oa),l&&l(t,B,x))return null;var Ta=null,Ua=null,Va=a.lb;I(Va.g)&&(Va.g=Va.wa.Ob("attribute vec3 a_vertex;\nattribute vec2 a_texcoord;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nuniform vec2 u_textureScale;\nuniform vec2 u_textureOffset;\nvarying vec2 v_texcoord;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n  v_texcoord = (a_texcoord) * u_textureScale + u_textureOffset;\n}","#ifdef GL_ES\n  precision highp float;\n#endif\nuniform highp sampler2D u_texunit0;\nuniform float u_alphaFactor;\nvarying vec2 v_texcoord;\nvoid main(void) {\n   vec4 color = texture2D(u_texunit0, v_texcoord);\n   gl_FragColor = color;\n   gl_FragColor.a = gl_FragColor.a * u_alphaFactor;\n}",{position:"a_vertex",texcoord:"a_texcoord"})),Va.a.Bc.u_textureScale=[1,1],Va.a.Bc.u_textureOffset=[0,0],Va.a.Bc.u_alphaFactor=1;var Wa=new Ma(Va.g,Va.a.Bc);Wa.fb("labelMaterial");var Xa=Wa.tc();cj(Xa,!0),fj(Xa,0,1),dj(Xa,6,7,12,12),Zi(Xa,!1);var Ya=new Yi;cj(Ya,!0),fj(Ya,0,1),dj(Ya,6,7,12,12),_i(Ya,!0),bj(Ya,2),aj(Ya,7,1,1);var Za=new Yi;cj(Za,!0),fj(Za,0,1),dj(Za,6,7,12,12),Zi(Za,!1),_i(Za,!0),aj(Za,4,1,1),bj(Za,1),Wa.d=Xa,Wa.c=Ya,Wa.e=Za,Ta=Wa;var $a=a.g[d];if($a?($a.jn++,Ua=$a):($a={},c.create(d,a.d,$a)?($a.jn=1,Ua=a.g[d]=$a):Ua=null),null===Ua)return null;Ta.za(0,Ua.Ka);var o=new Ep,ab=Ua.height/Ua.dl,bb=1-ab,p=new Xj(a.mb,{width:r,height:q,Fn:0,Kn:bb,En:Ua.width/Ua.el,Jn:bb+ab},Ta);_a(p,Qt),o.add(p);var cb=new Oc(d,o,b),y=Bp.normalize(Bp.sub(x,t));Bp.scale(y,G);var db=Bp.distance(C,h),D=Bp.distance(C,h),E=ad(a,D),fb=ad(a,db),ib=B;ib[2]+=.5*q*(1-Math.cos(Ha))+(0*fb+0*Math.cos(Ha)),eb(o,ib);var jb=Bp.normalize([y[0],y[1],0]),kb=a.Ak([1,0,0],[jb[0],jb[1],0],[0,0,1]);gb(o,kb);var lb=-Ap.Sl(y[2]),mb=va(kb),nb=Bp.I(mb,[0,1,0]),ob=ta(nb,lb);o.rotate(ob);var pb=ta([1,0,0],Ha);return gb(p,pb),hb(p,[E,E,1]),cb.R=p.R=db,cb.Ai=C,cb.kh=za,cb.left=t,cb.right=x,cb.height=za===Cq?0:F,cb.a=ib[2]-k,cb}function gd(a,b,c,d,e){d=si(d.eb());for(var f=Bp.I(d,b.f.Ca.S),f=[f[0]-0,f[1]-0,f[2]-b.zi],g=0,h=0;h<c.length;h++)for(var i=c[h],j=0;j<i.length;j++){var k=i[j];if(null!==k&&null!==k.we){var l=k.we.ea[0],k=Bp.distance(k.Ai,f),m=ad(a,k),n=Math.abs(l.R-k),g=g+n;n>0&&(l.R=k,hb(l,[m,m,1]))}}0<c.length&&(g>0||1==c.length)&&e&&(e=b.r.ib(),e=Bp.I(d,e),a.v.Xl([e[0]-0,e[1]-0,e[2]-b.zi],c[0],a,null))}function hd(a,b,c,d,e){b&&b.length&&(3<=b.length||kd(a,b,c,e,d)||void 0!==d&&(b[2]=d))}function id(a,b,c){var d;for(d=0;d<b.length;d++){var e=b[d];if((3>e.length||null===e[2])&&!kd(a,e)){if(void 0===c)return!1;e[2]=c}}return!0}function jd(a){var b=Hq.ua;if(!b||!b.length)return a;if(2>b.length)return b[0];for(var c=b.length,d=b[c-1],e=Math.abs(a-d),c=c-2;c>=0;c--)Math.abs(a-b[c])<e&&(d=b[c]);return d}function kd(a,b,c,d,e){var f=null;if(e=fa(e)?3>b.length?null:b[2]:e,d&&null!=e?(f=a.mh(b[0],b[1],8,Hq),null!=f&&Hq.ua&&1<Hq.ua.length&&(f=jd(e)),Hq={ua:[],Id:[]}):f=a.ue(b[0],b[1],8),null!=f)return b[2]=f,!0;if(c){f=Number.MAX_VALUE,e=null;var g=c[0];for(d=1;d<c.length;d++){var h=c[d];if(!(3>g.length||null===g[2]||3>h.length||null===h[2])){var i={},j=Bp.Ta(g,h,b,i),k=Bp.jb(Bp.sub(b,j));(f>k||null===e)&&(f=k,j=a.ue(j[0],j[1],8),null!==j?e=j:null!==g[2]&&null!=h[2]&&(e=X(g[2],h[2],i.Hb))),g=h}}if(null!==e)return b[2]=e,!0}else if(f=a.ue(b[0],b[1],8),null!=f)return b[2]=f,!0;return!1}function ld(a,b,c,d,e,f,g,h,i,j){var k=Math.atan2(g-d,f-c),l=.5*i,m=Math.sin(k),n=Math.cos(k),k=l*m;i=l*n,m*=l,l*=n,n=Wb(b,c+k,d-i,e?e:0,a.b,a.a),Wb(b,f+m,g-l,h?h:0,a.b,a.a),Wb(b,f-m,g+l,h?h:0,a.b,a.a),Wb(b,c-k,d+i,e?e:0,a.b,a.a),Yb(b,n,n+1,n+2,n,n+2,n+3,j)}function md(a,b,c,d,e,f,g,h,i,j){if(!(0>=i)){h=.5*h,g=Math.atan2(g-d,f-c);var k=h*Math.sin(g),l=h*Math.cos(g);for(f=Wb(b,c+k,d-l,e,a.b,a.a),Wb(b,c-k,d+l,e,a.b,a.a),k=Math.PI/i,l=0;i>l;l++){g+=k;var m=h*Math.sin(g);Wb(b,c-m,d+h*Math.cos(g),e,a.b,a.a),b.Lh(f,f+l+1,f+l+2,j)}}}function nd(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=Math.atan2(i-d,h-c),o=Math.atan2(k-d,j-c),p=Ap.Gr(c,d,h,i);for(f=Wb(b,f,g,e?e:0,a.b,a.a),Wb(b,h,i,e?e:0,a.b,a.a),h=(o-n)/l,Math.abs(o-n)>kp&&(h=(-o-n)/l),o=0;l-1>o;o++)n+=h,i=Math.sin(n),Wb(b,c+p*Math.cos(n),d+p*i,e?e:0,a.b,a.a),b.Lh(f,f+o+1,f+o+2,m);Wb(b,j,k,e?e:0,a.b,a.a),b.Lh(f,f+o+1,f+o+2,m)}function od(a,b,c,d,e,f,g,h,i){var j;j=(h-f)*(c-a)-(g-e)*(d-b),g=(g-e)*(b-f)-(h-f)*(a-e),e=(c-a)*(b-f)-(d-b)*(a-e),g>-1e-12&&1e-12>g&&e>-1e-12&&1e-12>e&&j>-1e-12&&1e-12>j?(i[0]=.5*(a+c),i[1]=.5*(b+d)):j>-1e-12&&1e-12>j?(i[0]=0,i[1]=0):(j=g/j,i[0]=a+j*(c-a),i[1]=b+j*(d-b))}function pd(a,b){return(a.Zf+a.Rk?1e4:0)-(b.Zf+b.Rk?1e4:0)}function qd(a,b,c,d,e){var f;f=Math.cos(63.5*pp);var g;if(g=Bp.sub(b,a),b=Bp.length(g),!(b>1e-6))return null;g=Bp.normalize(g);a:{var h=Bp.L(d,g),i=f*f,j=Bp.sub(a,c),k=Bp.L(d,j);f=Bp.L(g,j);var l=Bp.L(j,j),j=h*h-i;if(f=h*k-i*f,h=[null,null],e&&(e.valid=!1),1e-6<=Math.abs(j)){if(i=f*f-(k*k-i*l)*j,0>i){e=null;break a}i>1e-6&&(k=Math.sqrt(i),l=1/j,i=(-f-k)*l,i>=0&&b>=i&&(h[0]=Bp.add(a,Bp.scale(g,i)),j=Bp.sub(h[0],c),j=Bp.L(j,d),0>=j&&(h[0]=null)),f=(-f+k)*l,f>=0&&b>=f&&(h[1]=Bp.add(a,Bp.scale(g,f)),j=Bp.sub(h[1],c),j=Bp.L(j,d),0>=j&&(h[1]=null)),i>f&&(a=h[1],h[1]=h[0],h[0]=a),e&&(e.valid=!0,e.is=i/b,e.js=f/b))}e=h}return e}function rd(a,b,c){this.e=a,this.d=b||2,this.c=c||Jq}function sd(a){this.c=a}function td(){this.ua=[],this.Id=[],this.Og=this.maxHeight=this.minHeight=void 0,this.dh=this.a=!1}function ud(a,b){var c=new td,d=a.c.mh(b[0],b[1],8,c);if(b[2]=d,1<c.ua.length){b[3]=c,c.a=!0;for(var d=!1,e=0;e<c.ua.length;e++)if(0!=c.Id[e]&&void 0!=c.Og&&Math.abs(c.ua[e]-c.Og)<ct){d=!0;break}c.dh=d}}function vd(a){this.a=new pn,this.b=[],this.c={},this.f=a.f,this.n=void 0,this.M=this.j=null,this.d=Ba(),this.e=null,this.s=new xc(Kq,function(){}),this.p=!1,this.g=this.o=null,this.H=this.v=this.aa=1}function wd(a,b,c,d,e,f,g,h,i,j){this.Ec=a,this.width=b,this.height=c,this.Ql=d,this.Rl=e,this.Xb=f,this.zd=g,this.Ld=h,this.Kd=i,this.id=j}function xd(a,b){Ab(b),!b.wj&&b.Qa()&&(b.wj=!0,b.Ba.ep(b.Ba.Sa,b,function(c,d,e){if(e){var f=a.f.k;Ed(a,c,d,e),c=d.anchor,Cd(a,f,c),Ad(a,[c]),f.f.u()}b.wj=!1},function(){b.wj=!1}))}function yd(a,b,c){a.oh();var d,e=new pn;for(d in c){var f=c[d],g=f.marker,g=g.Ba.jd,h=e.get(g.buildingId);h||(h={Wf:g,anchors:[]},e.set(g.buildingId,h)),h.anchors.push(f)}if(0!=e.size()){e.forEach(function(c,d){Dd(a,b,d.Wf,d.anchors)});for(d in c)f=c[d],g=f.marker,g.Qa()&&!g.Q&&g.Ba.ep(g.Ba.Sa,g,function(b,c,d){var f=e.get(c.Ba.jd.buildingId);if(d){var g=a.f.k;Ed(a,b,c,d),Dd(a,g,f.Wf,f.anchors),Ad(a,[c.anchor]),g.f.u()}},function(){});Ad(a)}}function zd(a,b){var c=a.c[b.Sa.id];if(c&&(c.Q&&ab(c.Q),c=c.anchor)){c.mg();var d=a.b.indexOf(c);d>=0&&a.b.splice(d,1),ab(c.b)}}function Ad(a,b){a.oh();for(var c=b?b:a.b,d=0;d<c.length;d++){var e=c[d];if(e.Te){var f=e,g=Math.max(.01,Bp.distance(f.a,a.f.Ca.S));if(f.qg(g),g<=vd.maxDistance){var g=a,f=e,e=f.d,h=f.a,i=f.e;i?(g=Bp.tf(g.d,i),h=Math.atan2(g[1],g[0]),h=ta([0,0,1],h),gb(f.c,h),gb(e,oa())):null==f.g&&(g=Bp.I(g.d,h),h=Math.atan2(-g[1],-g[0]),h=ta([0,0,1],h),gb(f.c,h),null==f.qb().Ba.c&&(f=Bp.L(Bp.normalize(g),[0,0,1]),f=ta([1,0,0],(-(Math.acos(f)*qp)+90)*pp),gb(e,f)))}}}c=null;for(c in a.c)Gd(a,a.c[c])}function Bd(a,b,c){return(b=mo(a.f,b))&&a.e?(b[2]+=c,b=Bp.I(a.e,b,b)):null}function Cd(a,b,c){if(c){var d=c.marker;if(!d||!d.Ba||null==d.Ba.jd){var e=a.f.Ca.S,f=c.Te,g=Math.max(.01,Bp.distance(f,e));if(c.qg(g),g=g<=vd.maxDistance){if(!(d&&d.Ba&&d.Ba.e)&&a.e){if(a.e){var f=4,h=Bp.I(a.d,c.Te),i=Ap.length(h);if(i>=4)f=null;else if(h=Bp.create(h[0],h[1],0),f=Bp.scale(h,f/i),a.g||(a.g=ri(a.f.k.r.ib())),f=Bp.I(a.g,f),f=Bd(a,f,a.f.k.zi)){var i=a.f.k.r.ib(),h=ni(i),j=Bp.cb(f,h,3),h=b.ce,j=Bp.sub(j,i);Bp.normalize(j,j),i=Gb(i[0],i[1],i[2],j[0],j[1],j[2]),(h=jj(h.ea,i,5.5,!0,!1,null,!1))&&h.object&&5.5>h.distance&&(f=Math.max(.1,h.distance-1.5),f=Jb(i,f),f=Bd(a,f,a.f.k.zi))}else f=null;f?wb(c,f):wb(c,c.Te)}f=c.a}d&&d.Dj&&(i=b.ce,h=f,7<h.length&&(h=Bp.cb(h,Bp.create(h[7],h[8],h[9]),a.f.k.zi)),j=Bp.sub(f,e),Bp.normalize(j,j),h=Math.max(.1,Bp.distance(e,h)-.1),e=Gb(e[0],e[1],e[2],j[0],j[1],j[2]),(i=jj(i.ea,e,h,!1,!1,null,!1))&&i.object&&i.distance<h?g=!1:(i=jj(b.n.ea,e,h,!1,!1,null,!1))&&i.object&&i.distance<h&&(g=!1)),d&&d.visible&&d.Q&&(b=Math.sqrt(Math.max(d.Xb,d.zd)/2),e=ib(d.Q),i=Math.max(d.ni,d.fg),i=Bp.create(d.He[0]/i,0,(d.fg-d.He[2])/i),e=Bp.I(e,i),d.Ve=e,d.Go=new Eb(d.Ve,b*d.distanceFactor),Gd(a,d))}c.F(g),wb(c,f)}}}function Dd(a,b,c,d){if(c.Ie)if(b.Xf.get(c.buildingId)){var e=d.length;if(!(0>=e)){var f=a.f.k.r.ib(),g=c.ta.get(),h=null;0==g[2]?(b=[g[0],g[1],Tg(b.r)[2]],h=mi(b)):h=g;var i=Bp.distance(h,f);b=1;var j=0,k=0,h=0;b=Fd(a,d[0].marker,i);for(var l=0;e>l;l++){var m=d[l],g=m.marker;if(g.Qa()&&!g.Q)return;j+=m.marker.Xb}i=.5+.25*(e-1)+j*b,g=null,k=!0,m={},l=null;do{var n=1;do g=qf(kf(),c,n*i,null),n-=.25;while(!g&&n>.1);if(!g)break;if(k){if(rf(kf(),g,.3,.3),l=Bp.Ta(g.ab,g.zb,f,m)){var n=Bp.distance(l,f),n=Fd(a,d[0].marker,n),o=n/b;if(.8>o||o>1.25){b=n,i=.5+.25*(e-1)+j*b;continue}}else g=null;k=!1}}while(k);if(g&&l){i=Bp.distance(l,f),b=Fd(a,d[0].marker,i),i=.5+.25*(e-1)+j*b,k=d[0].marker.Xb*b,e>1&&(h=d[e-1].marker.Xb*b);var p,j=Bp.distance(g.ab,g.zb);for(c=!1,i>j?(m=g.ab,p=g.zb,c=!0):(p=Bp.normalize(Bp.sub(g.zb,g.ab)),j=i/j,0>m.Hb-.5*j?(m=g.ab,p=Bp.cb(m,p,i)):1<m.Hb+.5*j?(m=g.zb,p=Bp.cb(m,p,-i)):(m=Bp.cb(l,p,-.5*i),p=Bp.cb(l,p,.5*i))),Bp.distance(f,m)>Bp.distance(f,p)?(l=p,i=m):(l=m,i=p),p=Bp.normalize(Bp.sub(i,l)),Bp.distance(l,i),Bp.cb(l,p,.25+.5*k,l),Bp.cb(i,p,-.25+-.5*h,i),j=Bp.distance(l,i),h=0,c&&e>2&&(h=j/(e-1)),c=l,l=0;e>l;l++){if(m=d[l],j=m.qb(),i=j.Xb*b,k=Math.acos(Bp.L(g.qh,Bp.normalize(Bp.sub(f,c)))),j.Ba.n&&Math.abs(k)<Rq?m.e=g.qh:m.e=null,wb(m,c),j=Math.max(.01,Bp.distance(c,f)),m.qg(j),(j=m.sj()<=vd.maxDistance)&&(k=m.marker,k.Qa()&&k.Q)){var n=Math.sqrt(Math.max(k.Xb,k.zd)/2),o=ib(k.Q),q=Math.max(k.ni,k.fg),q=Bp.create(k.He[0]/q,0,(k.fg-k.He[2])/q),o=Bp.I(o,q);k.Ve=o,k.Go=new Eb(k.Ve,n*k.distanceFactor),Gd(a,k)}m.F(j),c=Bp.cb(c,p,h>0?h:i+.25)}}else for(p in d)a=d[p],a.F(!1)}}else for(p in d)a=d[p],a.F(!1)}function Ed(a,b,c,d){if(a.d){var e=d.Ec instanceof HTMLElement,f=0,g=0,h=null;if(e?(f=d.width,g=d.height):(f=d.Ec.width,g=d.Ec.height,h=a.s.get(d.id),h||(h=a.f.Vb.createTexture(f,g),h.re(0,d.Ec,{he:!1}),a.s.set(d.id,h))),null!==a.f.wa){var i=c.Q;if(i&&Ab(c),i=b.di?b.di():ur,i>0)i=lc(new jc(a.f,i,wr),a.f.mb,a.f.lb,c,h,c.Ba.Sa);else{if(!a.n){var j=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),i=[0,1,0];b=[[0,0,-1],[1,0,0],[0,0,0],[1,0,-1]];for(var k=[[0,1],[1,0],[0,0],[1,1]],j=new Rb(j),l=0;l<b.length;l++)Xb(j,b[l],k[l],i);Yb(j,0,1,2,0,3,1),i=j.hb(),a.n=new ya(a.f.mb,i)}a.j||(a.j=Pn(a.f.lb)),i=new sb(a.f.wa,{Se:a.j,Gc:a.n}),ub(i),i.za(h,d.Ec,!1),i.F(c.eg()),i.Y=c.Ba.Sa,_a(i,Lt),h=d.width/d.height,h>1?tb(i,0,0,d.width/f,d.height/g*h):tb(i,0,0,d.width/f/h,d.height/g)}e&&(i.Gm=d.Ec),c.Q=i,c.anchor.d.add(i),c.He[0]=d.Ql,c.He[2]=d.Rl,c.width=d.width,c.height=d.height,c.Xb=d.Xb,c.zd=d.zd,c.ni=f,c.fg=g,c.Ld=d.Ld,c.Kd=d.Kd,Gd(a,c),a=c.Ba,a.b=a.g(a.Sa)}}}function Fd(a,b,c){if(!b.Q||!b.visible)return 1;var d=1+ac.distanceFactor*c;return a=b.zd*d/c/a.H,c=1,a<b.Ld?c=b.Ld/a:a>b.Kd&&(c=b.Kd/a),d*c}function Gd(a,b){var c=b.Q;if(c&&b.visible){var d,e=a.f;d=e.N().cg()*pp;var f=e.Ea.Pb().height,e=b.anchor.R;b.distanceFactor=1+ac.distanceFactor*e,d=b.zd*b.distanceFactor/e/(2*Math.tan(.5*d))*f,f=1,d<b.Ld?f=b.Ld/d:d>b.Kd&&(f=b.Kd/d),d=Math.max(b.Xb,b.zd),d*=b.distanceFactor,d*=f,f=b.width/b.height,hb(c,[d,1,d]);var g=1,h=1;f>1?(g=d*-b.He[0]/b.width,h=d/f*b.He[2]/b.height):(g=d*f*-b.He[0]/b.width,h=d*b.He[2]/b.height),d=Bp.create(g,0,h),eb(c,d),d=1,e>=Lq&&b.ag&&(d=X(d,0,S((e-Lq)/Mq,0,1))),b.qg(e),c.vd?c.vd(d):0<c.dg()&&c.Zg(0).vd&&c.Zg(0).vd(d)}}function Hd(a,b){var c=a.Ud(b);return c&&(c=a.c[c.Sa.id])&&(c=c.Q)&&c instanceof jc?c:null}function Id(a){return{lat:a[0],lng:a[1],alt:a[2]}}function Jd(a){this.name="API_Error",this.message=a||""}function Kd(a){var b=de();if(b.error_enableConsoleLogOnError&&window.console.error(a),b.error_enableDebugBreakOnError,b.error_enableExceptionOnError)throw new Jd(a)}function Ld(a){Kd("invalid parameter: "+a)}function Md(a,b){Ld("value "+a+" not defined on parameter "+b)}function Nd(a){Ld("parameter "+a+" is undefined")}function Od(){Ld("parameter 1 is wrong")}function Pd(a,b,c,d){Ld((0<c.length?c+" (parameter "+d+")":"parameter "+d)+" is of type "+a+", expected: "+b)}function Qd(){this.a=null}function Rd(a,b){fa(a)&&Nd(b)}function Sd(a,b){fa(a)&&Nd(b),null===a&&Ld("parameter "+b+" may not be null")}function Td(a,b,c,d){a=typeof a,a!=b&&Pd(a,b,c,d)}function Ud(a){Td(a,"string","",1),0==a.length&&Ld("string 1 may not be empty")}function Vd(a,b,c,d){c>a&&Ld("parameter "+b+" is "+a+" and lower than "+c),a>d&&Ld("parameter "+b+" is "+a+" and larger than "+d)}function Wd(a,b,c){return Rd(a,c),fa(a[b])&&Md(b,c),a=a[b],Td(a,"number",b,c),a}function Xd(a,b,c){return a=a[c],!fa(a)&&Td(a,b,c,1),a}function Yd(a){return Rd(a,1),fa(a.position)&&Md("position",1),a=a.position,Td(a,"object","position",1),a}function Zd(a){return Wd(a,"lat",1)}function $d(a){return Wd(a,"lng",1)}function _d(){this.auth_appCode=this.auth_appId="",this.error_enableDebugBreakOnError=!1,this.error_enableExceptionOnError=!0,this.error_enableConsoleLogOnError=!this.error_enableExceptionOnError,this.coverageServer_mode=2,this.coverageServer_MRSUrl="http://1.pano.maps.api.here.com/maptile/2.1/rcdistonlytile/newest/normal.day/",this.skip_distance_field_search=!1,this.rendering_useSoftware=Zt,this.load_terrain=bu,this.load_buildings=cu,this.load_roads=du,this.load_all_metacells=Wr,this.metacell_prefetch_radius=Yr,this.metacell_cache_size=Vr,this.metacell_lookup_steps=Zr,this.metacell_prefetch_steps=$r,this.max_distance_markers_to_buildings=kr,this.road_label_world_size=tq,this.road_label_font=sq,this.road_label_font_size=uq,this.road_label_font_outline_width=wq,this.road_label_min_pixel_size=zq,this.road_label_max_pixel_size=Aq,this.server_useSSL=!1,this.server_requestParam={},this.server_imgUrl=this.server_buildingUrl=this.server_terrainUrl=this.server_metacellUrl="",this.server_useDomainSharding=Pr,this.visibility_load_buildings_in_range=nt,this.visibility_render_buildings_in_range=mt,this.visibility_range_buildings=pt,this.visibility_prefetch_range_buildings=qt,this.compact_out_of_range_buildings=ot,this.visibility_road_width=kq,this.visibility_range_roads=pq,this.visibility_fade_range_roads=qq,this.visibility_range_road_labels=nq,this.visibility_range_markers=Lq,this.visibility_fade_range_markers=Mq,this.visibility_range_terrain=jt,this.visibility_range_terrain_multi_level=kt,this.visibility_prefetch_range_terrain=lt,this.defer_road_creation=rt,this.max_image_lod=Zs}function ae(a){this.a=ka(a instanceof ae?a.a:new _d),this.b=new h}function be(){return Sq=Sq||new ae}function ce(a,b){return be().set(a,b)}function de(a,b){var c=b||be();return a&&c.b.qc(a),c.a}function ee(a,b,c,d){this.ec=a,this.xc=b,this.wc=c,this.Fc=d}function fe(a,b,c,d){return new ee(c>a?a:c,d>b?b:d,a>=c?a:c,b>=d?b:d)}function ge(a,b,c,d,e){return new ee((c>a?a:c)-e,(d>b?b:d)-e,(a>=c?a:c)+e,(b>=d?b:d)+e)}function he(a,b,c,d){this.x=a,this.y=b,this.object=c,this.id=d}function ie(a,b,c){this.Vc=a,this.object=b,this.id=c}function je(a,b){this.c=a,this.d=b,this.e=this.g=this.a=this.b=null}function ke(a){this.Vc=a,this.a=new je(X(a.ec,a.wc,.5),!0)}function le(a,b,c,d,e,f,g){var h=b.e;if(h)for(var i=0;i<h.length;i++){var j=h[i];if(j&&Ap.lr(c,d,j.x,j.y)<e*e&&fa(g[j.id])){var k=f(j.object,j.id);if(!fa(k))return k;g[j.id]=!0}}return b.b&&(b.d?c-e:d-e)<b.c&&(k=le(a,b.b,c,d,e,f,g),!fa(k))||b.a&&(b.d?c+e:d+e)>=b.c&&(k=le(a,b.a,c,d,e,f,g),!fa(k))?k:void 0}function me(a,b,c,d){le(a,a.a,b,c,.2,d,{})}function ne(a,b,c,d,e){var f=b.e;if(f)for(var g=0;g<f.length;g++){var h=f[g];if(h&&h.object==e)return f[g]=null,!0}if(f=b.d?c:d,b.b&&f<b.c){if(ne(a,b.b,c,d,e))return!0}else if(b.a&&ne(a,b.a,c,d,e))return!0;return!1}function oe(a,b,c,d){var e=b.e;if(e)for(var f=0;f<e.length;f++){var g=e[f];if(g&&c.Yl(g.x,g.y)&&d(g.object,g.id))return g.id}return b.b&&(b.d?c.ec:c.xc)<b.c&&(e=oe(a,b.b,c,d),!fa(e))||b.a&&(b.d?c.wc:c.Fc)>=b.c&&(e=oe(a,b.a,c,d),!fa(e))?e:void 0}function pe(a,b,c,d,e,f,g){return b=ge(b,c,d,e,f),oe(a,a.a,b,g)}function qe(a,b,c,d,e){var f=b.g;if(f)for(var g=0;g<f.length;g++){var h,i=f[g];if((h=i)&&(h=i.Vc,h=!(c.wc<h.ec||c.ec>h.wc||c.Fc<h.xc||c.xc>h.Fc||!fa(e[i.id]))),h){if(h=d(i.object,i.id,b),!fa(h))return h;e[i.id]=!0}}return b.b&&(b.d?c.ec:c.xc)<b.c&&(h=qe(a,b.b,c,d,e),!fa(h))||b.a&&(b.d?c.wc:c.Fc)>=b.c&&(h=qe(a,b.a,c,d,e),!fa(h))?h:void 0}function re(a,b,c,d,e,f,g){return b=ge(b,c,d,e,f),qe(a,a.a,b,g,{})}function se(a,b,c,d){var e=b.g;if(e)for(var f=0;f<e.length;f++){var g=e[f];if(g&&g.object==d)return e[f]=null,!0}return b.b&&(b.d?c.ec:c.xc)<b.c&&se(a,b.b,c,d)||b.a&&(b.d?c.wc:c.Fc)>=b.c&&se(a,b.a,c,d)?!0:!1}function te(a,b){this.b=a?a:Tq,this.a=b?b:Uq}function ue(a,b,c,d,e,f,g,h,i,j,k){if(c.b&&c.a)c.d?h<c.c?ue(a,b,c.b,d,e,c.c,g,h,i,j,k):ue(a,b,c.a,c.c,e,f,g,h,i,j,k):i<c.c?ue(a,b,c.b,d,e,f,c.c,h,i,j,k):ue(a,b,c.a,d,c.c,f,g,h,i,j,k);else{c.e||(c.e=[]);for(var l=c.e,m=0;m<l.length;m++)if(null==l[m]){l[m]=new he(h,i,j,k);break}m>=l.length&&l.push(new he(h,i,j,k)),ye(a,b,c,d,e,f,g)}}function ve(a,b,c,d,e,f,g,h){var i=b.a;c=fe(c,d,e,f),we(a,b,i,b.Vc.ec,b.Vc.xc,b.Vc.wc,b.Vc.Fc,c,g,h)}function we(a,b,c,d,e,f,g,h,i,j){c.b&&c.a?c.d?h.wc<c.c?we(a,b,c.b,d,e,c.c,g,h,i,j):h.ec>=c.c?we(a,b,c.a,c.c,e,f,g,h,i,j):xe(a,b,c,d,e,f,g,h,i,j):h.Fc<c.c?we(a,b,c.b,d,e,f,c.c,h,i,j):h.xc>=c.c?we(a,b,c.a,d,c.c,f,g,h,i,j):xe(a,b,c,d,e,f,g,h,i,j):xe(a,b,c,d,e,f,g,h,i,j)}function xe(a,b,c,d,e,f,g,h,i,j){c.g||(c.g=[]);for(var k=c.g,l=0;l<k.length;l++)if(null==k[l]){k[l]=new ie(h,i,j);break}l>=k.length&&k.push(new ie(h,i,j)),ye(a,b,c,d,e,f,g)}function ye(a,b,c,d,e,f,g){var h=0,i=c.g;if(i)for(var j=i.length-1;j>0;j--)i[j]&&h++;if(h>a.a||c.e&&c.e.length>a.b){var j=c.d?X(e,g,.5):X(d,f,.5),i=h=!1,k=c.e;if(k){for(var l=0;l<k.length;l++){var m=k[l];m&&((c.d?m.x:m.y)<c.c?(c.b||(c.b=new je(j,!c.d)),c.b.e||(c.b.e=[]),c.b.e.push(m),h=!0):(c.a||(c.a=new je(j,!c.d)),c.a.e||(c.a.e=[]),c.a.e.push(m),i=!0))}k.length=0}if(k=c.g){for(l=k.length-1;l>=0;l--)(m=k[l])&&((c.d?m.Vc.wc:m.Vc.Fc)<c.c?(c.b||(c.b=new je(j,!c.d)),c.b.g||(c.b.g=[]),c.b.g.push(m),k[l]=null,h=!0):(c.d?m.Vc.ec:m.Vc.xc)>=c.c&&(c.a||(c.a=new je(j,!c.d)),c.a.g||(c.a.g=[]),c.a.g.push(m),k[l]=null,i=!0));for(j=k.length-1;j>=0&&!(m=k[j]);j--)k.length=j}c.d?(h&&c.b&&ye(a,b,c.b,d,e,c.c,g),i&&c.a&&ye(a,b,c.a,c.c,e,f,g)):(h&&c.b&&ye(a,b,c.b,d,e,f,c.c),i&&c.a&&ye(a,b,c.a,d,c.c,f,g))}}function ze(a,b){this.D=a,this.ha=[],this.id=b,this.uc=-1,this.pf=!1}function Ae(a,b){for(var c=a.ha,d=c.length-1;d>=0;d--){var e=c[d];if(e.J===b||e.W===b)return e}return null}function Be(a,b,c){this.J=a,this.W=b,this.id=c,this.ub=null,this.distance=Number.MAX_VALUE,this.uc=-1,this.pf=!1}function Ce(a,b){return a.J===b?a.W:a.J}function De(a){this.Cc=[],this.ha=[],this.a=null,this.Ya=a,this.min=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),this.max=Ap.create(Number.MIN_VALUE,Number.MIN_VALUE),this.Xc=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),this.e=this.j=this.zf=0,this.c=[],this.g=!1,this.d=new te,this.b=this.d.create(this.Ya.Zb[0],this.Ya.Zb[1],this.Ya.Nb[0],this.Ya.Nb[1])}function Ee(a,b){var c=-1;return me(a.b,b[0],b[1],function(a,b){return c=b}),c}function Fe(a,b,c){var d=Ee(a,b);return d>=0?d:c&&(c=Ge(a,b),c>=0)?c:(c=a.j++,d=Ap.A(b),d=new ze(d,c),a.Cc.push(d),a.b&&a.d.Ol(a.b,b[0],b[1],d,c),c)}function Ge(a,b){var c={},d=Math.min(.2,.2),e=d*d,d=re(a.b,b[0],b[1],b[0],b[1],d,function(d){var f=Ap.Io(d.J.D,d.W.D,b,c);return c.split&&Ap.X(f,b)<e?Ke(a,d,b):void 0});return fa(d)?-1:d}function He(a,b,c){var d={},e=a.Cc[b].D,f=a.Cc[c].D;b=Math.min(.2,.2);var g=b*b;return a=pe(a.b,e[0],e[1],f[0],f[1],b,function(a,b){var c=Ap.Io(e,f,a.D,d);return d.split&&Ap.X(c,a.D)<g?b:void 0}),fa(a)?null:a}function Ie(a,b,c){var d=b.D,e=c.D,f=null,g=Math.min(.2,.2),h=a.e;return re(a.b,d[0],d[1],e[0],e[1],g,function(g){if(!(g.id>=h)&&b!==g.J&&b!==g.W&&c!==g.J&&c!==g.W){var i=g.J.D,j=g.W.D;if(1==Ap.Km(d[0],d[1],e[0],e[1],i[0],i[1],j[0],j[1],Xq)){var i=Ee(a,Xq),j=!0,k=g.J.id!=i&&g.W.id!=i;if(f)for(var l=f.length-1;l>=0;l--)if(f[l].Nn==i&&(j=!1),1e-6>Ap.distance(Xq,f[l].mp)){i=Ee(a,Xq);break}l=null,(k||j)&&(l=Ap.A(Xq)),k&&(i=Ke(a,g,l)),j&&(f||(f=[]),f.push({Nn:i,mp:l,distance:Number.MAX_VALUE}))}}}),f}function Je(a,b,c,d){var e=Math.min(b,c);if(b=Math.max(b,c),d&&(c=He(a,e,b),null!=c))return Je(a,e,c,d),void Je(a,c,b,d);c=a.Cc[e];var f=a.Cc[b];if(!Ae(c,f)){if(d&&(d=Ie(a,c,f))){for(f=d.length-1;f>=0;f--)d[f].distance=Ap.X(c.D,d[f].mp);for(d.sort(function(a,b){return b.distance-a.distance}),c=d[d.length-1].Nn,f=d.length-2;f>=0;f--)Je(a,e,c,!1),e=c,c=d[f].Nn;return Je(a,e,c,!1),void Je(a,c,b,!1)}e=new Be(c,f,a.e++),c.bj(e),f.bj(e),a.a&&0<a.a.length?(a.ha[a.a[a.a.length-1]]=e,a.a.length--):a.ha.push(e),a.b&&ve(a.d,a.b,c.D[0],c.D[1],f.D[0],f.D[1],e,e.id)}}function Ke(a,b,c){var d=b.J.id,e=b.W.id;return Se(a,b),Ee(a,c),b=Fe(a,c,!1),Je(a,d,b,!1),Je(a,b,e,!1),b}function Le(a,b,c){fa(a.c[b.id])&&(a.c[b.id]=[]),a.c[b.id][c.id]=!0}function Me(a,b,c,d){var e=b.J.id==c.id?b.W:b.J,f=Ap.create(0,0),e=Ap.sub(e.D,c.D),g=null,h=null,i=c.ha;if(1==i.length){var j=Ce(b,c);(fa(a.c[c.id])||!a.c[c.id][j.id])&&(g=b,h=j)}else{for(h=[],g=i.length-1;g>=0;g--){var k=i[g];k!==b&&(j=Ce(k,c),f=Ap.Gf(j.D,c.D,f),h.push({pb:Ap.Op(e,f),qr:k,Zc:j}))}1<h.length&&h.sort(function(a,b){return a.pb-b.pb}),g=h[0].qr,h=h[0].Zc,(fa(a.c[c.id])?0:a.c[c.id][h.id])&&(h=g=null)}d.oe=g,d.Tk=c,d.Zc=h}function Ne(a,b,c,d,e){b.uc=c,d.push(b);for(var f=b.ha,g=f.length-1;g>=0;g--){var h=f[g];0<=h.uc||(e.push(h),h.uc=c,h=Ce(h,b),0<=h.uc||Ne(a,h,c,d,e))}}function Oe(a){a=a.Cc;for(var b=a.length-1;b>=0;b--){var c=a[b];if(0>c.uc)return c}return null}function Pe(a){for(var b=[],c=Oe(a),d=0;c;){d++;var e=[],f=[];Ne(a,c,d,e,f),b.push({Cc:e,ha:f,ln:[]}),c=Oe(a)}for(d=[],c=[],e=-1,e=b.length-1;e>=0;e--){var g=b[e],f=g.Cc,g=g.ln;if(0<f.length){var h,i=[];h=Number.MAX_VALUE;for(var j=-1,k=f.length-1;k>=0;k--){var l=f[k];l.D[0]<h&&(h=l.D[0],j=k)}if(h=j,h>=0&&(j=f[h],Yq=Math.min(Yq,j.D[0]-10),h=a,k={oe:null,Tk:null,Zc:null},0<f.length)){for(var f=j,l=k,m=f.ha,n=null,o=null,p=Ap.create(0,0),q=Number.MAX_VALUE,r=m.length-1;r>=0;r--){var s=m[r],t=Ce(s,f);Ap.Gf(t.D,f.D,p);var u=Ap.Op([-1,0],p);q>u&&(q=u,n=s,o=t)}if(l.oe=n,l.Tk=f,l.Zc=o,k.oe)for(j.pf=!0,k.Zc.pf=!0,i.push(j),i.push(k.Zc),Le(h,k.Tk,k.Zc),k.oe.pf=!0,g.push(k.oe),Me(h,k.oe,k.Zc,k);k.oe&&(k.oe.pf||(k.oe.pf=!0,g.push(k.oe)),k.Zc);)Le(h,k.Tk,k.Zc),k.Zc.pf||(k.Zc.pf=!0,i.push(k.Zc)),Me(h,k.oe,k.Zc,k)}}}for(e=b.length-1;e>=0;e--)if(g=b[e],f=g.Cc,g=g.ln,0!=f.length){for(h=!1,j=b.length-1;j>=0;j--)if(e!=j){if(k=b[j],i=0!=k.ha.length){for(i=f[0],k=k.ln,m=0,l=k.length-1;l>=0;l--)(n=k[l])&&(i.id==n.J.id||i.id==n.W.id?n=0:(o=i.D,p=n.J.D,n=n.W.D,n=1==Ap.Km(Yq,o[1]-10,o[0],o[1],p[0],p[1],n[0],n[1])?1:0),m+=n);i=1==m%2}if(i){h=!0;break}}if(!h){for(j=g.length,h=0;j>h;h++)d.push(g[h]);for(g=f.length,h=0;g>h;h++)c.push(f[h])}}if(0<d.length){for(a.ha=d,b=c.length-1;b>=0;b--)for(d=c[b].ha.length-1;d>=0;d--)c[b].ha[d].pf||c[b].ha.splice(d,1);a.Cc=c}else To()}function Qe(a,b){var c,d,e=a.Cc,f=b.ha,g=a.ha;for(c=f.length-1;c>=0;c--){var h=f[c],i=Ce(h,b);1==i.ha.length?(d=e.indexOf(i),e.splice(d,1)):(d=i.ha.indexOf(h),d>=0&&i.ha.splice(d,1)),d=g.indexOf(h),d>=0&&(g[d]=null,a.a||(a.a=[]),a.a.push(d),a.b&&(d=a.b,i=h,h=fe(h.J.D[0],h.J.D[1],h.W.D[0],h.W.D[1]),se(d,d.a,h,i)))}d=e.indexOf(b),d>=0&&e.splice(d,1),a.b&&(e=a.b,ne(e,e.a,b.D[0],b.D[1],b))}function Re(a,b){var c;1==a.ha.length?a.ha.length=0:(c=a.ha.indexOf(b),c>=0&&a.ha.splice(c,1))}function Se(a,b){var c,d=a.ha;Re(b.J,b),Re(b.W,b),c=d.indexOf(b),c>=0&&(d[c]=null,a.a||(a.a=[]),a.a.push(c)),c=a.b,d=fe(b.J.D[0],b.J.D[1],b.W.D[0],b.W.D[1]),se(c,c.a,d,b),b.J=null,b.W=null}function Te(a,b,c,d){var e=new Be(b,c,a.e++);e.uc=d,b.bj(e),c.bj(e),a.a&&0<a.a.length?(a.ha[a.a[a.a.length-1]]=e,a.a.length--):(a.ha.push(e),a.b&&ve(a.d,a.b,b.D[0],b.D[1],c.D[0],c.D[1],e,e.id))}function Ue(a){var b=a.Cc;a.g=!0,a.d=null,a.b=null;for(var c=b.length-1;c>=0;c--){var d=b[c];if(2==d.ha.length){var e=d.ha,f=e[0],g=e[1],e=f.J===d?f.W:f.J,h=d,d=g.J===d?g.W:g.J,g=e.D,i=h.D,j=d.D;.3>Ap.distance(g,i)||.3>Ap.distance(i,j)||Math.abs(Ap.Zk(Ap.sub(g,i),Ap.sub(j,i)))<Vq||.25<Ap.Pg(g,j,i)||(Qe(a,h),Te(a,e,d,f.uc))}}if(a.a&&0<a.a.length)for(a.a.sort(function(a,b){return a-b});0<a.a.length;)a.ha.splice(a.a[a.a.length-1],1),a.a.length--;a.a=null}function Ve(){this.Qh=this.W=this.J=null,this.weight=0,this.distance=-1,this.viewingAngle=0,this.distanceFactor=1,this.vb=this.qh=this.Gc=this.aa=this.j=this.zb=this.ab=this.b=this.a=this.d=this.c=null}function We(a){this.Wf=a,this.Mj=null}function Xe(a,b,c,d,e,f,g,h,i){this.oa=a,this.ja=b,this.yc=c,this.yb=d,this.Ue=e,this.Qe=f,this.Wf=g,this.vb=h,this.xe=i}function Ye(){this.Tb=[],this.hp=!1}function Ze(a,b){for(var c=[],d=a.Tb,e=0;e<d.length;e++){var f=d[e];if(f.Wf==b)if(0<c.length){var g=c[c.length-1];f.vb==g.vb&&.01>Ap.distance(g.ja,f.oa)?(g.yb=f.yb,g.ja=f.ja,g.Qe=f.Qe):c.push(f)}else c.push(f)}return c}function $e(a,b,c,d){for(var e=Math.atan2(b[1],b[0]);0>e;)e+=op;for(var f=Math.atan2(c[1],c[0]);0>f;)f+=op;var g=f-e;0>g&&(g=-g);var h;if(tp>g?e>f?(g=e,h=f,e=b,f=c):(g=f,h=e,e=c,f=b):f>e?(g=e,h=f,e=b,f=c):(g=f,h=e,e=c,f=b),h>g){if(!d)return g=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),Ap.Oe(0,0,-1e5,0,e[0],e[1],f[0],f[1],g),$e(a,b,g,!0)&&$e(a,g,c,!0);0===g&&(g=up)}for(a=a.Tb,b=0;b<a.length;b++)if(c=a[b],!(c.yb<=h)){if(d=c.yc,0==b&&d>0&&(d-=op),b>0&&c.yc>=g)break;if(h>=d&&g<=c.yb){if(d=Ap.se(c.ja,c.oa,e),d>0)return!1;if(c=Ap.se(c.ja,c.oa,f),c>0)return!1}else if(d>=h&&g>c.yb){d=Zq;var i=$q;if(Ap.Oe(0,0,c.oa[0],c.oa[1],e[0],e[1],f[0],f[1],d),Ap.Oe(0,0,c.ja[0],c.ja[1],e[0],e[1],f[0],f[1],i),d=Ap.length(d),i=Ap.length(i),i=c.Qe-i,0>c.Ue-d||0>i)return!1}else if(h>d&&h<c.yb&&g>=c.yb){if(i=Zq,Ap.Oe(0,0,c.ja[0],c.ja[1],e[0],e[1],f[0],f[1],i),i=Ap.length(i),c.Qe<i)return!1;if(c=Ap.se(c.ja,c.oa,f),c>0)return!1}else if(d>=h&&g>d&&g<=c.yb){if(d=Zq,Ap.Oe(0,0,c.oa[0],c.oa[1],e[0],e[1],f[0],f[1],d),d=Ap.length(d),c.Ue<d)return!1;if(d=Ap.se(c.ja,c.oa,e),d>0)return!1}}return!0}function _e(a,b,c){c*=c;for(var d=0;d<a.length;d++){var e=a[d],e=Ap.Ta(e.oa,e.ja,b);if(Ap.X(e,b)<c)return!0}return!1}function af(a,b){for(var c=Number.MAX_VALUE,d=0;d<a.length;d++){var e=a[d],e=Ap.Ta(e.oa,e.ja,b),e=Ap.X(e,b);c>e&&(c=e)}return c<Number.MAX_VALUE?Math.sqrt(c):Number.MAX_VALUE}function bf(a,b,c,d,e){this.J=a,this.W=b,this.buildingId=c,this.span=d,this.vb=e}function cf(){}function df(){var a=Ap.create(2e3*Math.cos(0),2e3*Math.sin(0)),b=Ap.create(2e3*Math.cos(mp),2e3*Math.sin(mp)),c=Ap.create(2e3*Math.cos(kp),2e3*Math.sin(kp)),d=Ap.create(2e3*Math.cos(3*mp),2e3*Math.sin(3*mp)),e=Ap.create(2e3*Math.cos(op),2e3*Math.sin(op)),f=new Ye,g=f.Tb;return g.push(new Xe(a,b,0,mp,2e3,2e3,null,1,-1)),g.push(new Xe(b,c,mp,kp,2e3,2e3,null,2,-1)),g.push(new Xe(c,d,kp,3*mp,2e3,2e3,null,3,-1)),g.push(new Xe(d,e,3*mp,op,2e3,2e3,null,4,-1)),f}function ef(a,b,c,d){a=a.Tb;var e=a[b];if(c>e.yc&&c<e.yb){var f=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE);Ap.Oe(e.ja[0],e.ja[1],e.oa[0],e.oa[1],0,0,d[0],d[1],f),d=Ap.length(f);var g=new Xe(e.oa,f,e.yc,c,e.Ue,d,e.Wf,e.vb,e.xe);return a.splice(b,0,g),e.yc=c,e.Ue=d,e.oa=f,!0}return!1}function ff(a,b,c,d,e,f,g,h,i){for(var j=Math.atan2(c[1],c[0]);0>j;)j+=op;for(var k=Math.atan2(d[1],d[0]);0>k;)k+=op;if(!U(j,k,1e-6)){var l=b.Tb,m=0,n=2*l.length,o=k-j;if(0>o&&(o=-o),tp>o?j>k?(o=j,j=c,c=d):(o=k,k=j,j=d):k>j?(o=j,j=c,c=d):(o=k,k=j,j=d),k>o){if(!h)return l=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),Ap.Oe(0,0,-1e5,0,j[0],j[1],c[0],c[1],l),ff(a,b,j,l,e,f,g,!0,i),void ff(a,b,l,c,e,f,g,!0,i);0===o&&(o=up)}var p;for(a=0;a<l.length&&(m++,!(m>n));a++)if(i=l[a],!(i.yb<=k)){if(i.yc>=o)break;if(d=Ap.se(i.ja,i.oa,j),p=Ap.se(i.ja,i.oa,c),!(d>0&&p>0)){if(h=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),0>d||0>p){if(d=Ap.Oe(i.ja[0],i.ja[1],i.oa[0],i.oa[1],j[0],j[1],c[0],c[1],h),2===d)continue;p=Ap.distance(i.ja,h);var q=Ap.distance(i.oa,h);if(p>.001&&q>.001&&1===d){for(d=Math.atan2(h[1],h[0]);0>d;)d+=op;p=Ap.length(h),q=new Xe(i.oa,h,i.yc,d,i.Ue,p,i.Wf,i.vb,i.xe),l.splice(a,0,q),i.yc=d,i.Ue=p,i.oa=h,a--;continue}}if(ef(b,a,k,c))a--;else if(ef(b,a,o,j))a--;else{h=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),d=Ap.create(Number.MAX_VALUE,Number.MAX_VALUE),Ap.Oe(0,0,i.oa[0],i.oa[1],j[0],j[1],c[0],c[1],h),Ap.Oe(0,0,i.ja[0],i.ja[1],j[0],j[1],c[0],c[1],d),p=Ap.length(h);var q=Ap.length(d),r=i.Ue-p,s=i.Qe-q;if(!(0>=r&&0>=s)){if(!(r>=0&&s>=0)){if(0>r&&-r>s)continue;if(0>s&&-s>r)continue}i.oa=h,i.Ue=p,i.ja=d,i.Qe=q,i.Wf=e,i.vb=f,i.xe=g}}}}}}function gf(a){for(var b=a.Tb,c=1;c<b.length;c++){var d=b[c-1],e=b[c];!fa(d.vb)&&d.vb==e.vb&&e.yb>e.yc&&.01>Ap.distance(d.ja,e.oa)&&(d.yb=e.yb,d.ja=e.ja,d.Qe=e.Qe,b.splice(c,1),c--)}1<b.length&&(d=b[b.length-1],e=b[0],!fa(d.vb)&&d.vb==e.vb&&.01>Ap.distance(e.oa,d.ja)&&(a.hp=!0,e.yc=d.yc,e.oa=d.oa,e.Ue=d.Ue,d.ja=e.ja,d.yb=e.yb+op,d.Qe=e.Qe))}function hf(){this.c={},this.b=Ga(void 0),this.e=Ga(void 0),this.a=null,this.g=0,this.d=1,this.j=128,new pb({position:new ob(7,3,0),normal:new ob(7,3,12)})}function jf(a,b,c,d,e,f,g){this.zj=a,this.maxDistance=b,this.sp=b*b,this.a=c,this.distanceScale=d,this.minPixelWidth=e,this.maxPixelWidth=f,this.xp=g}function kf(){return ar||(ar=new hf),ar}function lf(a,b,c){var d=c.r.ib();a.b=ri(d),a.e=si(d),mf(a),b.forEach(function(a,b){b.la||nf(b)}),f(b.size()),of(a,c,b)}function mf(a){a.c={},a.a=null}function nf(a){if(a&&!a.Ie){var b=new We(a);a.Ie=b;var c=new De(a.Ya);a.bg(function(a,b,d){Bp.sub(b,a,gr),Bp.sub(d,a,hr),Bp.pa(gr,hr,ir);var e=Bp.jb(ir);1e-12>e||(e=Math.sqrt(e),e=1/e,ir[0]*=e,ir[1]*=e,ir[2]*=e,.1>Math.abs(ir[0])&&.1>Math.abs(ir[1])||c.Lh(a,b,d))}),Pe(c),Ue(c),c.compact(!0),b.Mj=c}}function of(a,b,c){if(!a.a){var d=b.f.N();a.j=b.f.Ea.Pb().height,a.g=V(d.cg()),a.d=2*Math.tan(.5*a.g)/a.j,_q||(_q=new cf),d=_q,a.a=df();var e=[];c.forEach(function(c,d){if(!d.la){sf(a,d,b);var f=a.c[d.buildingId];if(f)for(var f=f.vr,g=f.length,h=0;g>h;h++){for(var i=f[h],j=i.J,k=i.W,i=i.id,l=Math.atan2(j[1],j[0]);0>l;)l+=op;for(var m=Math.atan2(k[1],k[0]);0>m;)m+=op;e.push(new bf(j,k,d.buildingId,l>m?l-m:m-l,i))}}}),e.sort(function(a,b){return b.span-a.span});for(var g=0;g<e.length;g++){var h=e[g];ff(d,a.a,h.J,h.W,h.buildingId,g,h.vb,!1)}gf(a.a),f(c.size())}}function pf(a,b,c){return S(void 0!==a?a:c,0,b)}function qf(a,b,c,d,e,f,g,h,i){if(d=new jf(c,pf(e,1e3,300),pf(f,1,cr),pf(g,1,ac.distanceFactor),pf(h,1e4,5),pf(i,1e4,1e3),d),b.ta)if(null==a.a)c=null;else if(e=Ze(a.a,b.buildingId),0==e.length)c=null;else if(c=0,(b=vf(a,b,a.a,e,d))&&0!=b.length){for(d=[],c=0;c<b.length;c++){e=b[c],g=f=new Ve,h=e.W,i=e.Qh;var j=e.weight,k=e.distance,l=e.viewingAngle,m=e.distanceFactor,n=e.pixelFactor,o=e.xe;g.J=e.J,g.W=h,g.Qh=i,g.weight=j,g.distance=k,g.viewingAngle=l,g.distanceFactor=m,g.pixelFactor=n,g.vb=o,d.push(f)}c=d}else c=null;else c=null;return c&&0!=c.length&&a.b?c[0]:null}function rf(a,b,c,d){var e=Bp.I(a.b,Cf(b.J)),f=Bp.I(a.b,Cf(b.W)),g=Bp.I(a.e,e),h=Bp.I(a.e,f);

g[2]=Math.max(g[2],h[2]),h[2]=g[2],g=Bp.create(g[0],g[1],g[2]+c),h=Bp.create(h[0],h[1],h[2]+c),c=Bp.create(g[0],g[1],g[2]+d),d=Bp.create(h[0],h[1],h[2]+d),g=Bp.I(a.b,g),h=Bp.I(a.b,h),c=Bp.I(a.b,c),a=Bp.I(a.b,d),Bp.sub(h,g,e),Bp.sub(a,g,f),b.c=e,b.d=f,b.a=e,b.b=f,b.ab=g,b.zb=h,b.j=c,b.aa=a,b.qh=Bp.normalize(Bp.pa(b.a,b.b))}function sf(a,b,c){if(b.ta&&!a.c[b.buildingId]&&b.Ie){var d=Dj(b.ta),d=si(d);if(c=c.r.ib(),c=Bp.I(d,c),d=b.Ie.Mj){var e=Ap.sub(d.Xc,c);if(!(300<Ap.length(e)-d.zf)){for(var f=d.Cc,g=d.ha,h=[],i=[],j=f.length-1;j>=0;j--){var k=f[j];300>Ap.distance(k.D,c)&&h.push(k)}for(j=g.length-1;j>=0;j--)(h=g[j])&&(h.ub=Ap.Ta(h.J.D,h.W.D,c),h.distance=Ap.distance(c,h.ub),300<h.distance||i.push(h));if(!(1>i.length)){for(i.sort(function(a,b){return b.distance-a.distance}),f=tf(d,f,c),g=[],g.push([er,f.Fr.Mn]),g.push([er,f.as.Mn]),h=[],j=0;j<i.length;j++){var k=i[j],l=Ap.sub(k.J.D,c),m=Ap.sub(k.W.D,c);h.push({J:l,W:m,id:k.id})}a.c[b.buildingId]={Xc:e,zf:d.zf,vr:h,a:f,ps:g}}}}}}function tf(a,b,c){var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=null,i=null;a=Ap.sub(a.Xc,c),a=Math.atan2(a[1],a[0]);for(var j=b.length-1;j>=0;j--){Ap.Gf(b[j].D,c,fr);for(var k=Math.atan2(fr[1],fr[0]),l=k-a;l>kp;)l-=op;for(;-kp>l;)l+=op;0>k&&(k=op+k),d>l&&(d=l,h=Ap.A(fr),f=k),l>e&&(e=l,i=Ap.A(fr),g=k)}return{as:{pb:d,Mn:h},Fr:{pb:e,Mn:i},Gt:f,Ft:g,Ot:e-d>kp}}function uf(a){var b=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=a.length,e=!1;if(d>0&&a[0].yc>a[0].yb&&(e=!0),e)for(g=a[0],c=g.yb,b=g.yc,f=1;d>f;f++)g=a[f],e=g.yb,g=g.yc,g>e||(kp>e&&e>c&&(c=e),g>kp&&b>g&&(b=g));else for(var f=0;d>f;f++)var g=a[f],b=g.yc<b?g.yc:b,c=g.yb>c?g.yb:c;return a=Math.sin(b),d=Math.cos(b),b=Math.sin(c),c=Math.cos(c),a=Ap.create(1e3*d,1e3*a),c=Ap.create(1e3*c,1e3*b),[[er,a],[er,c]]}function vf(a,b,c,d,e){var f,g,h,i,j=d.length;if(0!=j){var k=[];if(a.c[b.buildingId]){var l=uf(d),m=null,n=null,o=null,p={};for(i=0;j>i;i++){h=d[i];var q=Ap.Ta(h.ja,h.oa,er,p);g=h.ja,f=h.oa;var r=Ap.ma(g,f,.5);zf(a,!1,!1,!1,g,f,r,q,null,c,d,e,k,6*h.xe,p);var s=Ap.jb(r),s=xf(a,e,Math.sqrt(s))*e.zj,t=Ap.jb(q);(null==m||m>t)&&(m=t,n=Ap.A(q),o=s),Ap.distance(g,f)>s||(g=Ap.normalize(Ap.sub(f,g)),f=Ap.scale(g,.5*s),g=Ap.sub(r,f),f=Ap.add(r,f),q=Ap.Ta(g,f,er),zf(a,!0,!1,!1,g,f,r,q,l,c,d,e,k,6*h.xe+1))}for(p=null,i=0;j>i;i++)h=d[i],Af(a,c,d,b,d[i].ja,l,e,k,6*h.xe+2),Af(a,c,d,b,d[i].oa,l,e,k,6*h.xe+3);for(n&&(g=Ap.normalize(n),g=Ap.pa(g),f=Ap.scale(g,.5*o),g=Ap.sub(n,f),f=Ap.add(n,f),zf(a,!0,!1,!0,g,f,n,n,l,c,d,e,k,6*h.xe+4)),b=a=0,h=c=Number.MIN_VALUE,a=0;a<k.length;a++)i=k[a],i.distance>h&&(h=i.distance);for(h+=10,a=0;a<k.length;a++)i=k[a],(i.Co||i.Wo)&&(j=af(d,i.J),j+=af(d,i.Xc),j+=af(d,i.W),i.Vl=j),wf(i,e.zj,h),e.xp&&i.xe==e.xp&&(i.weight*=1.5),b=Math.min(b,i.weight),c=Math.max(c,i.weight);if(c>0&&b!=c)for(a=0;a<k.length;a++)i=k[a],i.rn=(i.weight-b)/(c-b);else for(a=0;a<k.length;a++)i=k[a],i.rn=i.weight;return k.sort(function(a,b){return b.rn-a.rn}),k}}}function wf(a,b,c){var d=0,e=a.Qh,f=Ap.sub(a.W,a.J),e=Math.abs(Math.abs(Ap.Zk(e,f))-mp)/mp,g=1*(1-e),f=Ap.distance(a.W,a.J),h=Math.min(f,1.1*b),h=(1-e)*h*.01,i=null,i=Ap.sub(a.Xc,a.Qh);1e-6>Ap.jb(i)?i=a.distance:(i=Ap.normalize(i),b=Ap.add(a.Qh,Ap.scale(i,.5*b)),i=Ap.length(b)),c=1-Math.max(0,Math.min(1,i/c)),d+=g+h+(.9*c+c*c*.5),c=-1,0<a.Vl&&(c=1-.5*Math.max(0,Math.min(1,a.Vl/f)),d*=c),a.Wo&&(d*=.9),a.Co&&(d*=.9),a.weight=d,a.viewingAngle=e,a.distance=i}function xf(a,b,c){return yf(a,b.zj,c,b.distanceScale,b.minPixelWidth,b.maxPixelWidth)}function yf(a,b,c,d,e,f){return d=1+Math.max(0,d*(c-0)),a=b*d/c/a.d,b=1,e>a?b=e/a:a>f&&(b=f/a),d*b}function zf(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q=Ap.jb(h);if(!(q>l.sp)){var q=Math.sqrt(q),r=xf(a,l,q);p=r*l.zj;var s,t;0<Ap.se(e,f,er)?(s=f,t=e):(s=e,t=f),e=s,f=t;var u=Ap.distance(e,f);if(u>p-.01){var v;v=l.a;var w=Ap.gl(Ap.normalize(Ap.sub(f,e)),Ap.normalize(h));if(Math.abs(w)<v?(v=Math.atan2(e[1],e[0]),w=Math.atan2(f[1],f[0]),0>w&&(w+=2*kp),0>v&&(v+=2*kp),v-=w,v>tp?v=-(up-v):-tp>v&&(v=up+v),v=Math.abs(v)>dr):v=!1,v){if(!b&&!c&&u>1.2*p&&o){v=Ap.create();var w=Ap.create(),x=Ap.normalize(Ap.sub(f,e)),y=p/u;if(0>o.Hb-.5*y?(Ap.Mo(e,v),Ap.jk(e,x,p,w)):1<o.Hb+.5*y?(Ap.Mo(f,w),Ap.jk(f,x,-p,v)):(Ap.jk(h,x,-.5*p,v),Ap.jk(h,x,.5*p,w)),1>l.a&&!Bf(v,w,l.a))return}else if(1>l.a&&!Bf(e,f,l.a))return;if(b||c){if(l=e,o=f,l=Math.atan2(t[1]-s[1],t[0]-s[0]),o=Math.sin(l),l=Math.cos(l),o*=.1,p=.1*l,l=Ap.create(s[0]+o,s[1]-p),o=Ap.create(t[0]+o,t[1]-p),p=Ap.distance(l,o),p=.05/p,l=Ap.scale(l,1-.1/Ap.length(l)),o=Ap.scale(o,1-.1/Ap.length(o)),!$e(j,l,o))return;if(i){if(p=Ap.distance(s,t),.1>p)return;p=.05/p,j=Ap.ma(s,t,p);a:{for(s=Ap.ma(t,s,p),t=i.length,l=0;t>l;l++)if(p=i[l],o=p[0],p=p[1],1==Ap.Dr(o[0],o[1],p[0],p[1],j[0],j[1],s[0],s[1])){i=!0;break a}i=!1}if(i)return}if(d&&(d=Math.max(1,u/4),g||(g=Ap.ma(e,f,.5)),!_e(k,g,d)||!_e(k,e,d)||!_e(k,f,d)))return}g||(g=Ap.ma(e,f,.5)),m.push({Wo:b,Co:c,J:e,W:f,Xc:g,Qh:h,distance:q,Vl:0,distanceFactor:r,pixelFactor:a.d,xe:n})}}}}function Af(a,b,c,d,e,f,g,h,i){var j,k={};if(d=a.c[d.buildingId]){var l=.1*.1;if(f=f?f:d.ps,d=Ap.jb(e),!(d>g.sp)){d=xf(a,g,Math.sqrt(d))*g.zj;var m=d*d,n=d*d,o=[],p=function(a){return a=Ap.sub(a,e),Ap.Zk(e,a)},q=function(a){var b=Ap.X(e,a);!(l>b)&&n>b&&(b=Ap.Ta(e,a,er,k),300<Ap.length(b)||o.push({D:a,im:!1,pb:p(a)}))};for(q(c[0].oa),q(c[0].ja),j=1;j<c.length;j++)q(c[j].ja);for(j=0;j<c.length;j++){var q=c[j],r=Ap.pp(q.ja,q.oa,e,d);if(r&&0<r.length)for(var s=0;s<r.length;s++){var t=r[s];Ap.X(e,t)<l||(q=Ap.Ta(e,t,er,k),300<Ap.length(q)||o.push({D:t,im:!0,pb:p(t)}))}}o.sort(function(a,b){return a.pb-b.pb}),0<o.length&&(j=o[0],r=e,s=j.D,s=Ap.add(r,Ap.scale(Ap.normalize(Ap.sub(s,r)),d)),t=!j.im,q=Ap.Ta(r,s,er,k),zf(a,!0,t,!0,r,s,null,q,f,b,c,g,h,i),r=j.D,s=Ap.add(r,Ap.scale(Ap.normalize(Ap.sub(e,r)),d)),q=Ap.Ta(r,s,er,k),zf(a,!0,t,!0,r,s,null,q,f,b,c,g,h,i),1<o.length&&(j=o[o.length-1],s=j.D,Ap.distance(s,r)<m&&(s=Ap.add(r,Ap.scale(Ap.normalize(Ap.sub(s,r)),d)),q=Ap.Ta(r,s,er,k),zf(a,!0,!j.im,!0,r,s,null,q,f,b,c,g,h,i))))}}}function Bf(a,b,c){var d=Ap.ma(a,b,.5);return a=Ap.normalize(Ap.sub(b,a)),d=Ap.gl(a,Ap.normalize(d)),Math.abs(d)<c}function Cf(a){return Bp.create(a[0],a[1],I(void 0)?0:void 0)}function Df(a){this.a=new pn,this.f=a.f}function Ef(a,b){var c=[],d=null;for(d in a.a.a){var e=a.a.get(d);e.jd.buildingId==b&&c.push(e)}return c}function Ff(a){this.a=new pn,this.f=a,this.Wc=new Df(this),this.b=new vd(this),this.e=Bp.create(),this.d=Ba(),this.c=null}function Gf(a,b){a.c=b}function Hf(a,b){var c=kr,d=null,e=null,f=void 0!=c&&null!=c&&c>0?c*c:null,g=b.forEach(function(b,g){if(g){var h=Bp.X(g.Xp,a);if(h<g.ih)if(g.Ie&&g.Ie.Mj){var i,h=Bp.I(g.Xg(),a);if(i=g.Ie.Mj,h[0]<i.min[0]||h[1]<i.min[1]||h[0]>i.max[0]||h[1]>i.max[1])i=!1;else{var j=0;i=i.ha;for(var k=i.length-1;k>=0;k--){var l=i[k];if(l)var m=l.J.D,l=l.W.D,l=1==Ap.Km(Yq,h[1]-10,h[0],h[1],m[0],m[1],l[0],l[1])?1:0,j=j+l}i=1==j%2}if(i)return g;if(null!=f){if(k=g.Ie.Mj,h[0]+c<k.min[0]||h[1]+c<k.min[1]||h[0]-c>k.max[0]||h[1]-c>k.max[1])h=null;else{for(i=null,k=k.ha,j=k.length-1;j>=0;j--)(l=k[j])&&(l=Ap.Pg(l.J.D,l.W.D,h),(null==i||i>l)&&(i=l));h=i}null!=h&&f>h&&(null==d||d>h)&&(d=h,e=g)}}else if((h=g.sd)&&(h=g.sd,i=!1,i=Bp.I(jb(h),a),(k=h.nd().hb())&&(k=k.Ug())&&(i[2]=X(k.Zb[2],k.Nb[2],.5)),i=Fb(i[0],i[1],i[2],1,0,0),h=i=1==h.No(i)%2),h)return g}});return!I(g)&&g instanceof Object?g:!I(e)&&e instanceof Object?e:null}function If(a,b){return a.Ud(b),a.Wc.Ud(b)?a.Wc:a.b.Ud(b)?a.b:null}function Jf(){this.a=null,this.e=[],this.b=[],this.c=null,this.o=!0,this.g=this.j=this.v=null,this.Kb=new pb({position:new ob(7,3,0),normal:new ob(7,3,12)}),this.aa=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)})}function Kf(a){if(a.a&&a.a.f&&a.a.f.k&&a.a.f.k.r){var b=a.a.f.k.r.ib(),c=a.a.f.N(),d=c.K.S;null!=a.j&&Bp.$f(a.j,d)?a.o=!1:(a.o=!0,a.j=Bp.A(d)),a.v=b,a.d=si(a.v),a.a.f.Ea.Pb(),c.cg(),(b=a.a.f.k.Ia)&&(b=b.eb(),a.g=ri(b))}}function Lf(a,b,c,d,e){if(!b)return null;var f=kg(a.c,b.lf);gg(a.c,b,function(a,e){d(b,c,new wd(e.Ec,e.width,e.height,e.Ql,e.Rl,e.Xb,e.zd,e.Ld,e.Kd,f))},function(){e(b,c,c)})}function Mf(a,b){for(var c=0;c<a.e.length;c++)if(a.e[c].lf==b.Sa.lf)return a.e[c];return null}function Nf(a,b){var c=mo(a.a.f,b);return c&&a.g?(c[2]+=0,c=Bp.I(a.g,c,c)):null}function Of(a,b,c,d){if(b.zb&&b.ab&&b.j&&b.Ab){var e=new Ep,f=new Ep,g=null,h=1==b.n;if(b.anchor){var i=Nf(a,b.anchor);i?(i=Bp.sub(i,b.anchor),i=b.ic-Bp.length(i)):i=b.ic-3,eb(f,[0,0,i]),i=Bp.distance(b.ab,b.anchor),eb(e,b.anchor),g=h?[(i-b.Xb)/b.M,0,0]:[-i/b.M,0,0]}else eb(e,b.ab);var i=e.S,j=ni(i),k=qi(i),l=Bp.pa(j,k);Bp.pa(l,j,k);var m=Ba(),n=oa();Ha(k,l,j,m),wa(m,n),i.splice(3,0,n[0],n[1],n[2],n[3]),i.splice(7,0,j[0],j[1],j[2]),fb(e,i);var k=a.a.f.k,o=new Rb(a.Kb),p=b.M,i=b.Xb/p,l=b.zd/p,q=[i,0,0],r=[0,0,l],m=[0,-1,0],s=[i,0,0],t=[i,0,l],u=[0,0,l],n=Xb(o,[0,0,0],void 0,m),s=Xb(o,s,void 0,m),t=Xb(o,t,void 0,m),u=Xb(o,u,void 0,m);if(Vb(o,n,s,t,u),!(0>=o.c)){if(n=[0,0,0,0],c=Mn(k.f.lb,c?c:[0,0,0,0]),s=o.hb(),c=new nb(new ya(k.f.mb,s),c),h?hb(f,[-p,1,p]):hb(f,[p,1,p]),_a(c,Jt),c.Y=b,e.add(f),f.add(c),g&&eb(c,g),b.c=e,b.H=f,b.a=c,g=a.a.f.ya.S,b.hc&&b.anchor?(s=Bp.normalize(Bp.sub(g,b.anchor)),s=Bp.normalize(Bp.pa(s,j)),s=Bp.tf(a.d,s),s=Math.atan2(s[0],-s[1])):(s=Bp.tf(a.d,b.Ab),s=Math.atan2(s[1],s[0])),s=ta([0,0,1],s),gb(f,s),k.eh.add(e),f=b.s,e=f.b(),0<e.length){var v=Bp.scale(m,.05),w=1/f.width,x=1/f.height,y=Bp.create(),z=Bp.create(),A=Bp.create(),f=function(a,b){return Bp.add(Bp.scale(q,w*a,y),Bp.scale(r,x*b,z),A),Bp.add(A,v)},j=function(a,b,c,d){return[(a.x+c*a.w)/b.width,(a.y+d*a.h)/b.height]},p=new Rb(a.aa);Sb(p),o=(s=b.cc())?Nn(k.f.lb):Mn(k.f.lb,n),Zi(o.tc(),!1),s&&(F(d.width==s.pd()),F(d.height==s.md()),s.re(0,d,{he:!1}),o.za(0,s));for(var n=null,B=0;B<e.length;B++){var C=Bp.X(b.ab,g),n=Bp.X(b.zb,g),C=Math.max(.01,Math.sqrt(Math.min(C,n))),D=e[B],u=D.c,E=D.b;$b(p,D.a),n=Xb(p,f(E.x,E.y),j(u,d,0,1),m),s=Xb(p,f(E.x+E.w,E.y),j(u,d,1,1),m),t=Xb(p,f(E.x+E.w,E.y+E.h),j(u,d,1,0),m),u=Xb(p,f(E.x,E.y+E.h),j(u,d,0,0),m),Vb(p,n,s,t,u);var G=D.a.je().Gm;if(G){var H=new Rb(a.aa);Sb(H);var I=Ln(k.f.lb);Zi(I.tc(),!1),$b(H,D.a),n=Xb(H,f(0,0),[0,1],m),s=Xb(H,f(E.w,0),[1,1],m),t=Xb(H,f(E.w,E.h),[1,0],m),u=Xb(H,f(0,E.h),[0,0],m),Vb(H,n,s,t,u),n=H.hb(),n.b=!0,n=new nb(new ya(k.f.mb,n),I),G.yq=E.w,G.xq=E.h,G.rl=i*w*E.w,G.Aq=l*x*E.h,G.zq=90,n.Gm=G,eb(n,f(E.x,E.y)),_a(n,Lt),n.R=C,c.add(n)}}if(0>=p.c)return;a=p.hb(),a.b=!0,a=new nb(new ya(k.f.mb,a),o),_a(a,Kt),h&&(eb(a,[i,0,0]),s=kp,s=ta([0,0,1],s),gb(a,s)),c.add(a),a.R=C}b.vd(b.Qa?1:0),c.F(b.Qa)}}}function Pf(a,b){return!fa(b)&&null!=b&&b instanceof Wf&&a.n(b)}function Qf(a){Sd(a,1),a instanceof Wf||Pd(typeof a,typeof Wf,"",1)}function Rf(a,b,c,d){this.x=a,this.y=b,this.w=c,this.h=d}function Sf(a,b,c,d,e,f){this.s=a,this.buildingId=b,this.e=void 0!=c?c:or,this.p=void 0!=d?d:rr,this.ag=void 0!=e?e:pr,this.Dj=void 0!=f?f:qr,this.d=sr,this.a=this.b=this.c=null}function Tf(a,b,c,d,e,f,g,h,i,j){this.Ec=a,this.canvas=b,this.width=c,this.height=d,this.Ql=e,this.Rl=f,this.Xb=g,this.zd=h,this.Ld=i,this.Kd=j,this.opacity=1}function Uf(a,b,c){this.a=a,this.c=b,this.b=c}function Vf(){}function Wf(a,b,c,d,e){this.id=nr++,this.Re=null,this.a=void 0!=e?e:null,this.lf=a,this.latitude=b,this.longitude=c,this.altitude=d,this.distance=-1,this.Qa=!0}function Xf(a,b){this.ca=a,this.buildingId=b,this.s=this.selectedFace=null,this.b=[],this.g=new pn,this.p=this.Ka=this.a=this.H=this.c=this.Xj=null,this.distance=-1,this.viewingAngle=0,this.distanceScale=1,this.Xb=0,this.zd=1,this.ic=2,this.M=1,this.wg=null,this.va=this.Qa=!0,this.opacity=1,this.tb=this.Va=this.ub=this.Sc=this.ie=null,this.Rc=this.n=this.nk=-1,this.Qc=!1,this.anchor=this.Kb=this.Ab=this.aa=this.j=this.zb=this.ab=null,this.hc=!1,this.e=this.d=this.o=null,this.R=-1}function Yf(a){if(0<a.b.length){for(var b=a.xa(),c=0;c<b.length;c++){var d=b[c];d&&a.yi(d)}a.b=[]}a.g.forEach(function(a,b){b.We(null)}),a.g.clear()}function Zf(a){a.c&&(ab(a.c),a.c=null)}function $f(a,b){if(0>=a.Xb)return null;var c=a.Xb/a.M;return yf(kf(),c,b,a.distanceScale,a.minPixelWidth,a.maxPixelWidth)}function _f(a,b,c){var d=a.ca,e=d.a.f;return new z(d.a.f.l.i.Cj,a.a,function(d,f){var g=S(d/100,0,1),g=X(b,c,g),g=$o(g);return a.vd(g),a.a&&e.u(),d>100?(f.stop(),a.o=null,!1):!0})}function ag(a){return new z(a.ca.a.f.l.i.Cj,a.a,function(){return a.Nh()&&a.a&&a.Ka?(a.Jk(),!0):(a.v(),!1)})}function bg(a,b,c,d,e,f,g,h,i){this.selectedFace=a,this.width=b,this.distance=c,this.viewingAngle=d,this.maxDistance=e,this.distanceFactor=f,this.pixelFactor=g,this.minPixelWidth=void 0!=h&&null!=h?h:0,this.maxPixelWidth=void 0!=i&&null!=i?i:1e4,this.distanceScale=1}function cg(a,b){this.Kj(a,b)}function dg(){}function eg(a){this.rd=null,this.clientObject=a}function fg(a){this.rd=null,this.marker=a,this.marker.Re=this,this.c=!1}function gg(a,b,c,d){try{a.renderMarker(b,c,d)}catch(e){}}function hg(a,b){try{return a.selectMarkerSurface(b)}catch(c){}}function ig(a,b,c,d){try{a.setupMarkerSurface(b,c,d)}catch(e){}}function jg(a,b,c,d,e,f){try{a.updateMarkerInSurface(b,c,d,e,f)}catch(g){}}function kg(a,b){try{return a.computeGraphicsHash(b)}catch(c){}}function lg(){}function mg(a){this.ca=a}function ng(a,b){var c=a.vh(64,64);return c.save(),c.strokeStyle="rgb(255, 0, 0)",c.fillStyle="rgb(100, 0, 100)",c.strokeRect(0,0,64,64),c.fillRect(2,2,60,60),c.fillStyle="rgb(255, 0, 0)",c.font='18pt "sans serif"',c.fillText("ERR",1,27),c.fillStyle="rgb(0,0,0)",c.restore(),c=c.getImageData(0,0,64,64),b&&pg(c),a.ca.Zl(c,null,64,64,32,63,1,1,50,2e3)}function og(a,b,c,d){var e=.5*c.width,f=c.height-1;return 0<b.di()&&(f=e=0),b=a.vh(c.width,c.height),b.save(),b.clearRect(0,0,c.width,c.height),b.drawImage(c,0,0,c.width,c.height,0,0,c.width,c.height),b.restore(),b=b.getImageData(0,0,c.width,c.height),d&&pg(b),a.ca.Zl(b,null,c.width,c.height,e,f,1,1,50,2e3)}function pg(a){a=a.data;for(var b=0;b<a.length;b+=4)a[b]+=40,a[b+1]+=40,a[b+2]+=40}function qg(a,b,c,d,e){var f=b.marker.lf;a.save(),a.clearRect(c.x,c.y,c.w,c.h),f.lp&&rg(b,f,d,e),f.mi?a.drawImage(f.mi,0,0,f.mi.width,f.mi.height,c.x,c.y,c.w,c.h):f.Hm?(a.fillStyle="rgb(100, 0, 100)",a.fillRect(c.x,c.y,c.w,c.h),a.fillStyle="rgb(255, 255, 255)",a.font='18pt "sans serif"',a.fillText("ERR",c.x+8,c.y+15)):(a.fillStyle="rgb(100, 100, 100)",a.fillRect(c.x,c.y,c.w,c.h),a.strokeStyle="rgb(255, 255, 255)",a.strokeRect(c.x,c.y,c.w,c.h)),f.Jt&&(b=a.getImageData(c.x,c.y,c.w,c.h),pg(b),a.putImageData(b,0,0)),a.restore()}function rg(a,b,c,d){if(b.lp&&!b.mi&&!b.kp&&!b.Hm){var e=mh(),f=!0;b.kp=!0,nh(e,b.lp,function(e,g){b.kp=!1,g.Ub()?(b.mi=e,b.Hm=!1,f||c(a)):(b.mi=null,b.Hm=!0,f||d(a))}),f=!1}}function sg(a,b){a.Eb=this.p,i.call(this,a),this.a=this.g=this.c=0,this.q=b,this.e=b.N()}function tg(a,b){sg.call(this,a,b)}function ug(a,b){sg.call(this,a,b)}function vg(a,b){sg.call(this,a,b)}function wg(a,b){sg.call(this,a,b),this.c=[0,0,0],this.g=[0,0,0],this.a=[0,0,0]}function xg(a,b,c){var d=a.l.l;this.q=a,this.p=b,this.o=c,this.d=new tg({duration:500,rc:Zo},a),this.n=new ug({duration:500,rc:Zo},a),this.c=new vg({duration:500,rc:Zo},a),this.e=new wg({duration:500,rc:Yo},a),this.s=new wg({duration:500,rc:Zo},a),this.v=new k({i:[this.d,this.c,this.s]}),this.j=new k({i:[this.d,this.n,this.c,this.e],td:this.Cq.bind(this),Sb:this.ao.bind(this)}),this.g=new x({i:[this.e,this.v],td:this.Bq.bind(this),Sb:this.$n.bind(this)}),d.add(this.j),d.add(this.g),this.a=this.b=null}function yg(a,b,c){var d=c||[];c=a.prototype;var e=void 0,f=Array.isArray(d)&&0<d.length,e=function(a){var b=!1;return f&&(b=b||0<=d.indexOf(a)),b=(b=(b=b||4>a.length)||0==a.indexOf("_"))||a.lastIndexOf("_")==a.length-1,!b},g=new Ng;Dg(Gg(),g),zg(c,b,e),zg(a,"<static> "+b,e),a.Rp=function(){var a=Jg(g.b,arguments,"<constructor> "+b,void 0);g.log(a,0)},a.Sp=function(){Bg(g,arguments,"<constructor> "+b)},a.ms=function(){Bg(g,arguments,"<constructor> "+b)}}function zg(a,b,c){a:if(Gg(),a){if("function"==typeof a){Fg(a,b,c),a=Eg(a,b);break a}if("object"==typeof a){a=Fg(a,b,c);break a}throw Error("invalid args")}return a}function Ag(a){this.b=a||new Ig}function Bg(a,b,c,d){var e=a.b;c=c||"<unnamed>";var f=[];f.push("←");var g="";d&&(g=g+d+"."),g+=c,g+=" returned ",f.push(g),f.push(Lg(e,b)),a.log(f,1)}function Cg(){this.b=!0,this.a=new Ag}function Dg(a,b){a.a=b}function Eg(a,b,c){function d(){return Hg.call(this,a,arguments,b,c)}return a&&"function"==typeof a.ns?a:(d.ns=a,d)}function Fg(a,b,c){for(var d in a){var e=a[d];if("function"==typeof e){var f=!0;c&&(f=c(d,e)),f&&(a[d]=Eg(e,d,b?b:void 0))}}return a}function Gg(){return xr||(xr=new Cg),xr}function Hg(a,b,c,d){var e=Gg(),f=e.a;if(!e.b||!f)return a.apply(this,arguments);var e=f,g=Jg(e.b,b,c,d);e.log(g,0);try{var h=a.apply(this,b);return Bg(f,h,c,d),h}catch(i){var h=i,e=d,g=c||"<unnamed>",j=[];throw j.push("∗"),e&&j.push(e+"."),j.push(g),j.push("thrown"),j.push(String(h)),f.log(j,1),i}}function Ig(){}function Jg(a,b,c,d){var e=[],f="";if(d&&(f=f+d+"."),f+=c||"<unnamed>",f+="(",e.push(f),0<b.length)for(e=e.concat(Kg(a,b[0])),c=1,d=b.length;d>c;++c)e.push(","),e=e.concat(Kg(a,b[c]));return e.push(")"),e}function Kg(a,b){var c=[];return c.push(Lg(a,b)),c}function Lg(a,b){var c="";if(Array.isArray(b)){if(c+="[",0<b.length)for(var c=c+Lg(a,b[0]),d=1,e=b.length;e>d;++d)c+=", ",c+=Lg(a,b[d]);return c+"]"}if(ia(b)){var f;if(d=b.toString(),e=d.indexOf("("),!(e>=0))throw Error("invalid function");if(e+=1,f=d.indexOf(")",e),0>f)throw Error("invalid function");if(d=d.substr(e,f-e),f=(d=d.replace(/\s+/g,""))?d.split(","):[],c+="function(",0<f.length)for(c+=f[0],d=1,e=f.length;e>d;++d)c+=", ",c+=f[d];return c+=")"}return ha(b)?(c+='"',c+=b,c+='"'):ga(b)?(d=Math.pow(10,4),c+=Math.round(b*d)/d):a.a(b)}function Mg(){}function Ng(a,b){if(Ag.call(this),this.a=a||window.console,this.c=new Date,!ia(this.a.log))throw Error("invalid console");this.d=window.console.groupCollapsed||window.console.group,this.b=b||new Mg}function Og(a){this.type="povanimation",this.target=null,this.state=a}function Pg(a){this.type="statechanged",this.target=null,this.state=a}function Qg(a,b){this.type="povchanged",this.target=null,this.flags=a,this.isFinal=b}function Rg(a,b,c,d){return{position:a,heading:b||0,pitch:c||0,distance:d||0}}function Sg(a,b,c,d,e,f,g,h,i,j){return this.Rb=a,this.index=b,this.id=c,this.origin=d,this.b=e,this.ta=new Cj(e),this.uj=g,this.ve=h,this.jf=i,this.distance=j,this}function Tg(a){return a.ta.get()}function Ug(a,b){this.Rb=a,this.index=Array(b),this.id=Array(b),this.origin=Array(b),this.Me=Array(b),this.Ve=Array(b),this.a=Array(b),this.b=Array(b),this.ve=Array(b),this.jf=Array(b)}function Vg(a){var b={};return b.id=a.id,b.position=Id(Tg(a)),b.uj=a.uj,b}function Wg(){if("crossOrigin"in new Image)return!0;if(0==(navigator.vendor||"unknown").indexOf("Apple Computer")){var a=navigator.userAgent,b=a.indexOf("Version");if(b>-1)return 6<=parseFloat(a.substring(b+7+1))}return!1}function Xg(){if(void 0!==yr)return yr?!0:!1;a:{var a=null,b=["webgl","experimental-webgl","moz-webgl","webkit-3d"],c=document.createElement("canvas");try{for(var d=0,e=b.length;e>d&&!(a=c.getContext(b[d]));d++);}catch(f){yr=!1;break a}yr=null===a||void 0===a?!1:!0}return yr?!0:!1}function Yg(a,b){this.Hp=a,this.m=[],this.a=[],this.Y=b}function Zg(){this.kb=zr,this.Di=this.color=null,this.width=1,this.Tb=[],this.Y=null}function $g(a,b){var c=new Yg(a,b);return a.Tb.push(c),c}function _g(a,b,c){a.color=b?b:null,a.Di=c?c:null}function ah(a){this.tb={},this.cn=a}function bh(a,b){return(a+(b?"_capture":"_bubble")).toLowerCase()}function ch(a,b){this.b=a,this.d=b,this.a=0,this.ga=++Br,this.e=!1}function dh(a,b,c){this.ga=++Br,this.b=a,this.d=b,this.a=0,this.ra=c,this.$b=[]}function eh(a,b){this.a={},this.b=0,this.c=b,this.d=a}function fh(a){return a}function gh(a,b){var c=b.Ne(),d=a.a[b.Da()].Cr;if(3==b.status)switch(c){case 2:Er.image.canceled++,d.onload=d.onerror=null,a.ad(d);break;case 0:case 1:case 4:case 5:Er.xmlHttp.canceled++,d.onreadystatechange=null,d.abort()}else switch(c){case 2:Er.image.canceled++,d.onload=d.onerror=null,a.ad(d)}kh(a,b)}function hh(a,b){var c=!1,d=fh(b.xb()),e=0==Dr.length?new Image:Dr.pop();0!=d.indexOf("data:")&&(e.crossOrigin=""),e.onload=e.onerror=function(d){e.onload=e.onerror=null,kh(a,b),(c="load"===d.type)?(b.kg(e),Er.total.succeeded++,Er.image.succeeded++):(a.ad(e),b.ti("cannot load image"),Er.image.failed++)},b.Pk(),jh(a,b,e),e.src=d,c||(e.complete?(console.log(e.src),e.onload=e.onerror=null,kh(a,b),b.kg(e)):(Er.total.requests++,Er.image.requests++))}function ih(a,b){var c=new XMLHttpRequest;switch(c.open("GET",fh(b.xb()),!0),b.Ne()){case 2:case 1:c.responseType="arraybuffer";break;case 5:c.responseType="blob";break;case 4:c.overrideMimeType("text/xml")}var d=!1;c.onreadystatechange=function(){if(4==c.readyState&&!d)if(d=!0,kh(a,b),200<=c.status&&300>c.status||304===c.status)if(204==c.status)b.Np("no content"),b.kg(null),Er.xmlHttp.failed++,Er.total.failed++;else switch(Er.xmlHttp.succeeded++,Er.total.succeeded++,b.Ne()){case 2:case 1:case 5:b.kg(c.response);break;case 4:b.kg(c.responseXML);break;default:b.kg(c.responseText)}else b.ti(""==c.statusText?c.status+" cannot load data":c.status+" "+c.statusText),Er.xmlHttp.failed++,Er.total.failed++,408==c.status&&(Er.xmlHttp.timeOut++,Er.total.timeOut++)},b.Pk(),jh(a,b,c),Er.total.requests++,Er.xmlHttp.requests++;try{b.Qp&&(c.timeout=b.Qp),c.send(null)}catch(e){d||kh(a,b),b.ti(e.name+" "+e.message),Er.xmlHttp.failed++,Er.total.failed++}}function jh(a,b,c){a.b++,a.a[b.Da()]={Cr:c,Th:b}}function kh(a,b){a.b--,delete a.a[b.Da()],b.Hr=void 0,a.U()}function lh(a){this.a=[],this.c=Wg(),this.d=this.e.bind(this),this.b=new eh(a,this.d)}function mh(){return Fr||(Fr=new lh(18)),Fr}function nh(a,b,c){if(!a.c){var d=c;c=function(a,b){var c;if(b.Ub()){var e=window.URL.createObjectURL(a);c=0==Dr.length?new Image:Dr.pop(),c.onload=c.onerror=function(){c.onload=c.onerror=null,d(c,b),window.URL.revokeObjectURL(e)},c.src=e}}}var e=rh(a,b,2);return e?qh(e,c):(b=a.c?new dh(b,2,a):new dh(b,5,a),a.a.push(b),b.Bj(),c=qh(b,c),a.b.U(),c)}function oh(a,b,c){var d=rh(a,b,0);d?qh(d,c):(b=new dh(b,0,a),a.a.push(b),b.Bj(),qh(b,c),a.b.U())}function ph(a,b,c,d){var e=rh(a,b,1);e?qh(e,c):(b=new dh(b,1,a),b.Qp=d||void 0,a.a.push(b),b.Bj(),qh(b,c),a.b.U())}function qh(a,b){var c=new ch(a,b);return a.$b.push(c),c.a=a.a,c}function rh(a,b,c){for(var d=0;d<a.a.length;d++){var e=a.a[d];if(e.xb()==b&&e.Ne()==c)return e}if(a.b)a:{a=a.b;for(var f in a.a)if(d=a.a[f].Th,d.xb()==b&&d.Ne()==c){b=d;break a}b=null}else b=null;return b}function sh(){}function th(a,b,c){var d=Bp.create();if(a instanceof th)nb.call(this,a),this.width=a.width,this.height=a.height,this.depth=a.depth,this.min=Bp.A(a.min),this.max=Bp.A(a.max);else if(a instanceof Qk){if(b=b||ip,K(b.size))this.depth=this.height=this.width=b.size,this.min=Bp.create(),this.max=Bp.create(),uh(this.width,this.height,this.depth,this.min,this.max),Bp.set(0,0,0,d);else if(K(b.width)&&K(b.height)&&K(b.depth))this.width=b.width,this.height=b.height,this.depth=b.depth,this.min=Bp.create(),this.max=Bp.create(),uh(this.width,this.height,this.depth,this.min,this.max),Bp.set(0,0,0,d);else if(na(b.min)&&na(b.max)){var e=b.min[0],f=b.min[1],g=b.min[2],h=b.max[0],i=b.max[1],j=b.max[2];this.width=h-e,this.height=i-f,this.depth=j-g,this.min=Bp.create(),this.max=Bp.create(),uh(this.width,this.height,this.depth,this.min,this.max),Bp.set(.5*(e+h),.5*(f+i),.5*(g+j),d)}g=this.width,h=this.height,i=this.depth,e=b.Uo,null==Hr&&(Hr=new pb({position:new ob(7,3,0),texcoord:new ob(7,2,12),normal:new ob(7,3,20)}));var k,l,m,n,f=new Rb(Hr),g=.5*g,h=.5*h,i=.5*i,j=e?-1:1;k=Tb(f,-g,-h,-i,0,0,-j,0,0),l=Tb(f,-g,-h,+i,1,0,-j,0,0),m=Tb(f,-g,+h,+i,1,1,-j,0,0),n=Tb(f,-g,+h,-i,0,1,-j,0,0),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),k=Tb(f,g,-h,+i,0,0,j,0,0),l=Tb(f,g,-h,-i,1,0,j,0,0),m=Tb(f,g,+h,-i,1,1,j,0,0),n=Tb(f,g,+h,+i,0,1,j,0,0),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),k=Tb(f,+g,-h,-i,0,0,0,0,j),l=Tb(f,-g,-h,-i,1,0,0,0,j),m=Tb(f,-g,+h,-i,1,1,0,0,j),n=Tb(f,+g,+h,-i,0,1,0,0,j),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),k=Tb(f,-g,-h,+i,0,0,0,0,-j),l=Tb(f,+g,-h,+i,1,0,0,0,-j),m=Tb(f,+g,+h,+i,1,1,0,0,-j),n=Tb(f,-g,+h,+i,0,1,0,0,-j),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),k=Tb(f,-g,-h,-i,0,0,0,-j,0),l=Tb(f,+g,-h,-i,1,0,0,-j,0),m=Tb(f,+g,-h,+i,1,1,0,-j,0),n=Tb(f,-g,-h,+i,0,1,0,-j,0),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),k=Tb(f,-g,+h,+i,0,0,0,j,0),l=Tb(f,+g,+h,+i,1,0,0,j,0),m=Tb(f,+g,+h,-i,1,1,0,j,0),n=Tb(f,-g,+h,-i,0,1,0,j,0),e?Vb(f,n,m,l,k):Vb(f,k,l,m,n),e=f.hb(),a=new ya(a,e),nb.call(this,a,c),b.name&&this.fb(b.name),eb(this,d)}}function uh(a,b,c,d,e){a=.5*a,b=.5*b,c=.5*c,Bp.set(-a,-b,-c,d),Bp.set(+a,+b,+c,e)}function vh(a,b,c){if(a instanceof vh)th.call(this,a);else if(a instanceof sh){var d=b||ip;b=J(d.size,1e3),a=a.oj(),d={name:d.name,width:b,height:b,depth:b,Uo:!0},this.cf=0,this.ed=3;var e={},f=.5*b;e[1]={origin:Bp.create(+f,+f,+f),Xh:Bp.create(0,-1,0),Yh:Bp.create(0,0,-1),min:Ap.create(+b,+b),max:Ap.create(0,0),face:1},e[3]={origin:Bp.create(-f,-f,+f),Xh:Bp.create(0,1,0),Yh:Bp.create(0,0,-1),min:Ap.create(0,+b),max:Ap.create(+b,0),face:3},e[0]={origin:Bp.create(-f,+f,+f),Xh:Bp.create(1,0,0),Yh:Bp.create(0,0,-1),min:Ap.create(0,+b),max:Ap.create(+b,0),face:0},e[2]={origin:Bp.create(+f,-f,+f),Xh:Bp.create(-1,0,0),Yh:Bp.create(0,0,-1),min:Ap.create(+b,+b),max:Ap.create(0,0),face:2},e[5]={origin:Bp.create(-f,-f,+f),Xh:Bp.create(1,0,0),Yh:Bp.create(0,1,0),min:Ap.create(0,0),max:Ap.create(+b,+b),face:5},e[4]={origin:Bp.create(-f,+f,-f),Xh:Bp.create(1,0,0),Yh:Bp.create(0,-1,0),min:Ap.create(0,+b),max:Ap.create(+b,0),face:4},this.b=e,this.da=b,th.call(this,a,d,c),this.fb("panoramaCube"),_a(this,Ft)}}function wh(a,b,c,d,e,f,g){if(!(d<a.cf||d>a.ed)){var h=1<<d;if(!(0>e||e>=h||0>f||f>=h)){var i=a.b[c],j=i.Xh,k=i.Yh,l=1/h,m=(i.max[0]-i.min[0])*l,n=(i.max[1]-i.min[1])*l,h=i.min[0]*l+e*Math.abs(m),l=i.min[1]*l+f*Math.abs(n),m=h+m,n=l+n,o=Bp.A(i.origin);Bp.cb(o,j,h,o),Bp.cb(o,k,l,o),i=Bp.A(i.origin),Bp.cb(i,j,m,i),Bp.cb(i,k,n,i),!xh(b,o,i)&&g(c,d,e,f)&&(d+=1,e*=2,f*=2,j=e+1,k=f+1,wh(a,b,c,d,e,f,g),wh(a,b,c,d,j,f,g),wh(a,b,c,d,e,k,g),wh(a,b,c,d,j,k,g))}}}function xh(a,b,c){return Sa(a,function(a){return 0>Qa(a,b[0],b[1],b[2],c[0],c[1],c[2])?!0:void 0})}function yh(){}function zh(a,b,c,d,e){var f=new yh;switch(f.dataType=a,f.me=b,f.a=[c,d],void 0!=e&&(f.a[2]=e),a){case 8:case 9:case 10:case 6:f.G=Gh(b,c,d,256);break;case 4:a=1<<b,d=Math.floor((d/360+.5)*a),c=Math.floor((Math.log(Math.tan((90+c)*np))*lp+1)*a*.5),f.G=[b,d,a-1-c];break;case 0:case 1:case 2:case 5:a=1<<b,d=Math.floor((d/360+.5)*a),c=Math.floor((Math.log(Math.tan((90+c)*np))*lp+1)*a*.5),f.G=[b,d,c]}return f}function Ah(a,b){var c=new yh;return c.dataType=a,c.me=b[0],c.G=b,c}function Bh(a){"/"!=a.substr(-1)&&(a+="/"),Or=a}function Ch(a,b){var c="?";if(Jr.length&&Kr.length&&(a+=c+"app_id="+Jr+"&app_code="+Kr,c="&"),b)for(var d in Mr)a+=c+d+"="+Mr[d];return a=Lr?a.replace("http://","https://"):a.replace("https://","http://")}function Dh(a,b){if(!Pr)return b;if(0==b.indexOf("http://1.")||0==b.indexOf("https://1.")){var c=b.substr(0,b.indexOf("//")+2);b=b.substr(b.indexOf(".")+1),c=4>a.G[0]?c+"1.":8>a.G[0]?c+"2.":12>a.G[0]?c+"3.":c+"4.",b=c+b}return b}function Eh(a,b,c){var d,e=Math.floor((302*a+1e3)/1e3);for(b=b.toString(),b="0000000000".slice(0,e-b.length)+b,c=c.toString(),c="0000000000".slice(0,e-c.length)+c,d=0;e-2>d;d+=2)a+="/",a+=b.charAt(d),a+=b.charAt(d+1),a+=c.charAt(d),a+=c.charAt(d+1);for(;e-1>d;d++)a+="/",a+=b.charAt(d),a+=c.charAt(d);return a+"/"}function Fh(a,b,c){return b=O(b.toString(),6),c=O(c.toString(),6),O(a.toString(),2)+"/"+b.substr(0,3)+"/"+c.substr(0,3)+"/"+b.substr(3,2)+"/"+c.substr(3,2)+"/"}function Gh(a,b,c,d){d=d||256;var e=d<<18;c=Math.floor((c/360+.5)*e),b=Math.floor((Math.log(Math.tan((90+b)*np))*lp+1)*e*.5);var f=18-a,g=c>>f,e=e-1-b>>f;return[a,Math.floor(g/d),Math.floor(e/d),g%d,e%d,c,b]}function Hh(a,b){return Gh(a,b[0],b[1],void 0)}function Ih(a,b,c){return a=1<<a,c=op*c/a-kp,c=2*Math.atan(Math.exp(c)),[180*c/kp-90,op*b/a*180/kp-180]}function Jh(a,b,c){return a=1<<a,c=op*(a-1-c)/a-kp,c=2*Math.atan(Math.exp(c)),[180*c/kp-90,op*b/a*180/kp-180]}function Kh(a){return[wp*a[1]-90,wp*a[0]-180,.001*(a[2]||0)]}function Lh(a,b,c){var d=1<<a;return a=32-a,b=[vp*(b+90)>>>0,vp*(c+180)>>>0],(d*((b[0]>>>a)+d)+(b[1]>>>a)).toString(10)}function Mh(a){return li([wp*(a[0]<<14)-90,wp*(a[1]<<14)-180,0])}function Nh(a,b,c){ah.call(this,!0),this.io=c||!1,this.zg=[],this.cf=a,this.ed=b,this.ko=new lh(24),this.Ch="",this.Qi=this.Bl(),this.Ig={},this.fk=!0,this.ek=0,this.ar=this.a(this.cf),this.no=!1}function Oh(a,b,c,d,e){var f=Tr;return a=a.split("/").slice(-6).join("/"),0==f.toLowerCase().indexOf("metacell")&&(f="http://",Pr&&(f+=(0==c?1:d%2*2+e%2+2)+"."),f+="sli.data.here.com"),f=""+f+"/",f+=a,f+="_r"+(c+8),f+="_f"+b,f+="_x"+d,f+="_y"+e,f+=".jpg",f=Ch(f,!0)}function Ph(a){if(Qr||(Qr=new xc(25)),!Qr.get(a)){Qr.set(a,1);var b=mh();Ir.forEach(function(c){c=Oh(a,c,0,0,0),nh(b,c,function(){})})}}function Qh(a){this.e=a,this.a=this.c=this.d=this.b=null}function Rh(a,b,c){if(a.b){if(a.a){var d=a.c;a.a=null,a.c=null,window.setTimeout(function(){d()},0)}a.a=c,a.c=b}else a.b=c,a.d=b,a.d.apply(a.e,a.b)}function Sh(a){a.a?(a.b=a.a,a.d=a.c,a.a=null,a.c=null,window.setTimeout(function(){a.d.apply(a.e,a.b)},0)):(a.b=null,a.d=null)}function Th(a,b){var c={};b=b||0;var d=Vh(a);if(50493!=d.jc())return{error:"No CS3D header"};if(256!=d.jc())return{error:"Expecting version number 1.00"};var e=d.Ad(),f=d.Ad();c.Wj=[f>>>0,e>>>1,0];var g=d.jc(),h=d.jc(),i=d.jc();c.primitiveType=d.Ib(),e=d.Ib(),f=d.Jb(),g&&(c.Mk={});for(var j=0;g>j;j++){var k=d.Jb(),l=d.$e();c.Mk[l]=d.ql(k-l.length-1)}for(j=new ArrayBuffer(24),g=new Uint8Array(j),k=new Float32Array(j),j=0;i>j;j++){d.$e();var m,l=d.Ib(),n=Array(l);for(m=0;8*l>m;m++)g[3^m]=d.Ib();for(m=0;l>m;m++)n[m]=d.Ib();if(3!=l){var o=7;for(m=0;l>m;m++)o+=h*n[m];d.T+=o>>3}else{m=4*l+b,l=m/4,o=new ArrayBuffer(h*m),m=new Float32Array(o),new Uint8Array(o);for(var o=0,p=n[0],q=n[1],r=n[2],s=k[0],t=k[3],u=p?(t-s)/((1<<p)-1):0,v=k[1],w=k[4],x=q?(w-v)/((1<<q)-1):0,y=k[2],z=k[5],A=r?(z-y)/((1<<r)-1):0,n=0;h>n;n++)m[o]=s+u*d.cj(p),m[o+1]=v+x*d.cj(q),m[o+2]=y+A*d.cj(r),o+=l;c.Ir=[s,v,y,t,w,z],c.O=m}d.ui&&d.T++,d.ui=0}for(h=null,h=new Uint16Array(f),j=0;f>j;j++)h[j]=d.cj(e);return c.Oa=h,d.T>a.byteLength?{error:"CD3D read past eof"}:(c.Mk.visibility&&(c.Ie=c.Mk.visibility,delete c.Mk.visibility),c)}function Uh(a){function b(a){var b=a.Jb()-1,c=a.Jb(),d=a.T;if(!(0>=b)){a.T+=2*b;for(var c=a.$e(),e=[c],f=0;b>f;f++){var g=a.sh(d++),h=a.sh(d++),c=h?c.slice(0,g)+a.$e()+c.slice(-h):c.slice(0,g)+a.$e();e.push(c)}return e}0!=c&&(a.T+=c)}var c={},d=Vh(a),e={256:function(){},258:function(){c.Vn=b(d)},272:function(){},273:function(){h=d.Ib(),i=d.Jb()},274:function(){for(var a=c.Do,b=c.Fo,e=0;i>e;e++)a.push(d.Zj()),b.push(h)},275:function(){for(var a=c.Eo,b=0;i>b;b++)a.push(d.jc())},288:function(){g=d.Jb()},289:function(){for(var a=0;g>a;a++)c.Bb.push({id:d.Zj(),Jm:null,items:[],Wp:[]})},290:function(){for(var a=0;g>a;a++)c.Bb[a].Wj=[d.Ad(),d.Ad(),d.Jb()]},291:function(){var a=c.Bb,b=d.Jb()-1,e=d.Jb(),f=d.T;if(0>=b)0!=e&&(d.T+=e);else{d.T+=2*b;var e=(b+1)/a.length,g=d.$e();a[0].Jm=g;for(var h=0,i=0;b>i;i++){var j=d.sh(f++),k=d.sh(f++),g=k?g.slice(0,j)+d.$e()+g.slice(-k):g.slice(0,j)+d.$e();0==i%e&&(a[h++].Jm=g)}}},292:function(){for(var a=d.Ib(),b=0;g>b;b++){var e=c.Bb[b],f=d.T+a-1;e.items=[],d.T+=a;for(var h=0;a>h;h++)for(var i=d.sh(f-h),j=h<<3;i;)1&i&&e.items.push(j),i>>=1,j++}},293:function(){var a=d.Wn(),b=d.Wn(),e=d.Jb(),f=d.Ib(),b=(b-a)/((1<<f)-1);d.ui=e*f&7;for(var h=0;g>h;h++){for(var i=c.Bb[h],j=i.items.length,k=[],l=0;j>l;l++){var m=a+d.cj(f)*b;k.push(100*m+.5>>0),e--}i.Wp=k}return e?!1:void 0},294:function(){for(var a=0;g>a;a++)c.Bb[a].$p=d.Jb()},295:function(){for(var a=d.Jb(),b=0;g>b;b++)c.Bb[b].$p=a}},f={512:function(){},513:function(){var a=l>>3;c.ds=Array(a);for(var b=0;a>b;b++){var e=d.Ad(),f=d.Ad();2147483648&e&&(f^=4294967295,f+=1,e^=4294967295),c.ds[b]=f+4294967296*e}},514:function(){c.fu=b(d)},515:function(){var a=d.Ib(),b=(l-1)/a>>0;

if(c.Nj=Array(b),1==a)for(var e=0;b>e;e++)c.Nj[e]=d.Ib();if(2==a)for(e=0;b>e;e++)c.Nj[e]=d.jc();return 1>a||a>2?!1:void 0},517:function(){for(var a=c.Nj.length,b=0;a>b;b++){for(var e=c.Nj[b],f=[],g=0;e>g;g++)f.push([d.Ad(),d.Ad()>>>0]);c.Vr[b]=f}delete c.Nj}},g=0,h=0,i=0;if("NSB\r\n\n"!=d.ql(8))return null;var j=d.jc();d.Jb();var k,l=d.Jb();if((j={50624:function(a){return a.up=d.Ib(),a.hr=d.Zj(),a.Do=[],a.Fo=[],a.Eo=[],a.Bb=[],e},54720:function(a){return a.up=d.Ib(),a.Su=d.Ib(),a.Ku=d.Ad(),a.Lu=d.Ad(),a.Vr=[],f}}[j])&&(k=j(c)),!k)return null;do{if(65535==(j=d.jc()))break;if(d.Jb(),l=d.Jb(),j=k[j]){if(!1===j())return null}else d.T+=l}while(d.T<a.length);return c}function Vh(a){function b(a,b){for(var c=0;c<a.length;c++){var d=65536*a[c]+b,e=d/1e5>>0;a[c]=d-1e5*e,b=e}b&&a.push(b)}function c(a){for(var b=""+a.pop();0<a.length;)var c="0000000000"+a.pop(),b=b+c.slice(-5);return b}var d=!1,e={};if(d||(d=!1),e.T=0,e.ui=0,e.Gu=0,a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a instanceof Uint8Array?(e.Ib=function(){return e.Ke[e.T++]},e.sh=function(a){return e.Ke[a]},e.Zp=function(){return String.fromCharCode(e.Ke[e.T++])},e.$e=function(){for(var a,b="";a=e.Ib();)b+=String.fromCharCode(a);return b},e.ql=function(a){for(var b="";a--;)b+=String.fromCharCode(e.Ib());return b}):(e.Ib=function(){return 255&e.Ke.charCodeAt(e.T++)},e.sh=function(a){return 255&e.Ke.charCodeAt(a)},e.Zp=function(){return e.Ke[e.T++]},e.$e=function(){for(var a=e.T;e.Ke.charCodeAt(e.T++););return e.Ke.slice(a,e.T-1)},e.ql=function(a){var b=e.Ke.slice(e.T,e.T+a);return e.T+=a,b}),e.cj=function(a){var b=((f[e.T++]<<8|f[e.T++])<<16|f[e.T++]<<8|f[e.T++])>>>0>>>32-e.ui-a&(1<<a)-1;return a+=e.ui,e.ui=7&a,e.T+=(a>>3)-4,b},e.Ke=a,e.mq=a.length,e.xt=function(){return e.T>=e.mq},d)e.jc=function(){return e.Ib()|e.Ib()<<8},e.Jb=function(){return e.jc()|e.jc()<<16},e.Zj=function(){var a,d=[];for(a=0;3>a;a++)d.push(e.jc());var f=[e.jc()];for(a=0;3>a;a++)b(f,d.pop());return c(f)};else{var f=e.Ke;e.jc=function(){return f[e.T++]<<8|f[e.T++]},e.Jb=function(){return(f[e.T++]<<8|f[e.T++])<<16|f[e.T++]<<8|f[e.T++]},e.Ad=function(){return((f[e.T++]<<8|f[e.T++])<<16|f[e.T++]<<8|f[e.T++])>>>0},e.Zj=function(){for(var a=[e.jc()],d=0;3>d;d++)b(a,e.jc());return c(a)}}return e.Ad=function(){return e.Jb()>>>0},e.Wn=function(){var a=e.Ad(),b=a>>23&255,c=8388607&a;return b&&(c|=8388608),2147483648&a&&(c=-c),Math.pow(2,b-128-22)*c},e}function Wh(a){this.id=a.hr,this.a=a.up,Wo(),this.Bb=null;var b,c;for(this.Bb=new Ug(this,a.Bb.length),b=0,c=a.Bb.length;c>b;b++){var d=a.Bb[b],e=d.id,f=d.Jm.split("/");f.pop();var g,f=f.join("/")+"/"+e,h=Kh(d.Wj),i=[],j=[];g=d.items.length;for(var k=0;g>k;k++){var l,m;l=d.items[k],m=d.Wp[k];var n=a.Do[l],o=a.Fo[l];if(l=a.Eo[l],a.Vn)switch(o){case 0:j.push({URL:a.Vn[l],If:n,wq:m});break;case 1:i.push({URL:a.Vn[l],Ii:n,wq:m})}else So()}d=pi(h),this.Bb.set(b,e,d,h,d,f,i,j)}return this}function Xh(a,b){a.sort(function(a,c){return Bp.distance(a.eb(),b)-Bp.distance(c.eb(),b)})}function Yh(a){this.c=mh(),this.a=new xc(Vr),this.e=new xc(20),this.b=new xc(Xr),this.d=a}function Zh(a,b){var c,d=a.a.keys,e=d.length;for(c=0;e>c;c++){var f=a.a.a[d[c]],g=f.value.yk(b);if(g)return a.a.fl(f),g}return null}function $h(a,b,c,d,e,f,g,h){null===c&&(c=b),c=di(a,c,f),ei(a,c,function(a){for(var c=[],i=0;i<a.length;i++){var j=a[i];if(j.$a&&(j=j.Rb)){var k=null;if(k=fa(b[2])?j.xk(b,f,g):j.pm(b,f,g,1.01))for(j=0;j<k.length;j++)c.push(k[j])}}if(0<c.length){if(I(h))c.sort(function(a,b){return a.distance-b.distance});else{for(a=_h(h,b);0>a;)a+=360;for(;a>=360;)a-=360;for(j=0;j<c.length;j++){var i=c[j],k=_h(h,Tg(i)),l=Math.abs(a-k);l>180&&(l=360-l),i.gt=k,i.ct=l,i.Kp=.1*i.distance+.01*i.distance*i.distance+.5*l}c.sort(function(a,b){return a.Kp-b.Kp})}d(c.slice(0,e))}else d(jp)})}function _h(a,b){var c=a[0]*pp,d=b[0]*pp,e=(b[1]-a[1])*pp,f=Math.sin(e)*Math.cos(d),c=Math.cos(c)*Math.sin(d)-Math.sin(c)*Math.cos(d)*Math.cos(e);return(Math.atan2(f,c)*qp+360)%360}function ai(a,b,c,d,e){var f,g=pi(b),h=di(a,b,50),i=[];for(f in h){var j=h[f],k=a.a.get(f);if(null!=k&&(j.Rb=k,j.$a=!0,j=k.xk(b,d,c)))for(k=0;k<j.length;k++)i.push(j[k])}return Xh(i,g),e&&e>0&&i.length>e?i.slice(0,e):i}function bi(a,b,c){b=di(a,b,c?c:50),c=[];for(var d=0;d<b.length;d++){var e=a.a.get(b[d].hh);null!=e&&c.push(e)}return c}function ci(a,b,c,d){if(b.$a)d(b,b.Rb);else{var e=b.url;ph(a.c,e,function(f,g){if(g.Ub())if(f){var h,i=Ur(f),j=null,k=Wr,l=0;for(h in i){var m,n=k;if(!k)for(m=0;m<c.length;m++){var o=c[m];o.$a||h!=o.hh+".nsb"||(n=!0)}if(n&&(m=i[h],"0"==m.Dn&&m.$a)){for(n=a.a.get(h.substr(0,h.length-4)),n||(m=Uh(m.Sg),n=new Wh(m),n.Bb?a.a.set(n.id,n):a.b.set(e,e)),l++,m=0;m<c.length;m++)o=c[m],o.$a||h!=o.hh+".nsb"||(o.Rb=n,o.$a=!0);h==b.hh+".nsb"&&(j=n)}}j?d(b,j):d(b,null)}else a.b.set(e,e),d(b,null);else g.ii()==Ar.ERROR&&a.b.set(e,e),d(b,null)},3e4)}}function di(a,b,c,d){var e;e=[vp*(b[0]+90)>>>0,vp*(b[1]+180)>>>0],e=[e[0]>>>14,e[1]>>>14],b=ki(b);var f,g=[],h=fa(d)?Zr:d,i=-h;for(f=i;h>=f;f++)for(d=i;h>=d;d++){var j=[e[0]+d,e[1]+f],k=Mh(j),j=Mh([j[0]+1,j[1]+1]),j=Bp.ma(k,j,.5),l=ki(j),k=hi(ki(k),l);if(!(hi(b,l)-k>c)){var k=a,l=zh(5,17,j[0],j[1]),m=Lh(18,l.a[0],l.a[1]),k=k.a.get(m),k={Pl:l,hh:m,a:j,url:l.xb(),Rb:k,$a:null!=k};a.d?(l=k.Pl.G,j=Ih(l[0],l[1],l[2]),l=Ih(l[0],l[1]+1,l[2]-1),j=a.d(j[0],j[1],l[0],l[1])):j=!0,j&&g.push(k)}}return g}function ei(a,b,c){b&&0!=b.length?fi(a,b,c):c(jp)}function fi(a,b,c){var d,e=!1,f=0,g=0,h=0,i={},j={};for(d=0;d<b.length;d++){var k=b[d];void 0!=i[k.url]?i[k.url].push(k):i[k.url]=[k]}var l=null;for(l in i){var m=i[l];if(void 0!=a.b.a[l])for(h++,d=0;d<m.length;d++)k=m[d],k.$a=!1,k.Rb="ERROR";else for(d=0;d<m.length;d++){var k=m[d],n=a.a.get(k.hh);null!=n&&(g++,k.Rb=n,k.$a=!0),null==k.Rb&&void 0==j[l]&&(f++,j[l]=k)}}if(0==f)e=!0,c(b);else for(f in f=null,j)ci(a,j[f],b,function(f,g){if(!g||"ERROR"==g||!g.id)for(f.$a=!1,f.Rb="ERROR",d=0;d<b.length;d++)b[d].url==f.url&&(b[d].$a=!1,b[d].Rb="ERROR");for(var h,i=h=0;i<b.length;i++)null==a.a.get(b[i].hh)&&"ERROR"!=b[i].Rb&&h++;Wo(),0!=h||e||(e=!0,c(b))})}function gi(a,b){var c=Yr,d=$r;if(!(1>c)){for(var c=di(a,b,c,d),d=new pn,e=c.length-1;e>=0;e--){var f=c[e];void 0!=a.b.a[f.url]||a.a.get(f.hh)?c.splice(e,1):d.set(f.url,1)}d.forEach(function(b){a.e.get(b)||ph(a.c,b,function(c,d){d.Ub()?c?a.e.set(b,1):a.b.set(b,b):d.ii()==Ar.ERROR&&a.b.set(b,b)})})}}function hi(a,b){return 6371e3*Math.acos(S(Math.sin(a[0])*Math.sin(b[0])+Math.cos(a[0])*Math.cos(b[0])*Math.cos(b[1]-a[1]),-1,1))}function ii(a,b,c){return 6371e3*Math.acos(S(Math.sin(a)*Math.sin(c[0])+Math.cos(a)*Math.cos(c[0])*Math.cos(c[1]-b),-1,1))}function ji(a,b,c,d){return a=ii(a,b,d),2<d.length&&!fa(c)&&!fa(d[2])&&0!=c&&0!=d[2]&&(c=Math.abs(d[2]-c),a=Math.sqrt(a*a+(fa(1.01)?1:1.01)*c*c)),a}function ki(a){return[a[0]*pp,a[1]*pp]}function li(a){for(;-90>a[0];)a[0]+=180;for(;90<a[0];)a[0]-=180;for(;-180>a[1];)a[1]+=360;for(;180<a[1];)a[1]-=360;return a}function mi(a,b){if(b=b||Bp.create(),a[0]||a[1]||a[2]){var c=a[1]*pp,d=a[0]*pp,e=Math.sin(d),d=Math.cos(d),f=6378137/Math.sqrt(1-bs*e*e);b[0]=(f+a[2])*d*Math.cos(c),b[1]=(f+a[2])*d*Math.sin(c),b[2]=(f*(1-bs)+a[2])*e}else b[0]=0,b[1]=0,b[2]=0;return b}function ni(a){var b;if(b=b||Bp.create(),a[0]||a[1]||a[2]){var c=1.00336409*a[2],d=Math.sqrt(a[0]*a[0]+a[1]*a[1]+c*c);if(0===d)return b=[0,0,0];d=1/d,b[0]=a[0]*d,b[1]=a[1]*d,b[2]=c*d}else b[0]=0,b[1]=0,b[2]=1;return b}function oi(a){return a=ti(a),pi(a).slice(3,7)}function pi(a){var b;b=b||Bp.create();var c=a[1]*pp,d=a[0]*pp,e=Math.sin(d),f=Math.cos(d),g=Math.cos(c),h=Math.sin(c),c=f*g,d=f*h,i=e*g,j=e*h,k=6378137/Math.sqrt(1-bs*e*e),l=Bp.create(-c,-d,-e),g=Bp.create(-h,g,0),f=Bp.create(-i,-j,f),f=Ba(f[0],g[0],l[0],0,f[1],g[1],l[1],0,f[2],g[2],l[2],0,1,1,1,1),f=wa(f);return a=a[2]||0,qa(f,ua(0*pp,180*pp,90*pp),f),b[0]=(k+a)*c,b[1]=(k+a)*d,b[2]=(k*(1-bs)+a)*e,b[3]=f[0],b[4]=f[1],b[5]=f[2],b[6]=f[3],b}function qi(a){var b;if(b=b||Bp.create(0,1,0),a[0]||a[1]||a[2]){if(3===a.length){var c=oi(a);a=a.concat(c)}a=a.slice(3,7),c=Ba(),Bp.create(0,1,0),va(a,c),Bp.I(c,b,b)}else b[0]=0,b[1]=1,b[2]=0;return b}function ri(a){var b=a.slice(3,7),c=Ba();return va(b,c),b=Ba(),Ia(a[0],a[1],a[2],b),a=Ba(),Da(b,c,a),a}function si(a){var b=a.slice(3,7),c=Ba();if(va(b,c),b=Fa(c),null===b)return[];var d=Ba();return Ia(-a[0],-a[1],-a[2],d),Da(b,d,c),c}function ti(a){var b,c=a[0],d=a[1],e=a[2];if(b=b||[],c||d||e){a=Math.sqrt(c*c+d*d);var f=Math.atan(e/(a*Math.sqrt(1-bs))),c=Math.atan2(d,c),d=Math.sin(f),e=Math.atan((e+6378137*Math.pow(d,3)*bs/Math.sqrt(1-bs))/(a-6378137*bs*Math.pow(Math.cos(f),3))),f=Math.sin(e);a=a/Math.cos(e)-6378137/Math.sqrt(1-bs*f*f),b[0]=e*qp,b[1]=c*qp,b[2]=a}else b[0]=0,b[1]=0,b[2]=0;return b}function ui(a,b){this.Xc=a,this.zf=b}function vi(a){this.kb=a,this.a=[]}function wi(a,b,c,d){b*=pp,c*=pp;var e;a:{e=d+0;for(var f=a.a.length;0<=--f;){var g=a.a[f],h=e;if(ii(b,c,g.Xc)+h<g.zf){e=!0;break a}}e=!1}e||(d=new ui([b,c],d+0),15<=a.a.length&&a.a.splice(0,1),a.a.push(d))}function xi(a,b,c,d){b*=pp,c*=pp;for(var e=a.a.length;0<=--e;){var f=a.a[e],g=f,h=d;if(ii(b,c,g.Xc)+g.zf<h)return!0;if(g=d,ii(b,c,f.Xc)+g<f.zf)return!1}}function yi(a,b,c,d,e,f,g){this.url=a,this.Sh=b,this.b=c,this.a=d,this.ni=e,this.fg=f,this.Ec=g,this.tp=0}function zi(){this.n=mh(),this.a=null,this.j=new xc(cs),this.d=new xc(ds),this.o=this.b=null,this.g=this.e=0,this.c=8}function Ai(){return as||(as=new zi),as}function Bi(a,b){switch(b){case 1:a.c=6;break;case 2:a.c=8;break;case 3:a.c=9;break;case 4:a.c=10;break;default:a.c=6}a.clear()}function Ci(a,b,c,d){if(null==a.a||b){var e=zh(a.c,0,0,0),f=e.xb();nh(a.n,f,function(b,g){g.Ub()?(a.a=Gi(a,f,e,b),a.a?c&&"function"==typeof c&&window.setTimeout(function(){c(a.a)},0):d&&"function"==typeof d&&d("invalid coverage file file: "+f)):d&&"function"==typeof d&&d("could not load coverage file file: "+f)})}else c&&"function"==typeof c&&window.setTimeout(function(){c(a.a)},0)}function Di(a,b,c,d,e,f){a.g=0,Hi(a,0,[b,c],d,function(a,b){var c=!fa(b)&&b>=4;void 0==a?e(!1,void 0,c):e(d>=a,a,c)},!0,null,-1,f?4:12)}function Ei(a,b){for(var c=[4,8,12],d=0;d<c.length;d++){var e=c[d],f=null,g=null;0==e&&null!=a.a?f=a.a:(g=zh(a.c,e,b[0],b[1]),f=g.xb(),f=a.j.get(f)),g=g.xb(),f||void 0!=a.d.get(g)||nh(a.n,g,function(a,b){b.Ub(),b.xb()})}}function Fi(a,b,c,d){if(a.e=0,a.g=0,null!=a.a)Ni(a,a.a,b,b,c,d,function(b,e,f,g,h){a.e++,Ii(a,b,e,c,f,d,g,h),a.e--});else{var e=Hh(0,b);Ii(a,b,b,c,e,d,!0)}}function Gi(a,b,c,d){var e;e=d.width;var f=d.height;if(!a.b||e==a.b.width&&f==a.b.height||(document.removeChild(a.b),a.b=null,a.o=null),!a.b){a.b=document.createElement("canvas"),a.o=a.b.getContext("2d");var g=a.b.webkitBackingStorePixelRatio||1;1!=g&&fa(a.o.webkitGetImageDataHD)&&(g=1),a.b.width=e/g,a.b.height=f/g}return e=a.o,f=e.webkitBackingStorePixelRatio||1,1!=f&&fa(e.webkitGetImageDataHD)&&(f=1),e.clearRect(0,0,d.width,d.height),e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,d.width/f,d.height/f),e.drawImage(d,0,0,d.width/f,d.height/f),(e=1==f?e.getImageData(0,0,d.width,d.height):e.webkitGetImageDataHD(0,0,d.width,d.height))&&e.data&&0==e.data[3]?null:(d=new yi(b,c,Jh(c.G[0],c.G[1],c.G[2]),Jh(c.G[0],c.G[1]+1,c.G[2]-1),d.width,d.height,e),0==c.me?a.a=d:a.j.set(b,d),a=d.ni,b=d.fg,e=ki(d.b),f=ki(d.a),c=hi(e,[f[0],e[1]]),e=hi(e,[e[0],f[1]]),a=10*Math.min(c/a,e/b),d.tp=a,d)}function Hi(a,b,c,d,e,f,g,h,i){if(F(20>a.g++),20<a.g)e(null);else{var j=null,k=null,l=null;0==b&&null!=a.a?(j=a.a,k=a.a.Sh,l=a.a.url):(k=zh(a.c,b,c[0],c[1]),l=k.xb(),j=a.j.get(l));var m=function(j){j=Ki(j,c);var l=Math.min(b+4,i);k.me>=l?1677721>j?e(j,k.me):e(g,h):f?1677721>j?Hi(a,l,c,d,e,f,j,k.me,i):e(g,h):e(j,k.me)};j?m(j):void 0!=a.d.get(l)?b>0?e(g,h):e(null):nh(a.n,l,function(f,j){if(j.Ub()){var n=Gi(a,l,k,f);n?m(n):(j.xb(),a.d.set(l,l),e(g,h))}else j.xb(),j.ii()==Ar.ERROR&&a.d.set(l,l),b>0?Hi(a,b-1,c,d,e,!1,g,b,i):e(g)})}}function Ii(a,b,c,d,e,f,g,h){if(a.g++,20<a.g)f(null);else{var i=e[0],j=Ah(a.c,e),k=j.xb();if(void 0!=a.d.get(k))g&&i>0?(e=Hh(i-1,c),Ii(a,b,c,d,e,f,g,h)):f(h);else{var l=function(b,c,e,g,h){a.e++,Ii(a,b,c,d,e,f,g,h),a.e--};(e=a.j.get(k))?Ni(a,e,b,c,d,f,l):nh(a.n,k,function(e,m){if(m.Ub()){var n=Gi(a,k,j,e);n?Ni(a,n,b,c,d,f,l):(a.d.set(k,k),g&&i>0?(n=Hh(i-1,c),Ii(a,b,c,d,n,f,g,h)):f(h))}else m.xb(),m.ii()==Ar.ERROR&&a.d.set(k,k),g&&i>0?(n=Hh(i-1,c),Ii(a,b,c,d,n,f,g,h)):f(h)})}}}function Ji(a,b,c){var d=18-a.Sh.G[0];return b=(256*a.Sh.G[1]+b+(fa(void 0)?.5:void 0))*(1<<d),a=op*(67108863-(256*a.Sh.G[2]+c+(fa(void 0)?.5:void 0))*(1<<d))/67108864-kp,a=2*Math.atan(Math.exp(a)),[180*a/kp-90,op*b/67108864*180/kp-180]}function Ki(a,b){var c=Hh(a.Sh.G[0],b);return Li(a.Ec,c[3],c[4])}function Li(a,b,c){return b=4*(b+c*a.width),.1*(16777215-((a.data[b+0]<<16)+(a.data[b+1]<<8)+a.data[b+2]))}function Mi(a,b){var c=a[0],d=Math.floor(67108864*(b[1]/360+.5)),e=Math.floor(33554432*(Math.log(Math.tan((90+b[0])*np))*lp+1)),c=18-c;return[(d>>c)-256*a[1],(67108863-e>>c)-256*a[2]]}function Ni(a,b,c,d,e,f,g){var h=b.Sh,i=b.ni,j=b.fg,k=h.me,l=Mi(h.G,c),m=S(l[0],0,255),n=S(l[1],0,255),o=!1,p=Li(b.Ec,m,n);if((p>1677721||l[0]!=m||l[1]!=n)&&p>1677721){for(var l=!1,p=Mi(h.G,d),o=S(p[0],0,255),q=S(p[1],0,255);!l&&(m!=o||n!=q);)m>o?m--:o>m&&m++,n>q?n--:q>n&&n++,p=Li(b.Ec,m,n),1677721>p&&(l=!0);o=!l}for(o&&(l=Mi(h.G,d),m=S(l[0],0,255),n=S(l[1],0,255)),p=0,l=ki(c),o=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]];;){var r=q=0,s=0,t=Li(b.Ec,m,n);if(t>e+b.tp){f(null);break}if(0==t){var u=null,u=0==p?d:Ji(b,m,n);12>k?(a=Math.min(k+4,12),b=1<<18-k,k=256<<18-k,f=256<<18-a,h=[a,Math.floor((h.G[1]*k+m*b)/f),Math.floor((h.G[2]*k+n*b)/f)],g(c,u,h,!1,u)):f(u);break}var v,w,x,y=0,z=0,A=0,B=0,C=gs;for(v=0;v<C.length;v++){w=C[v][0],x=C[v][1];var D=m+w,E=n+x;if(!(0>D||0>E||D>=i||E>=j)){if(D=Li(b.Ec,D,E),0==D)o[q][0]=w,o[q][1]=x,q++;else if(D>1677721)continue;D-=t,D>r?(r=D,y=-w,z=-x):s>D&&(s=D,A=w,B=x)}}var F;if(q>0)if(q>1)for(r=Number.MAX_VALUE,v=0;q>v;v++)D=m+o[v][0],E=n+o[v][1],D=hi(l,ki(Ji(b,D,E))),r>D&&(F=o[v][0],u=o[v][1],r=D);else F=o[0][0],u=o[0][1];else r>-s?(F=y,u=z):(F=A,u=B);if(0==F&&0==u){f(null);break}if(m+=F,n+=u,0>m||0>n||m>=i||n>=j){F=0>m?-1:m>=i?1:0,u=0>n?-1:n>=j?1:0,d=h.G[1]+F,h=h.G[2]+u,u=1<<k,0>d&&(d=u-d),d>=u&&(d-=u),0>h&&(h=u-h),h>=u&&(h-=u),h=[k,d,h],u=Ji(b,m,n),g&&a.e<es?g(c,u,h,!1,u):f(u);break}p++}}function Oi(){this.a=new Yh(function(a,b,c,d){var e=Ai();if(is)a=!0;else if(null==e.a)a=void 0;else{var f=.65*hi(ki([a,b]),ki([c,d]));a=Ki(e.a,[X(a,c,.5),X(b,d,.5)])<=f}return!0===a||void 0===a}),this.b=Ai(),this.d=new Qh(this),this.e=new Qh(this),this.c=new vi(this.kb)}function Pi(a,b,c){if(is)c&&c(!0);else{var d=Ai();a=null==d.a?void 0:Ki(d.a,a)<=b,c&&c(a)}}function Qi(){}function Ri(){return ks||(ks=new Qi),ks}function Si(a,b,c,d,e,f,g){oh(mh(),ls+b+"/"+c+"/"+d+"/?l="+(fa(g)?1:g)+"&f="+(fa(-1)?0:-1),function(a,b){if(b.Ub()&&a){var c,d=window.JSON.parse(a);if(c=d instanceof Array){var h=fa(g)?1:g;c=fa(-1)?0:-1;var i,h=null!=d&&d.length<=h;for(i in d){var j=d[i],h=h&&ha(j.id);if(0==c||1==c){if(j.geo)for(var k=0;3>k;k++)var l=j.geo[k],h=h&&!isNaN(l)&&ga(l);else h=!1;h=h&&ha(j.baseUrl),ja(j.cameraOrientation),j.cameraOrientation?(k=parseFloat(j.cameraOrientation.heading),l=parseFloat(j.cameraOrientation.attitude),j=parseFloat(j.cameraOrientation.bank),h=(h=(h=h&&!isNaN(k)&&ga(k))&&!isNaN(l)&&ga(l))&&!isNaN(j)&&ga(j)):h=!1}}c=h}c?e(d):f()}else f()})}function Ti(){this.a=new Yh,this.c=new Qh(this),this.b=new vi(this.kb)}function Ui(a,b){for(var c=[b[0]*pp,b[1]*pp,b[2]],d=0,e=a.length;e>d;d++){var f=a[d];f.distance=ji(f.km[0]*pp,f.km[1]*pp,f.km[2],c)}a.sort(function(a,b){return a.distance-b.distance})}function Vi(a,b,c,d){Rh(a.c,function(b,c,e,f){fa(b)?d(void 0):this.Bh(b,null,function(c){var e=null!=c&&0<c.length,f=null;c&&0<c.length&&(f=hi(b,c[0].ta.get()),Ti.useCoverageOptimizerResult&&wi(a.b,b[0],b[1],f),Ti.useCoverageOptimizerResult&&wi(a.b,b[0],b[1],f)),window.setTimeout(function(){Sh(a.c),d(e)},0)},1,c,e,f,void 0)},[b,c,0,100>=c,void 0])}function Wi(){}function Xi(){return ns||(ns=Wi.usePssService?new Ti:new Oi),ns}function Yi(a){a instanceof Yi?this.A(a):(this.xa=os(),this.a=this.b=0,this.p=15,this.v=!0,this.o=this.n=65535,this.g=0,this.d=65535,this.j=0,this.e=65535,this.H=1,this.va=!1,this.M=this.aa=0,this.c=[0,0,0,0],this.s=[0,1],Zi(this,!0),$i(this),ej(this,!0),this.a=Q(this.a,9,2,0),gj(this),this.a=Q(this.a,6,1,1),gj(this),aj(this,7,0,65535),bj(this,1))}function Zi(a,b){a.b=Q(a.b,31,1,b?1:0),gj(a)}function $i(a){a.b=Q(a.b,30,3,2),gj(a)}function _i(a,b){a.b=Q(a.b,24,1,b?1:0),gj(a)}function aj(a,b,c,d){var e=J(c,0),f=J(d,65535);a.b=Q(a.b,23,3,b),a.g=e,a.d=f,gj(a),c=J(c,0),d=J(d,65535),a.b=Q(a.b,11,3,b),a.j=c,a.e=d,gj(a)}function bj(a,b){a.b=Q(a.b,20,9,72|7&b),gj(a),a.b=Q(a.b,8,9,72|7&b),gj(a)}function cj(a,b){a.a=Q(a.a,31,1,b?1:0),gj(a)}function dj(a,b,c,d,e){d=J(d,b),e=J(e,c),a.a=Q(a.a,30,4,b),a.a=Q(a.a,26,4,c),a.a=Q(a.a,22,4,d),a.a=Q(a.a,18,4,e),gj(a)}function ej(a,b){a.a=Q(a.a,10,1,b?1:0),gj(a)}function fj(a,b,c){a.c[0]=b,a.c[1]=0,a.c[2]=0,a.c[3]=c,gj(a)}function gj(a){a.xa=os()}function hj(a,b,c){return a=jj(a.ea,b,c,!0,!1,null,!1).distance,c&&c>0?c>a:a<Number.MAX_VALUE}function ij(a,b,c,d,e,f,g){return e&&e.length?(a=Gn(d,new wj(a,b)),d=Hn(d,a),c=c.Wg().rj(d),(e=jj(e,c,null,!1,f,null,g))&&e.object?{point:e.Bm,xj:e.xj,object:e.object,Ab:e.Ab,distance:e.distance,oc:e.oc}:null):null}function jj(a,b,c,d,e,f,g){var h,i=Fb(),j=Bp.create(),k=Bp.create(),l=Bp.create(),m=Bp.create(),n=Number.MAX_VALUE,o=null,p=void 0,q=void 0;g&&(p={});for(var r=0;r<a.length;r++){var s=a[r];if(!e||s.Qa()){if(Ib(jb(s),b,i),c&&c>0&&(h=s.sc())&&h instanceof Eb){var t=c+h.qj();if(Bp.distance(h.wk(),i)>t)continue}if((h=s.fr)&&!h.Yl(i)&&(h=Mb(i,h.Zb,h.Nb),0>h||c>0&&h>c))continue;if(h=s.$h(i,m,p),h>0){var t=Jb(i,h),u=ib(s),u=Bp.I(u,t),v=Bp.distance(Hb(b),u);if(s.R&&0>s.R&&(v=0),f){Bp.normalize(m,m);var w=Bp.tf(ib(s),m),w={xj:t,Bm:u,object:s,distance:v,Ab:w};g&&(w.oc={J:p.J,W:p.W,Ye:p.Ye,Gi:p.Gi,tg:p.tg,ug:p.ug,Nc:p.Nc,Oc:p.Oc}),f.push(w)}if(n>v&&(o=s,Bp.A(m,l),Bp.A(t,j),Bp.A(u,k),n=v,g&&(q=p,p={})),d&&(0>=c||c>=h))break}}}return f&&0<f.length?(f.sort(function(a,b){return a.object.R&&0>a.object.R?-1:a.distance-b.distance}),f[0]):(o&&(Bp.normalize(l,l),Bp.tf(ib(o),l,l)),w={xj:j,Bm:k,object:o,distance:n,Ab:l},g&&(w.oc=q),w)}function kj(a){this.a=a,this.canvas=a.f.c.kj()}function lj(a,b,c,d,e){var f=[];d=d||!1;var g=null;for(e||(g=[ps.PLACE,ps.TERRAIN,ps.BUILDING,ps.PANORAMA,ps.ROUTE],qs&&g.push(ps.ROAD)),e=e||g,g=0;g<e.length;g++)f=f.concat(nj(a,e[g]));return a.a.f.$g().update(),(b=ij(b,c,a.a.f.Ca,a.a.f.Ea,f,d,!0))?(c=oj(b.object),c.point=b.point,c.Ab=b.Ab,c.Pn=void 0,b.object&&b.object.Y?c.Y=b.object.Y:b.oc&&b.oc.Oc&&(c.Y=b.oc.Oc.Y),qs&&c.type===ps.ROAD&&b.oc&&b.oc.Oc&&b.oc.Oc.Y&&(f=b.oc.Oc.Y.start,e=b.oc.Oc.Y.end,f&&e&&a.a.f.Ca&&(d=a.a.f.Ca.S,a=ib(a.a.f.k.bd),f=Bp.I(a,f),a=Bp.I(a,e),c.Pn=Hc(f,a,d,b.point))),c):null}function mj(a,b){var c=a.a.a.d,d=c.a.cursor;d&&(c.b=b,b!==d.Qa()&&(d.F(b),ik(c,!0)))}function nj(a,b){switch(b){case ps.PLACE:return Zn(a.a.f);case ps.PANORAMA:return[];case ps.BUILDING:return Yn(a.a.f);case ps.TERRAIN:return Xn(a.a.f);case ps.ROAD:return $n(a.a.f);case ps.ROUTE:return _n(a.a.f);default:return[]}}function oj(a){var b=ps.TERRAIN,c=a.getName();return a.sa===Lt||a.sa===Nt||a.sa===Kt||a.sa===Mt?b=ps.PLACE:a.sa===Ot?b=ps.PANORAMA:a.sa===St.BUILDING||a.sa===Gt?b=ps.BUILDING:a.sa===St.TERRAIN?b=ps.TERRAIN:a.sa===Ht||a.sa===It?b=ps.ROAD:a.sa===St.ROUTE&&(b=ps.ROUTE),{type:b,id:c}}function pj(){this.e=new h(function(a,b){return a||b}),this.d=0,this.b=!1,this.a=null,rj(this,0);var a=this;this.c=function(b){b&&b==a.d||(a.d=b,a.b&&(b=a.e.call({target:a,timestamp:b}),void 0===b&&(b=!0),b?(b=a.c,a.b=!0,a.a.call(window,b)):a.stop()))}}function qj(a){var b=new pj;return b.e.qc(a),b}function rj(a,b){if(b||(a.a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),b||!a.a){var c=rs(),d=0,e=null,f=function(){var a=rs();e(a-c),d=rs()-a},g=1e3/b;a.a=function(a){e=a,window.setTimeout(f,Z(0,g-d))}}}function sj(){this.a=[]}function tj(a){a.C=new sj}function uj(a,b){var c;a:{c=0;for(var d=a.a.length;d>c;c++)if(a.a[c].$m===b)break a;c=-1}-1!==c&&a.a.splice(c,1)}function vj(a,b,c,d){var e;a:{e=0;for(var f=a.a.length;f>e;e++)if(a.a[e].$m===b){e=a.a[e];break a}e=null}null!=e?a=e:(e={$m:b,yn:[]},a.a.push(e),a=e),-1===a.yn.indexOf(c)&&a.yn.push({type:c,Eb:d})}function wj(a,b,c){this.x=a,this.y=b,this.z=J(c,0)}function xj(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0}function yj(a){this.id=a.gc||ts++,this.Gb=a.Gb||null,this.Ic=a.Ic||null,this.wb=a.wb||{}}function zj(a){this.id=a.gc||ts++,this.a=a.hs||[],this.wb=a.wb||{}}function Aj(a){var b=Array.prototype.slice.call(arguments);this.d={};for(var c=0,d=b.length;d>c;c++)this.d[b[c].id]=b[c],this.d[b[c].id].Ga=this;this.g=b[0].id,this.a=null,this.b=this.c=!1}function Bj(a){var b=a.f,c=new yj({gc:"initState",Gb:function(b){a.C.U("stateChanged",b,"initState")},Ic:function(){a.C.U("initialized",a)},wb:{CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return e.a=h,go(b,a,f,c,d),n.id},CHANGE_PANORAMA:function(){return ho(b),o.id},SHUTDOWN:function(){return h.id},FORCE_EXIT:function(a){return a?h.id:void 0}}}),d=new yj({gc:"navigateState",Gb:function(c){a.C.U("stateChanged",c,"navigateState"),a.Ga.handleEvent("ENABLE_CAMERA_INTERACTION"),Vm(b.Z),b.k.fe=!0},Ic:function(){a.Ga.handleEvent("DISABLE_CAMERA_INTERACTION")},wb:{CHANGE_PANORAMA:function(a){return a!==b.k.r.id?(ho(b),o.id):void 0},CHANGE_PANORAMA_TO_GEO:function(a,c,d,e){return go(b,a,e,c,d),n.id},CHANGE_LOOK_AT:function(a,c,d){return go(b,void 0,a,c,d),l.id},CHANGE_FOV:function(){return k.id},FADED_IN:function(){a.pause()},FADED_OUT:function(){b.l.i.qf.start()},RELOAD:function(){return ho(b),go(b,b.Cd),o.id},DEACTIVATE:function(){return j.id},SHUTDOWN:function(){return h.id},EXIT:function(){return f.id},FORCE_EXIT:function(){return g.id}}}),e=new yj({gc:"enterState",Gb:function(c,d,f,g,h){a.C.U("stateChanged",c,"enterState"),b.l.i.gb.Mc(g,h),b.l.i.gb.start(),a.C.U("enterAnimationStarted"),!1!==f&&!1!==e.a&&b.l.i.gb.pause(),e.a=void 0,b.Dp&&b.l.i.gb.finish()},Ic:function(){a.C.U("panoramaChanged",b.k.r)},wb:{CHANGE_LOOK_AT:function(a,c,d){go(b,void 0,a,c,d)},START_ANIMATION:function(c,d){b.l.i.gb.Mc(c,d),b.l.i.gb.start(),a.C.U("enterAnimationStarted"),e.a=void 0},ENTER_ANIMATION_FINISHED:function(){return a.C.U("enterAnimationFinished"),a.C.U("moveToEnd"),e.c?(e.c=!1,j.id):d.id},SHUTDOWN:function(){return h.id},FORCE_EXIT:function(){return b.l.i.gb.pause(),g.id},DEACTIVATE:function(){e.c=!0,b.l.i.gb.finish()}}}),f=new yj({gc:"interspaceState",Gb:function(c){a.C.U("stateChanged",c,"interspaceState"),b.l.i.pc.start()},wb:{BOUNCE_ANIMATION_FINISHED:function(){return Bp.$f(b.ya.S,b.k.r.ib().slice(0,3))?d.id:void 0},TRANSLATION_ANIMATION_FINISHED:function(){return d.id},EXIT:function(){return b.l.i.pc.qa()?void 0:(b.l.i.pc.pause(),g.id)},FORCE_EXIT:function(){return b.l.i.pc.pause(),g.id},ENTER:function(){b.l.i.pc.wh=1,b.l.i.pc.Ee===i.STATE.Jf?b.l.i.pc.Af():b.l.i.pc.Ee===i.STATE.Sd&&b.l.i.pc.finish()},SHUTDOWN:function(){return b.l.i.pc.pause(),h.id},DEACTIVATE:function(){return b.l.i.pc.cancel(),j.id}}}),g=new yj({gc:"exitState",Gb:function(c,d,e,f,h){g.Ac=d,a.C.U("stateChanged",c,"exitState"),b.l.i.kd.Mc(f,h),b.l.i.kd.start(),!1===e||d||b.l.i.kd.pause()},wb:{START_ANIMATION:function(){b.l.i.kd.qa()||b.l.i.kd.Af()},EXIT_ANIMATION_FINISHED:function(){return a.C.U("exitAnimationFinished"),b.l.i.gb.ge=1,g.Ac?h.id:void 0},CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return go(b,a,f,c,d),e.a=h,b.gg=!0,b.l.i.gb.gm=!0,b.l.i.gb.te=b.am,b.l.i.gb.ge=1,b.l.i.kd.pause(),n.id},CHANGE_LOOK_AT:function(a,c,d){return go(b,void 0,a,c,d),b.l.i.gb.te=b.am,b.l.i.gb.ge=1,b.l.i.kd.pause(),e.id},CHANGE_FOV:function(){return k.id},ENTER:function(){return b.l.i.gb.te=b.am,b.l.i.gb.ge=1,b.l.i.kd.pause(),e.id},SHUTDOWN:function(){return h.id},FORCE_EXIT:function(a){return a?h.id:void 0},DEACTIVATE:function(){return b.l.i.kd.cancel(),j.id}}}),h=new yj({gc:"offState",Gb:function(b){a.C.U("stateChanged",b,"offState"),a.t(!1)}}),j=new yj({gc:"idleState",Gb:function(c){a.C.U("stateChanged",c,"idleState"),b.l.i.fh.start()},wb:{REACTIVATE:function(){a.Af(),b.l.i.fh.cancel(),b.l.i.vi.start()},ALL_FADED_IN:function(){return d.id},ALL_FADED_OUT:function(){a.pause()},SHUTDOWN:function(){return h.id},EXIT:function(){return b.l.i.fh.cancel(),b.l.i.vi.start(),f.id},FORCE_EXIT:function(){return b.l.i.fh.cancel(),b.l.i.vi.start(),g.id}}}),k=new yj({gc:"fovChangeState",Gb:function(c,d,e,f){a.C.U("stateChanged",c,"fovChangeState"),go(b,void 0,void 0,e,f),b.l.i.rb.Od(gp.ld),b.l.i.ld.Fl=d*pp,b.l.i.ai.start()},Ic:function(){b.l.i.rb.Od(gp.rb),a.C.U("lookAtChangeFinished")},wb:{FOV_ANIMATION_FINISHED:function(){return b.l.i.rb.qa()?void 0:d.id},LOOK_AT_ANIMATION_FINISHED:function(){return b.l.i.ld.qa()?void 0:d.id},CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return go(b,a,f,c,d),e.a=h,b.l.i.ai.pause(),n.id},CHANGE_LOOK_AT:function(a,c,d){return go(b,void 0,a,c,d),l.id},CHANGE_FOV:function(){return b.l.i.ai.pause(),k.id},DEACTIVATE:function(){return b.l.i.ai.cancel(),j.id},SHUTDOWN:function(){return h.id},EXIT:function(){return b.l.i.ai.cancel(),f.id},FORCE_EXIT:function(){return b.l.i.ai.cancel(),g.id}}}),l=new yj({gc:"rotateState",Gb:function(c){a.C.U("stateChanged",c,"rotateState"),b.l.i.rb.start()},Ic:function(){a.C.U("lookAtChangeFinished")},wb:{LOOK_AT_ANIMATION_FINISHED:function(){return a.C.U("moveToEnd"),d.id},CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return go(b,a,f,c,d),e.a=h,b.l.i.rb.pause(),n.id},CHANGE_LOOK_AT:function(a,c,d){return go(b,void 0,a,c,d),b.l.i.rb.pause(),l.id},CHANGE_FOV:function(){return k.id},DEACTIVATE:function(){return b.l.i.rb.cancel(),j.id},SHUTDOWN:function(){return h.id},EXIT:function(){return b.l.i.rb.cancel(),f.id},FORCE_EXIT:function(){return b.l.i.rb.cancel(),g.id}}}),m=new yj({gc:"transitionState",Gb:function(c){a.C.U("stateChanged",c,"transitionState"),b.Z.fe=!0,b.k.dc.F(!0),b.Z.dc.F(!1),co(b)?(a.pj().Vo(1),b.l.i.Rj.start()):b.l.i.Sj.start()},Ic:function(){b.ca.oh(),nn(b.k),on(b.k),b.k.dc.F(!0),b.k.Gd(),b.Z.dc.F(!1),dn(b.k,b.Hd),b.k.Pd(b.xi),b.k.Bf(b.lg),b.cursor.F(!0),b.gh.F(!0),b.Z.clear(),a.C.U("panoramaChanged",b.k.r)},wb:{TRANSITION_FINISHED:function(){return a.C.U("moveToEnd"),d.id},CHANGE_PANORAMA_TO_GEO:function(){b.l.i.Rj.Rg(3),b.l.i.Sj.Rg(3)},CHANGE_LOOK_AT:function(){},CHANGE_FOV:function(){return k.id},FADED_OUT:function(){b.l.i.qf.start()},DEACTIVATE:function(){return b.l.i.Rj.cancel(),b.l.i.Sj.cancel(),j.id},EXIT:function(){return b.l.i.Rj.cancel(),b.l.i.Sj.cancel(),f.id},FORCE_EXIT:function(){return b.l.i.Rj.cancel(),b.l.i.Sj.cancel(),g.id},SHUTDOWN:function(){return h.id}}}),n=new yj({gc:"loadingMetacellState",Gb:function(c,d,e,f,g,h){a.C.U("stateChanged",c,"loadingMetacellState"),a.C.U("isProcessing",!0),b.k.fe=!1,c=b.Zd,d=(d=Lj(c))?d.get():void 0,void 0===this.b&&(this.b=0),this.b++,Xi().Zo(c.Ua(!0).get(),function(b){var c=b.b;return function(d){c===b.b&&(d?a.Ga.handleEvent("PANORAMA_AVAILABLE",d.id,d.Rb):a.Ga.handleEvent("NO_PANORAMA_AVAILABLE"))}}(this),d,h||500)},Ic:function(){a.C.U("isProcessing",!1)},wb:{PANORAMA_AVAILABLE:function(c,e){if(a.C.U("panoramaAvailable",!0),e){var f=e.yk(c);return a.f.k.r&&a.f.k.r.id==f.id?(a.C.U("panoramaLoaded",f),b.l.i.fc.cancel(),b.k.fe=!0,l.id):o.id}return So(),b.k.fe=!0,d.id},NO_PANORAMA_AVAILABLE:function(){return a.C.U("panoramaAvailable",!1),So(),b.l.i.fc.cancel(),b.gg?c.id:(b.k.fe=!0,d.id)},CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return go(b,a,f,c,d),e.a=h,b.l.i.fc.cancel(),n.id},CHANGE_LOOK_AT:function(a,c,d){b.l.i.fc.cancel(),go(b,void 0,a,c,d)},CHANGE_FOV:function(){return k.id},DEACTIVATE:function(){return vo(),b.l.i.fc.cancel(),j.id},EXIT:function(){return b.gg?void 0:(b.l.i.fc.cancel(),f.id)},FORCE_EXIT:function(){return b.l.i.fc.cancel(),g.id},SHUTDOWN:function(){return h.id}}}),o=new yj({gc:"loadingPanoramaState",Gb:function(c,d){a.C.U("stateChanged",c,"loadingPanoramaState"),a.C.U("isProcessing",!0);a:{var e=Xi().dn(d);if(!e){if(!b.k.r){b.Za.Ga.handleEvent("PANORAMA_NOT_FOUND");break a}e=b.k.r}b.Zd.wd(e.ta,!!Lj(b.Zd));var f=eo(b);Wm(f,e),Zm(f,!0),an(f,!0),!b.l.i.fc.qa()&&!b.gg&&b.vo&&co(b)&&b.l.i.fc.start(),f.rg.c(e.uj),f.fe=!0,Zm(f,!1),an(f,!1),f.Vm()}},Ic:function(){a.C.U("isProcessing",!1)},wb:{PANORAMA_LOADED:function(c){return a.C.U("panoramaLoaded",c),b.gg?(b.gg=!1,e.id):m.id},PANORAMA_NOT_FOUND:function(){return a.C.U("panoramaLoaded",!1),Vm(eo(b)),b.k.fe=!0,b.l.i.fc.cancel(),b.gg?(Wm(b.k,null),c.id):d.id},CHANGE_PANORAMA_TO_GEO:function(a,c,d,f,g,h){return go(b,a,f,c,d),e.a=h,b.l.i.fc.cancel(),Vm(eo(b)),eo(b).clear(),n.id},CHANGE_LOOK_AT:function(a,c,d){b.l.i.fc.cancel(),go(b,void 0,a,c,d)},CHANGE_FOV:function(){return b.l.i.fc.cancel(),k.id},DEACTIVATE:function(){return b.l.i.fc.cancel(),vo(),j.id},EXIT:function(){return b.gg?void 0:(b.l.i.fc.cancel(),f.id)},FORCE_EXIT:function(){return b.l.i.fc.cancel(),g.id},SHUTDOWN:function(){return h.id}}}),p=new zj({gc:"parallelStateMachines",hs:[new Aj(c,d,j,h,g,f,e,n,o,l,k,m),new Aj(ok(),pk(a.navigation),qk(a.navigation))]});return new Aj(p)}function Cj(a,b){this.b=this.a=null,a instanceof Cj?this.set(a.get()):a instanceof Array&&this.set(a,b)}function Dj(a){return a.get(1)}function Ej(a){return a.b?ni(a.b):null}function Fj(a,b){return Gj(a,b)}function Gj(a,b){return a&&b&&Dj(a)&&Dj(b)?2===a.get().length||2===b.get().length?1e-5>=Ap.distance(a.get()||[],b.get()||[]):1>=Bp.distance(Dj(a)||[],Dj(b)||[]):!1}function Hj(a){this.b=this.a=null,this.e=this.d=this.c=0,this.j=Yt,this.g={Cn:{min:vs,max:ws},ld:{min:xs,max:ys}},a&&this.set(a)}function Ij(a,b,c){c&&!Gj(b,a.a)?(a.a=a.Ua(!0),a.c=null,a.d=null,a.e=null):(a.c=a.fa(!0),a.d=a.ia(!0),a.a=null),a.b=b}function Jj(a,b,c){a.c=a.fa(!0),a.d=a.ia(!0),c?(a.b=Lj(a,!0),a.a=null):(a.a=a.Ua(!0),a.b=null),a.e=b}function Kj(a,b,c,d){a.g[b]||(a.g[b]={min:0,max:0}),a.g[b].min=c,a.g[b].max=d,a["_"+b]=Nj(a,b,a["_"+b])}function Lj(a,b){return!a.b&&a.$a()?b&&a.a.$a()&&Dj(a.a)?Oj(Dj(a.a),a.c||0,a.d||0,a.e||0):null:a.b}function Mj(a,b){return b&&!a.e?a.a&&a.b?Bp.distance(Dj(a.a)||[],Dj(a.b)||[]):0:a.e}function Nj(a,b,c){return c=c||0,a.g[b]?$(c,a.g[b].min,a.g[b].max):c}function Oj(a,b,c,d){if(a=new Cj(a,1),d=void 0===d?50:d,0===d)return a;var e=(a.b?qi(a.b):null)||[],f=Ej(a)||[];return b=va(ta(f,(360-b)*pp)),b=Bp.normalize(Bp.I(b,e)),f=Bp.normalize(Bp.pa(f,b)),c=ta(f,-c*pp),c=va(c),c=Bp.normalize(Bp.I(c,b)),a=Bp.add(Dj(a)||[],Bp.scale(c,d)),d=new Cj,d.set(a,1),d}function Pj(a){return a%=360,0>a&&(a+=360),360===a&&(a=0),.001*Math.round(a/.001)}function Qj(a,b){return b>a}function Rj(a){this.a=[],this.b=a||Qj}function Sj(){var a=Wj;this.b=new Rj(a),this.a=new Rj(a),this.e=0,this.d=this.c=!1}function Tj(){return As||(As=new Sj),As}function Uj(a){a.paused()||a.c||!a.b.a.length&&!a.a.a.length||(a.e=setTimeout(function(){if(a.c=!1,a.paused()||!a.b.a.length&&!a.a.a.length)return!1;var b;if(b=Vj(a.b,a.a),b||(b=a.a,a.a=a.b,a.b=b,b=Vj(a.b,a.a)),b)try{b.a=2;var c=b.e();zs===c?(b.paused()||(b.a=1),a.a.push(b)):b.a=4}catch(d){b.a=4,b.c=d}b&&4===b.state()&&b.d(),Uj(a)},1),a.c=!0)}function Vj(a,b){for(;a.a.length;){var c=a.pop(),d=c.state();if(1===d)return c;3===d&&b.push(c)}return null}function Wj(a,b){return a.b()<b.b()}function Xj(a,b,c){if(a instanceof Xj)nb.call(this,a),this.width=a.width,this.height=a.height,this.$k=a.$k,this.al=a.al;else if(a instanceof Qk){b=b||ip,K(b.width)&&K(b.height)&&(this.width=b.width,this.height=b.height,this.$k=J(b.$k,1),this.al=J(b.al,1)),this.Fn=J(b.Fn,0),this.Kn=J(b.Kn,0),this.En=J(b.En,1),this.Jn=J(b.Jn,1);var d,e=this.width,f=this.height;d=this.$k;var g=this.al,h=b.Uo,i=this.Fn,j=this.Kn,k=this.En,l=this.Jn;null==Bs&&(Bs=new pb({position:new ob(7,3,0),texcoord:new ob(7,2,12),normal:new ob(7,3,20)}));for(var m=new Rb(Bs),n=.5*e,o=.5*f,p=k-i,q=l-j,r=h?-1:1,l=0;g>=l;++l)for(k=0;d>=k;++k){var s=k/d,t=l/g;Tb(m,-n+e*s,-o+f*t,0,i+p*s,j+q*t,0,0,r)}for(e=d+1,l=0;g>l;++l)for(k=0;d>k;++k)f=k+0+e*(l+0),
i=k+1+e*(l+0),j=k+1+e*(l+1),n=k+0+e*(l+1),h?Vb(m,n,j,i,f):Vb(m,f,i,j,n);d=m.hb(),a=new ya(a,d),nb.call(this,a,c),b.name&&this.fb(b.name)}}function Yj(a){this.j=a,this.K=this.j.N(),this.v=this.s=this.c=this.g=this.e=0,this.H=new ak(0,0,0,0,0),this.p=[],this.o=!1,this.yp=new h,this.M=function(){this.yp.call()}.bind(this),this.Ej=new h,this.n=function(){this.Ej.call()}.bind(this),this.d=$j(this,this.n,this.M),this.b=_j(this,this.n),this.a=null}function Zj(a,b,c,d){var e,f=a.H,g=a.p;g.length&&(e=g[g.length-1],e.Sk==b)?(e.set(b,c,d,0,0),bk(e,a.K),b=e):(3>g.length?(e=new ak(b,c,d,0,0),g.push(e)):(e=g.shift(),g.push(e),e.set(b,c,d,0,0)),bk(e,a.K),b=e),a.s=b.ff-f.ff,a.v=b.gf-f.gf,a.o=!0}function $j(a,b,c){return b=new dk(a.j,b,c),a.j.l.l.add(b),b}function _j(a,b){var c=new gk(a.j,b);return a.j.l.l.add(c),c}function ak(a,b,c,d,e){this.set(a,b,c,d,e)}function bk(a,b){var c;c=b.d.Ea;var d=b.K,e=new wj(a.a,a.b),e=Gn(c,e),e=Hn(c,e);c={x:Math.atan2(ea(d.Yb,d.ac,.5*(e[0]+1)),d.Yd),y:Math.atan2(ea(d.kc,d.nc,.5*(e[1]+1)),d.Yd)},a.ff=c.x*zp,a.gf=c.y*zp}function ck(a,b,c,d,e,f,g,h){this.set(a,b,c,d,e,f,g,h)}function dk(a,b,c){i.call(this,{td:this.tb,Sb:b,Eb:this.Va}),this.va=c,this.M=a,this.K=this.M.N(),this.p=this.v=this.s=this.a=0;var d=this;this.Fj.qc(function(){d.Ee===i.STATE.Sd&&b.call(this)})}function ek(a,b,c,d){a.s=b,a.v=c,a.p=d,a.a=.995,b=1e-6>_(b)?0:da(_(1e-6/b),a.a),c=1e-6>_(c)?0:da(_(1e-6/c),a.a),d=1e-6>_(d)?0:da(_(1e-6/d),a.a),a.Od(Z(d,Z(b,c))),i.prototype.start.call(a)}function fk(a,b,c){return a*(Math.pow(b,c)-1)/Math.log(b)}function gk(a,b){i.call(this,{duration:1/0,td:this.Va,Sb:b,Eb:this.va}),this.v=a,this.K=this.v.N(),this.a=this.s=this.p=this.M=0}function hk(a){this.c=a.Za,this.a=a,this.d=!0,this.e=Ap.create(0,0),this.b=!1,this.a.N().$c.qc(this.j.bind(this))}function ik(a,b){(b||a.b)&&(a.d=!0,a.a.u())}function jk(a){var b=a.e;return Wn(a.a,b[0],b[1],function(a){var b=a.sa;return b!=Jt&&Ot>=b&&a.Qa()})}function kk(a){var b=a.a.gh;b&&!1!==b.Qa()&&ik(a)}function lk(a){this.e=a,this.a=new Yj(a),this.d=new hk(a),this.g=this.update.bind(this),this.e.aa.qc(this.g),this.c=this.b=!1}function mk(a,b,c,d){if(a.c){a=a.a;var e=a.K;a.e=e.fa(),a.g=e.ia(),a.c=e.ka(),a.a=new ck(0,0,0,0,c,b,0,d),b=a.a.ff,c=a.a.gf,d=a.a.a,5e-4>_(b)&&5e-4>_(c)&&5e-4>_(d)||(a=a.b,a.p=b,a.s=c,a.a=d,i.prototype.start.call(a))}}function nk(a){this.f=a.f,this.a=a.Ga,this.b=null,this.c=!1}function ok(){return new yj({gc:"noCameraState",wb:{ENABLE_CAMERA_INTERACTION:function(){return"panoramaCameraState"},CHANGE_TO_THIRD_PERSON:function(){return"freeCameraState"}}})}function pk(a){var b=a.f;return new yj({gc:"panoramaCameraState",Gb:function(){Vo(),b.Ca=b.ya,b.k.Lc(!1),b.Z.Lc(!1),b.Z.Xe(!1),b.u()},Ic:function(){if(!a.c){var c=a.b;c&&(c=c.a,c.d.stop(),c.b.stop()),b.k.Lc(b.wi),b.Z.Lc(b.wi),b.Z.Pd(!0),b.u()}},wb:{CHANGE_TO_THIRD_PERSON:function(){return"freeCameraState"},TOGGLE_CAMERA:function(){return"freeCameraState"},TILT:function(a,c){!1===c&&(a=b.N().ia()+a),b.N().Cb(a)},HEADING:function(a,c){!1===c&&(a=b.N().fa()-a),b.N().sb(a)},DISABLE_CAMERA_INTERACTION:function(){return"noCameraState"}}})}function qk(a){var b=a.f;return new yj({gc:"freeCameraState",Gb:function(){Vo(),b.Ca=b.b,b.k.Lc(b.wi),b.Z.Lc(!0),b.Z.Xe(b.vf),b.u()},Ic:function(){},wb:{CHANGE_TO_PANORAMA_CAMERA:function(){return"panoramaCameraState"},TOGGLE_CAMERA:function(){return"panoramaCameraState"},TILT:function(a){b.b.Cn(a*pp),b.u()},HEADING:function(a){b.b.Or(a*pp),b.u()},ROLL:function(a){b.b.Gp(a*pp),b.u()},MOVE_FORWARD:function(a){var c=hc(b.b);b.b.translate(Bp.scale(c,a)),b.u()},MOVE_HORIZONTALLY:function(a){var c=fc(b.b);b.b.translate(Bp.scale(c,a)),b.u()},MOVE_VERTICALLY:function(a){var c=gc(b.b);b.b.translate(Bp.scale(c,a)),b.u()},SET_TO_PANORAMA:function(){eb(b.b,Bp.A(b.ya.S)),gb(b.b,pa(b.ya.Ak())),b.u()},DISABLE_CAMERA_INTERACTION:function(){return"noCameraState"}}})}function rk(a,b,c){this.a=[],this.b=[],this.c=a,this.d=b,this.e=c}function sk(){this.font=this.name=null,this.size=0,this.outlineColor=this.color=null,this.outlineWidth=0,this.shadowColor=null,this.Ff=0,this.b=this.a=!1}function tk(){this.c=this.b=null,this.g={},this.j={},this.d="undefined",this.a=0,this.e=this.o=250,this.n=null}function uk(){return null==Ds&&(Ds=new tk,tj(Ds)),Ds}function vk(a){var b="";return void 0!=a.a&&a.a&&(b+="small-caps "),void 0!=a.b&&a.b&&(b+="italic "),b+=a.size+"pt "+a.font+", Arial, Helvetica, sans-serif"}function wk(a){var b=Ds;Es=a,Wo(),b.d=a,"failed"===b.d&&Ck(b),b.C.U(a)}function xk(a){a.b||(a.b=document.createElement("canvas"),a.c=a.b.getContext("2d"),a.b.width=20,a.b.height=20)}function yk(a,b,c){if(void 0!==Gs[b]){if(!0===Gs[b])return!0;if(void 0!==c&&!c)return!1}if(xk(a),!a.c)return!1;a.c.clearRect(0,0,a.b.width,a.b.height),a.c.font='12pt "'+b+'"',a.c.fillStyle="rgb(255, 255, 255)",a.c.fillText(".",10,10),a=a.c.getImageData(0,0,a.b.width,a.b.height).data,c=!0;var d,e;for(d=0,e=a.length;e>d;d+=4)if(0!==a[d]){c=!1;break}return c?(Wo(),Gs[b]=!1):(Wo(),Gs[b]=!0)}function zk(a){var b=!1;null!==a.n&&(b=3e4<(new Date).getTime()-a.n),Wo();var c=0;if(b)To(),a.d="failed",0!==a.a&&Ck(a);else{Hs=[],b=null;for(b in Fs){var d=Fs[b];"loading"===d?Hs.push(b):"loaded"===d&&(yk(a,b,!0)?(d="loaded",Fs[b]=d,a.C.U(d,b)):Hs.push(b)),!1===Gs[b]&&c++}0===c&&0===Hs.length?Ck(a):0!==a.a?Bk(a):Ak(a)}}function Ak(a){0===a.a&&(0!==a.a&&(window.clearTimeout(a.a),a.a=0),"loading"===a.d||"loaded"===a.d)&&(a.n=(new Date).getTime(),a.e=a.o,Wo(),Bk(a))}function Bk(a){0!==a.a&&(window.clearTimeout(a.a),a.a=0),("loading"===a.d||"loaded"===a.d)&&(Wo(),a.a=window.setTimeout(function(){zk(a),a.e*=1.1},a.e))}function Ck(a){if(0!==a.a){Wo(),0!==a.a&&(window.clearTimeout(a.a),a.a=0),Wo(),Wo(),Wo();var b=null;for(b in Hs)a.C.U("failed",Hs[b])}else Uo()}function Dk(a){this.$c=new h,this.c=new h,this.d=a,this.K=a.ya,a={},a[4]={min:vs,max:ws},a[16]={min:xs,max:ys},this.b=a,this.a=!1}function Ek(a,b,c,d){var e=a.b;switch(e[b]=e[b]||{},b){case Is.HEADING:case 4:case 8:case 16:e[b].min=0!==c?c:void 0,e[b].max=360!==d?d:void 0;break;default:e[b].min=c,e[b].max=d}(void 0!==c||void 0!==d)&&(c=Hk(a,b),Ik(a,b,c))}function Fk(a,b){eb(a.K,b),a.$c.call()}function Gk(a,b,c,d){d&&eb(a.K,d),a.K.rb(b,c),a.$c.call()}function Hk(a,b){var c;switch(b){case Is.HEADING:c=Kk(a);break;case 4:c=Jk(a);break;case 8:c=Lk(a);break;case 16:c=a.K.ka()*zp;break;case 32:c=a.K.cg()*zp}return.001*Math.round(c/.001)}function Ik(a,b,c){var d=Hk(a,b),e=a.b[b];if(e){var f=e.min,e=e.max;a.a=!1,"number"==typeof c&&(void 0!==f&&f>c?(a.a=!0,a.c.call(b,c,f),c=f):void 0!==e&&c>e&&(a.a=!0,a.c.call(b,c,e),c=e))}if("number"==typeof c&&d!==c){switch(b){case Is.HEADING:b=c,b=(Kk(a)-b)*yp,1e-6<=_(b)&&a.K.rotateAxisAngle(ni(a.K.S),b);break;case 4:b=c,d=Jk(a),b=(b-d)*yp,1e-6<=_(b)&&a.K.Cn(b);break;case 8:b=Lk(a),1e-6<_(b)&&a.K.Gp(b);break;case 16:a.K.Ja(c*yp)}a.$c.call()}return!a.a}function Jk(a){var b=ni(a.K.S),c=hc(a.K);return a=gc(a.K),c=Bp.L(b,c),c=Math.acos($(c,-1,1))*zp,b=Bp.L(b,a),b=Math.acos($(b,-1,1))*zp,90>=c?90>=b?b:90+c:90>=b?90-c:-b}function Kk(a){var b=ni(a.K.S),c=hc(a.K),d=Bp.create(),e=Bp.L(c,b);return e>.7?c=Bp.vp(gc(a.K)):-.7>e&&(c=gc(a.K)),Bp.scale(b,Bp.L(c,b),d),Bp.sub(c,d,d),Bp.normalize(d,d),a=qi(a.K.S),b=Math.atan2(Bp.L(b,Bp.pa(d,a)),Bp.L(d,a))*zp,0>b&&(b+=360),b%360}function Lk(a){var b=0,c=ni(a.K.S),d=hc(a.K),d=Bp.pa(c,d),e=Bp.length(d);return e>=1e-6&&(Bp.scale(d,1/e,d),a=gc(a.K),c=Bp.L(c,a),d=Bp.L(d,a),b=Math.atan2(c,d)),(b-mp)*qp}function Mk(){this.on=[]}function Nk(a){this.height=a,this.ta=this.a=null,this.b=0}function Ok(){}function Pk(){}function Qk(){}function Rk(a){this.B=a.getContext(),this.ba=a,this.a={hl:0,Gk:0,jg:0}}function Sk(a,b){switch(b){case Fp:return a.STATIC_DRAW;case 2:return a.DYNAMIC_DRAW;case 3:return a.STREAM_DRAW;default:return 0}}function Tk(){}function Uk(a){this.B=a=a.getContext(),this.zh=null;var b=this.B,c=[];c.push(b.getParameter(b.RENDERER)),c.push(b.getParameter(b.VENDOR)),c.push(b.getParameter(b.VERSION)),c.push(b.getParameter(b.SHADING_LANGUAGE_VERSION)),b=this.dk().join("\n"),c.push(b),this.jo=c.join("\n"),c=this.B,c=c.getParameter(c.MAX_VIEWPORT_DIMS),this.uo=new xj(0,0,c[0],c[1]),this.c=a.getParameter(a.RED_BITS),this.b=a.getParameter(a.GREEN_BITS),this.a=a.getParameter(a.BLUE_BITS),this.co=this.c+this.b+this.a,this.bo=a.getParameter(a.ALPHA_BITS),this.eo=a.getParameter(a.DEPTH_BITS),this.fo=a.getParameter(a.STENCIL_BITS),this.so=a.getParameter(a.MAX_VERTEX_ATTRIBS),this.to=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),this.po=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),this.El=parseInt(a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),10),this.qo=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),this.ro=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.Dd=a.getParameter(a.MAX_TEXTURE_SIZE),this.Fh=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),this.mo=0<this.El,a=this.B,(c=this.xl("WEBGL_compressed_texture"))?(a.getExtension(c),a=0<a.getParameter(a.COMPRESSED_TEXTURE_FORMATS).length):a=!1,this.lo=a,a=this.B,c=this.xl("EXT_texture_filter_anisotropic"),this.yl=!1,this.Ui=0,c?(c=a.getExtension(c),this.yl=null!=c,this.Ui=null!=c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,a=c):a=null,this.th=a,a=[],a.push(this.sm()+"\n"),a.push("colorBits: "+this.qm()),a.push("alphaBits: "+this.mm()),a.push("depthBits: "+this.rm()),a.push("stencilBits: "+this.Bk()),a.push("maxViewportBounds: "+this.zm().toString()),a.push("maxVertexAttribs: "+this.wm()),a.push("maxVertexShaderParams: "+this.xm()),a.push("maxPixelShaderParams: "+this.um()),a.push("maxVertexShaderTextureUnits: "+this.ym()),a.push("maxPixelShaderTextureUnits: "+this.vm()),a.push("maxTextureUnits: "+this.gi()),a.push("maxTextureSize: "+this.nj()),a.push("maxCubeTextureSize: "+this.fi()),a.push("hasVertexShaderTextureAccess: "+this.Fm()),a.push("hasTextureCompression: "+this.Em()),a.push("hasAnisotropicFiltering: "+this.Cm()),a.push("maxAnisotropicValue: "+this.ei()),this.zo=a.join("\n")}function Vk(){}function Wk(){}function Xk(a){switch(a){case 1:case 2:return 1;case 3:return 2;case 4:return 3;case Os:return 4;default:return 0}}function Yk(a){return a instanceof HTMLImageElement?Os:a instanceof HTMLCanvasElement?Os:a instanceof HTMLVideoElement?Os:a instanceof ImageData?Os:0}function Zk(a){return a instanceof HTMLImageElement?parseInt(a.width,10):a instanceof HTMLCanvasElement?parseInt(a.width,10):a instanceof HTMLVideoElement?parseInt(a.width,10):a instanceof ImageData?parseInt(a.width,10):0}function $k(a){return a instanceof HTMLImageElement?parseInt(a.height,10):a instanceof HTMLCanvasElement?parseInt(a.height,10):a instanceof HTMLVideoElement?parseInt(a.height,10):a instanceof ImageData?parseInt(a.height,10):0}function _k(a){a instanceof _k?this.A(a):(this.a=this.b=Ps,this.d=this.c=1,this.Mh=0)}function al(){}function bl(a){this.B=a.getContext(),this.ba=a,a=a.Vg(),this.Dd=a.nj(),this.Fh=a.fi(),this.Ui=a.ei(),this.th=a.th,this.a={yd:0,of:0}}function cl(a,b){switch(b){case a.ALPHA:case a.LUMINANCE:return 1;case a.LUMINANCE_ALPHA:return 2;case a.RGB:return 3;case a.RGBA:return 4;default:return 0}}function dl(a,b){var c=b||{he:!1,Yr:!1};fa(c.Lo)&&(c.Lo=!0),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,c.he?1:0),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.Yr?1:0),a.pixelStorei(a.UNPACK_COLORSPACE_CONVERSION_WEBGL,c.Lo?a.BROWSER_DEFAULT_WEBGL:a.NONE)}function el(a,b,c){var d,e=jl(a,c.b);a:switch(c.a){case 1:d=a.NEAREST;break a;case Ps:d=a.LINEAR;break a;default:d=0}var f=kl(a,c.c);c=kl(a,c.d),a.texParameteri(b,a.TEXTURE_MIN_FILTER,e),a.texParameteri(b,a.TEXTURE_MAG_FILTER,d),a.texParameteri(b,a.TEXTURE_WRAP_S,f),a.texParameteri(b,a.TEXTURE_WRAP_T,c)}function fl(a,b,c,d,e,f,g,h){var i=a.UNSIGNED_BYTE;if(d){if(d instanceof HTMLImageElement||d instanceof HTMLCanvasElement||d instanceof HTMLVideoElement||d instanceof ImageData)a.texImage2D(b,c,h,g,i,d);else if(L(d)&&0<d.length&&K(d.byteLength)){var j=cl(a,g);d.byteLength<e*f*j&&H("buffer too small"),a.texImage2D(b,c,h,e,f,0,g,i,d)}}else a.texImage2D(b,c,h,e,f,0,g,i,null)}function gl(a,b,c,d,e,f,g,h,i){var j=a.UNSIGNED_BYTE;if(f instanceof HTMLImageElement||f instanceof HTMLCanvasElement||f instanceof HTMLVideoElement||f instanceof ImageData)a.texSubImage2D(b,c,d,e,i,j,f);else if(0<f.byteLength){var k=cl(a,i);f.byteLength<g*h*k&&H("buffer too small"),a.texSubImage2D(b,c,d,e,g,h,i,j,f)}}function hl(a,b){switch(b){case 1:return a.ALPHA;case 2:return a.LUMINANCE;case 3:return a.LUMINANCE_ALPHA;case 4:return a.RGB;case Os:return a.RGBA;default:return 0}}function il(a,b){switch(b){case 1:return a.ALPHA;case 2:return a.LUMINANCE;case 3:return a.LUMINANCE_ALPHA;case 4:return a.RGB;case Os:return a.RGBA;default:return 0}}function jl(a,b){switch(b){case 1:return a.NEAREST;case Ps:return a.LINEAR;case 3:return a.NEAREST_MIPMAP_NEAREST;case 4:return a.LINEAR_MIPMAP_NEAREST;case 5:return a.NEAREST_MIPMAP_LINEAR;case 6:return a.LINEAR_MIPMAP_LINEAR;default:return 0}}function kl(a,b){switch(b){case 1:return a.CLAMP_TO_EDGE;case 2:return a.REPEAT;case 3:return a.MIRRORED_REPEAT;default:return 0}}function ll(){}function ml(a,b,c){this.name=a,this.type=b,this.size=c,this.ga=null}function nl(a,b,c){this.name=a,this.type=b,this.size=c,this.ga=null}function ol(){}function pl(a,b,c){if(a=a.B,a.shaderSource(b,c),a.compileShader(b),!a.getShaderParameter(b,a.COMPILE_STATUS)){b=a.getShaderInfoLog(b),c=c.replace(/\r/g,""),c=c.replace(/\t/g,"  "),c=c.split("\n"),a=0;for(var d=c.length;d>a;++a)c[a]=a+1+" "+c[a];H("Shader Compilation Error\n"+b+"\nSource:\n"+c.join("\n"))}}function ql(a){this.B=a.getContext(),this.ba=a,this.a={Ef:0}}function rl(a){this.B=a.getContext(),this.ba=a,this.e=a.Vg(),a=this.e.gi(),this.a=Array(a);for(var b=0;a>b;++b)this.a[b]=null;this.c=0,this.d=new Float32Array(16),this.j=new Float32Array(9),this.g=this.d}function sl(a,b){switch(b){case 1:return a.BYTE;case 2:return a.UNSIGNED_BYTE;case 3:return a.SHORT;case 4:return a.UNSIGNED_SHORT;case 7:return a.FLOAT;default:return 0}}function tl(a,b){switch(b){case 0:return a.NEVER;case 1:return a.LESS;case 2:return a.LEQUAL;case 3:return a.EQUAL;case 4:return a.NOTEQUAL;case 5:return a.GEQUAL;case 6:return a.GREATER;case 7:return a.ALWAYS;default:return 0}}function ul(a,b){switch(b){case 0:return a.ONE;case 1:return a.ONE;case 2:return a.SRC_COLOR;case 3:return a.ONE_MINUS_SRC_COLOR;case 4:return a.DST_COLOR;case 5:return a.ONE_MINUS_DST_COLOR;case 6:return a.SRC_ALPHA;case 7:return a.ONE_MINUS_SRC_ALPHA;case 8:return a.DST_ALPHA;case 9:return a.ONE_MINUS_DST_ALPHA;case 10:return a.CONSTANT_COLOR;case 11:return a.ONE_MINUS_CONSTANT_COLOR;case 12:return ju?a.ONE:a.CONSTANT_ALPHA;case 13:return a.ONE_MINUS_CONSTANT_ALPHA;case 14:return a.SRC_ALPHA_SATURATE;default:return 0}}function vl(a,b){switch(b){case 0:return a.FUNC_ADD;case 1:return a.FUNC_SUBTRACT;case 2:return a.FUNC_REVERSE_SUBTRACT;default:return 0}}function wl(a,b){switch(b){case 0:return a.NEVER;case 1:return a.LESS;case 2:return a.LEQUAL;case 3:return a.EQUAL;case 4:return a.NOTEQUAL;case 5:return a.GEQUAL;case 6:return a.GREATER;case 7:return a.ALWAYS;default:return 0}}function xl(a,b){switch(b){case 1:return a.KEEP;case 0:return a.ZERO;case 2:return a.REPLACE;case 3:return a.INCR;case 4:return a.DECR;case 5:return a.INVERT;case 6:return a.INCR_WRAP;case 7:return a.DECR_WRAP;default:return 0}}function yl(a,b){switch(b){case 0:return a.CCW;case 1:return a.CW;default:return 0}}function zl(a,b){switch(b){case 0:return a.BACK;case 1:return a.FRONT;case 2:return a.FRONT_AND_BACK;default:return 0}}function Al(a,b){switch(b){case 1:return a.POINTS;case 2:return a.LINES;case 3:return a.LINE_STRIP;case Cp.TRIANGLE:return a.TRIANGLES;case 6:return a.TRIANGLE_FAN;case 5:return a.TRIANGLE_STRIP;default:return 0}}function Bl(){this.a={}}function Cl(a,b,c){var d=Ts,e=d.a[b];if(e)a.style[e]=c;else if(void 0!==a.style[b])a.style[b]=c,d.uh(b,b);else for(var f,e=0,g=d.b.length;g>e;e++)if(f=d.b[e]+(b.charAt(0).toUpperCase()+b.slice(1)),void 0!==a.style[f]){a.style[f]=c,d.uh(b,f);break}}function Dl(){this.b=fa(20)?-1:20,this.a=[]}function El(a){a.getContext()}function Fl(){}function Gl(a){this.B=a.getContext(),this.ba=a,this.a={Ef:0}}function Hl(){}function Il(a){this.B=a.getContext(),this.ba=a,a=a.Vg(),this.Dd=a.nj(),this.Fh=a.fi(),this.Ui=a.ei(),this.th=a.th,this.a={yd:0,of:0}}function Jl(a){this.B=a.getContext(),this.ba=a}function Kl(a){this.a={},this.ba=a,this.c=-1,this.b="",this.Vd=this.Ge=-1,this.d=new Dl}function Ll(a,b,c,d,e){this.Lm=!0,this.Pp=a,this.hj=b,this.ij=c,this.el=d,this.dl=e}function Ml(a,b){for(var c in a.a)a.a[c].Lm=!1;c=b.f,a.Vd=c.md(),a.Ge=c.pd(),a.n=Math.floor(wt/2)-Math.ceil(1/(window.devicePixelRatio||1));var d;d=c.K.cg(),d=.5/Math.tan(d*yp/2)*a.Vd,d!==a.c?(a.c=d,a.b=a.c.toFixed(2)+"px",d=!0):d=!1,d&&(c.Po&&Cl(c.Po,"perspective",a.b),Cl(c.Qk,"perspective",a.b))}function Nl(a,b){for(var c in a.a){var d=a.a[c];if(!d.Lm){var e,f=d.ij;e=a.d,0>e.b||e.a.length<e.b?(e.a.push(f),e=!0):e=!1,e?f.style.display="none":b.Qk.removeChild(f),d.hj&&0<f.childNodes.length&&f.removeChild(d.hj),delete a.a[c]}}}function Ol(a,b,c,d,e){var f=b.Da(),g=b.Gm,h=d.f.Qk,i=a.a[f],j=0,k=0,l=null;if(d=null,i){if(i.Lm=!0,!g){if((m=b.Ha.cc(0))||b.cc&&(m=b.cc()),!m)return;i.Pp!=m.Da()&&(i.Pp=m.Da(),i.ij.removeChild(i.hj),i.hj=m.La,i.ij.appendChild(i.hj),i.el=m.pd(),i.dl=m.md())}j=i.el,k=i.dl,i.ij.style.display="block"}else{if(l=a.d.a.pop(),l||(l=document.createElement("div"),l.style.position="absolute",l.style.pointerEvents="none"),l.setAttribute("name","ObjectId: "+f),g)j=k=16,g.setAttribute("name","HTML ObjectId: "+f),l.appendChild(g),i=new Ll(-1,g,l,j,k);else{var m=b.Ha.cc(0);if(m||b.cc&&(m=b.cc()),!m)return;l.appendChild(m.La),j=m.pd(),k=m.md(),i=new Ll(m.Da(),m.La,l,j,k)}a.a[f]=i,h.appendChild(l)}for(l=i.ij,c=Da(c.sf,c.rf),i=h=f=.015625,g?(f=g.rl/g.yq,i=g.Aq/g.xq,b instanceof sb&&(d=Math.max(g.rl,g.rl),f/=d,i/=d),d=g.zq,g.Zn&&"function"==typeof g.Zn&&g.Zn(g,b.R)):(g=l.style,g.top=(.5*-k).toFixed(2)+"px",g.left=(.5*-j).toFixed(2)+"px",f=h=i=1,c[12]*=e,c[13]*=e,c[14]*=e),b.R&&(l.style.zIndex=-Math.floor(20*b.R)),a="translateZ("+a.b+")   scale3d(1,-1,1) ",b=[],e=0,g=c.length;g>e;e++)b.push(c[e].toFixed(10));a=a+("matrix3d("+b.join(",")+")")+" scale3d("+f+","+h+","+i+") ",d&&(a+="rotateX("+d+"deg)"),Cl(l,"transform",a)}function Pl(a,b){this.e=new rk,this.ga=++Xs,this.La=a,this.d=b||"webgl",this.ba=Qs.kr(this),this.a=[],this.c=0,this.b=new xj(0,0,0,0)}function Ql(a,b){a.b=ka(b);var c=window.devicePixelRatio||1,d=Math.round(b.width*c),c=Math.round(b.height*c),e=a.La;(e.width!=d||e.height!=c)&&(e.width=d,e.height=c,a.e.call({target:a}))}function Rl(a){return a.a.filter(function(a){return a.Qa()})}function Sl(a,b){return a.a.filter(function(a){return a=a.Pb(),a=a instanceof wj?a.x>=b.x&&a.x<b.x+b.width&&a.y>=b.y&&a.y<b.y+b.height:a instanceof xj?a.x+a.width>=b.x&&a.x<b.x+b.width&&a.y+a.height>=b.y&&a.y<b.y+b.height:void 0})}function Tl(a){var b=0;return a.a.forEach(function(a){b=Math.max(b,a.Ml)}),b}function Ul(a){var b=Rl(a);b.forEach(function(b){b.Ik()&&(b=b.Pb(),Sl(a,b).forEach(function(a){a.a=!0}))}),b.sort(Vl),b.forEach(function(b){if(b.Ik()){var c=b.Pb();c.y=a.Pb().height-c.y-c.height;var d=c.x,e=c.y,f=window.devicePixelRatio||1,g=Math.round(c.width*f),c=Math.round(c.height*f);if(!Zt){var h=b.df;h.Yk(!0),h.un(d,e,g,c),h.Bi(d,e,g,c)}b.a=!1,b.c.call({target:b}),Zt||h.Yk(!1)}}),a.c++,(b=window.N3)&&(b=b.HOOK)&&(b=b.onRedraw,"function"==typeof b&&b(a.ga,a.c))}function Vl(a,b){return a.Ml-b.Ml}function Wl(a,b,c){this.Uj=!1,this.width=a,this.height=b,this.Ka=c}function Xl(){this.Wh=[],this.canvas=null}function Yl(a,b){this.d=a,this.a={},this.b=void 0===b?!1:b,this.c=function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))}}function Zl(a,b){if(a.b){var c=b%4;return c>0?b+4-c:b}return a.c(b)}function $l(a,b){if(a.b){var c=b%8;return c>0?b+8-c:b}return a.c(b)}function _l(a){this.Vb=a}function am(a){this.Vb=a,this.a=this.b=null}function bm(a){this.id=a,this.Ia=this.data=this.Kk=this.oi=this.pi=this.Lk=null}function cm(a,b){this.df=a,this.ba=a.Pa(),this.ed=this.p(b),this.ze=this.s(this.ba,this.ed),this.hk=this.d(this.ba),this.wo=this.c(this.ba),this.xo=this.e(this.ba)}function dm(a,b){this.buildingId=a,this.c=b,this.Ya=this.sd=this.Gc=this.ta=null,this.la=!1,this.Ie=this.a=null,this.Rh=!1,this.Xp=this.b=null,this.ih=-1}function em(a,b){if(a.la)return!1;if(a.Gc||a.a)return!0;var c=Th(b,12);if(a.a=c,!c)return a.la=!0,!1;for(var d=1/0,e=1/0,f=1/0,g=-(1/0),h=-(1/0),i=-(1/0),j=c.O.length/6-1;j>=0;j--)var k=6*j,l=c.O[k],m=c.O[k+1],k=c.O[k+2],d=l>d?d:l,e=m>e?e:m,n=k-at,f=n>f?f:n,g=R(g,l),h=R(h,m),i=R(i,k);return d=Bp.create(d,e,f),g=Bp.create(g,h,i),a.Ya=new Db(d,g),a.ta=new Cj(Kh(c.Wj)),c=Dj(a.ta),g=c.slice(3,7),h=a.Ya.wk(),i=Ba(),va(g,i),i[12]=c[0],i[13]=c[1],i[14]=c[2],a.Xp=Bp.I(i,h),a.ih=a.Ya.qj(),a.ih*=a.ih,!0}function fm(a){a.Rh=!1;var b;a:{b=a.c;var c=a.buildingId;if(b.la)b=null;else{if(!b.a&&(b.a=Ur(b.data),!b.a)){b.la=!0,b=null;break a}b=(b=b.a[c+".cs3d"])?b.Sg:null}}a.a=Th(b,12)}function gm(a){this.id=a,this.la=!1,this.a=this.data=this.Kk=this.oi=this.pi=this.Lk=null,this.b={}}function hm(a,b){if(a.la)return null;var c=a.b[b];if(c)return c.la?null:c;if(!a.a&&(a.a=Ur(a.data),!a.a))return a.la=!0,null;var d=a.a[b+".cs3d"];return d?(c=new dm(b,a),a.b[b]=c,em(c,d.Sg)?c:null):null}function im(){this.a=new xc(bt,function(a,b){b.compact(void 0)})}function jm(){this.b=0,this.a=[],this.c=null}function km(a,b){a.clear(),a.a.splice(0,a.a.length),b.forEach(function(b,c){!c||c.la?Vo():a.a.push(c.Fi)}),a.c=null}function lm(){this.g=null,this.bb=[],this.b={},this.$=[],this.e={},this.d=1,this.P=[],this.c=[],this.ng=0,this.Ya=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE],this.Ah=[0,0,0,0,0,0,0],this.Tf=[0,0,0,0,0,0,0],this.Nf=Ba()}function mm(a,b){var c=.5*(a.wc-a.ec),d=.5*(a.Fc-a.xc);return b.qi(a.ec+c,a.xc+d)>c*c+d*d?(a.Qb=!1,!0):!1}function nm(a,b){function c(a){a.ua=0<a.ua.length?[]:a.ua,a.Id=0<a.Id.length?[]:a.Id,a.minHeight=void 0,a.maxHeight=void 0,a.Og=void 0}function d(){return{ua:[],Id:[],minHeight:void 0,maxHeight:void 0,Og:void 0}}for(var e,f=a.$,g=f.length,h=0,i=[],j=d(),k=0;g>k;k++){var l=f[k],m=l.m;if(!(2>m.length||mm(l,b))){var n,o=m.length,p=void 0;for(n=0;o>n;n++){var q=m[n],r=l.Qb?b.ue(q[0],q[1],8):b.mh(q[0],q[1],8,j);q[2]=r,l.Qb||(l.Qb=1<j.ua.length),c(j)}for(n=1;o>n;){var r=m[n-1],p=m[n],q=Ap.distance(r,p),q=Math.floor(q/2+1),s=(p[0]-r[0])/q,t=(p[1]-r[1])/q,u=0;2<p.length&&2<r.length&&(u=(p[2]-r[2])/q);var v,w=r[0],x=r[1],y=r[2];for(v=1;q>v;v++){if(r=l.Qb?b.ue(w,x,8):b.mh(w,x,8,j),null!==r){1<j.ua.length&&(l.Qb=!0),c(j);var z=Math.abs(y-r);(l.Qb&&v>1||z>.25)&&(h++,m.splice(n,0,[w,x,r]),y=r,2<p.length&&(u=(p[2]-y)/q),n++,o++)}w+=s,x+=t,y+=u}n++}if(l.Qb)for(n=0,p={zc:l,ri:{}},l.Aj=p,i.push(p);n<m.length;)q=l.m[n],r=b.mh(q[0],q[1],8,j),null!==r&&null!=j.ua&&1<j.ua.length?(j.x=q[0],j.y=q[1],j.vu=r,p.ri[n]=j,j=d()):c(j),n++;else l.P[0]&&(l.P[0].height=l.m[0][2]),l.P[1]&&(l.P[1].height=l.m[l.m.length-1][2]);Am(l)}}for(e=0;g>e;e++)if(l=f[e],!(2>l.m.length||(o=l.m.length,l.qd=!Em(l.m),l.qd)))for(n=0;o>n;n++)q=l.m[n];for(e=i.length-1;e>=0;e--){l=i[e],n=l.zc.m,g=l.ri,o=[],n=n.length,l.zc.ki=!1;for(var A in g){for(h=g[A],j=h.ua.length-1;j>=0;j--)k=h.Id[j],void 0==o[k]&&(o[k]=0),o[k]++,0!=k&&void 0!=h.Og&&Math.abs(h.ua[j]-h.Og)<ct&&(h.dh=!0,l.zc.ki=!0);n--}o[0]=n,l.zc.Dm=n>0}for(A=0;0<i.length&&A<i.length;){if(l=i[A],l.zc.Dm){for(n=l.zc.m,g=l.ri,h=-1,o=n.length,n=0;o>n;n++)void 0==g[n]&&(h=n);h>=0&&(o=function(a){return!a.ki},om(f,o,!1,{},l.zc,h,-1,!0,void 0,null),om(f,o,!1,{},l.zc,h,1,!0,void 0,null),i.splice(A,1),A--)}A++}for(A=0;0<i.length&&A<i.length;){if(l=i[A],n=l.zc.m,g=l.ri,!l.zc.Er&&l.zc.ki){o=-1;for(e in g)if(g[e].dh){o=parseInt(e,10),n[o][3]=n[o][2]=g[e].maxHeight;break}o>=0&&(om(f,null,!0,{},l.zc,o,-1,!0,void 0,null),om(f,null,!0,{},l.zc,o,1,!0,void 0,null),i.splice(A,1),A--)}A++}for(A=0;0<i.length&&A<i.length;){if(l=i[A],l=l.zc,!l.Dm){for(g=l.m,h=!1,o=g.length,n=0;o>n;n++)if(g[n][3]){h=!0;break}if(h){A++;continue}if(n=function(a,b,c){var d=[],f=c.length;for(e=0;f>e;e++){var g=c[e];if(a.V!=g.V){var h=tm(g,b);if(h>=0){for(var i=g.m[h][2],j=d.length-1;j>=0;j--)if(2>_(i-d[j].height)){h=-1;break}h>=0&&d.push({zc:g,nu:h,height:i})}}}return d},o=n(l,l.m[0],f),n=n(l,l.m[l.m.length-1],f),g=[],h=!1,1==o.length?(h=0,j=1,l.m[h][2]=o[0].height,om(f,null,!1,g,l,h,j,!1,null,null),h=!0):1==n.length&&(h=l.m.length-1,j=-1,l.m[h][2]=n[0].height,om(f,null,!1,g,l,h,j,!1,null,null),h=!0),h){i.splice(A,1);continue}}A++}return f}function om(a,b,c,d,e,f,g,h,i,j){if(void 0==d[e.V]&&(d[e.V]=!0,e.Er=!0,e.Aj)){var k=e.m,l=e.Aj.ri,m=k[f],n=g>0?k.length:-1;for(f+=g;f!=n;f+=g){var o=k[f];if(void 0==o[3]){var p=l[f];if(p)if(p.dh){for(var q=[],r=0;r<p.ua.length;r++){var s=p.ua[r];0>m[2]+dt-s||q.push(s)}0<q.length&&(1<q.length&&q.sort(function(a,b){return b-a}),o[3]=o[2]=q[0])}else{q=Ap.distance(m,o),1e-4>q&&(q=1e-4);for(var t=[],r=0;r<p.ua.length;r++)s=p.ua[r],t.push({Oj:Math.abs(s-m[2])/q,height:s});t.sort(function(a,b){return a.Oj-b.Oj}),o[3]=o[2]=t[0].height}m=o}}h&&pm(a,b,c,d,e,g,i,j)}}function pm(a,b,c,d,e,f,g,h){var i=e.Ra,j=1==f?e.m.length-1:0;if(e.Aj.ri[j]){var k=e.m[j][2],l=null,m=0>f?e.P[0]:e.P[1];if(m)for(f=0;f<m.$.length;f++){var n=m.$[f];if((!b||b(n))&&n&&n!=e&&n.Ra==i&&n.Aj&&!n.ki){var o=tm(n,e.m[j]);if(!(0>o)){var l=n,p=0==o?0:n.m.length-1,o=0==o?1:-1;void 0==n.m[p][3]&&(n.m[p][3]=n.m[p][2]=k,om(a,b,c,d,n,p,o,!0,g,h))}}}if(!l)if(o=function(a){return b&&!b(a)?!1:a!=e&&a.Aj&&!a.ki},i=function(e,f,i,j){e=fa(j)?tm(f,e.m[i]):j,0>e||(i=0==e?0:f.m.length-1,void 0==f.m[i][3]&&(f.m[i][3]=f.m[i][2]=k,om(a,b,c,d,f,i,0==e?1:-1,!0,g,h)))},m=a.length,c)for(f=0;m>f;f++)n=a[f],o(n)&&i(e,n,j);else{for(p=-1,f=0;m>f;f++)if(n=a[f],e!==n&&(o=tm(n,e.m[j]),o>=0)){if(l){l=null;break}l=n,p=o}l&&i(e,l,j,p)}}}function qm(a,b){this.Ra=a,this.labels=b,this.og=[]}function rm(a,b,c,d,e,f,g,h){this.Ra=a,this.V=b,this.m=c,this.P=d,this.ec=e,this.xc=f,this.wc=g,this.Fc=h,this.attributes=this.Tg=this.labels=null,this.qd=!0,this.Dm=this.ki=this.Qb=!1}function sm(a,b){var c=new rm(a.Ra,a.V,a.m,a.P,a.ec,a.xc,a.wc,a.Fc);if(c.labels=a.labels,c.Tg=a.Tg,c.attributes=a.attributes,c.qd=a.qd,b){var d=a.m,e=[];e.length=d.length;var f,g=e.length;for(f=0;g>f;f++)e[f]=d[f].slice();c.m=e}return c}function tm(a,b){return.1>Ap.X(a.m[0],b)?0:.1>Ap.X(a.m[a.m.length-1],b)?1:-1}function um(a,b,c){this.id=a,this.Wr=b,this.Xr=c,this.height=null,this.Yc=this.Pe=!1,this.$=[],this.bb=[]}function vm(a,b,c){var d=0;for(a=a.$;d<a.length;d++)a[d]===b&&(a[d]=c)}function wm(a,b,c,d,e,f,g,h){return c=new rm(b.Ra,c,d,[null,null],e,f,g,h),a.$.push(c),a.e[c.V]=c,b.og.push(c.V),c}function xm(a,b,c){return(a=a.c[c])?(b=a[b],void 0!==b?b:null):null}function ym(a,b){var c;for(c=0;c<a.bb.length;c++)if(a.bb[c]==b)return!0;return!1}function zm(a){var b,c=Number.MAX_VALUE,d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=-Number.MAX_VALUE;for(b=0;b<a.$.length;b++)var g=a.$[b],c=Math.min(c,g.ec),d=Math.min(d,g.xc),e=Math.max(e,g.wc),f=Math.max(f,g.Fc);a.Ya=[c,d,e,f]}function Am(a){if(a=a.m,!(2>a.length)){var b,c,d,e=a.length-1,f=1,g=a[0],h=a[1],f=g[0];b=g[1],c=h[0],d=h[1];var i=Math.atan2(d-b,c-f);for(g.pb=i,g.mf=null,f=1;e>=f;f++)g=a[f],c=g[0],d=g[1],b=h=0,e>f?(h=a[f+1],b=Math.atan2(h[1]-d,h[0]-c),c=Ap.normalize(Ap.sub(g,a[f-1])),d=Ap.normalize(Ap.sub(h,g)),h=Math.acos(Ap.gl(c,d)),c=Ap.Up(d,-c[1],c[0]),h*=0===c?0:0>c?-1:1,g.pb=b,g.mf=h):(g.pb=i,g.mf=null),i=b}}function Bm(a,b){for(var c=[],d=a.e,e=0;e<b.length;e++)void 0!==d[b[e]]&&c.push(d[b[e]]);return c}function Cm(a,b){var c,d=b.m.length,e=Math.round(b.m[0][0]),f=Math.round(b.m[0][1]);if(c=Math.round(b.m[d-1][0]),d=Math.round(b.m[d-1][1]),e==c&&f==d)return!0;if(e=xm(a,e,f),f=xm(a,c,d),null==e||null==f)return!1;for(c=0;c<e.$.length;c++)if(d=e.$[c],d.V!=b.V&&d.Ra==b.Ra){var g;for(g=0;g<f.$.length;g++)if(d.V==f.$[g].V)return!0}return!1}function Dm(a,b,c,d,e){var f;a.clear(),a.Ah=b.Ah,a.bb=b.bb,a.ng=b.ng;var g=b.$.length,h=0;d=Math.max(1,d);var i=0;if(g>0){var j=new qm(0,null);a.bb[j.Ra]=j}a.g=b.g,a.a=b.a,a.Nf=b.Nf;var k,l,m=Bp.I(a.Nf,c),n=m[0]-d,o=m[0]+d,p=m[1]-d,q=m[1]+d;for(c=0;g>c;c++){var r=b.$[c];e&&e(r)||(d>0&&(r.ec>o||r.xc>q||r.wc<n||r.Fc<p)?i++:(r=sm(r,!0),a.e[r.V]=r,a.$.push(r)))}zm(a);var s;e=[0,0,0],i=[0,0,0],n=[0,0,0],a.Tf=b.Tf,a.Nf=b.Nf,g=a.$.length,b=1/16384;var o=a.a[0][0],p=a.a[1][0]-o,q=a.a[0][1],t=a.a[1][1]-q;for(c=0;g>c;c++){for(r=a.$[c],f=r.m,k=f.length,j=0;k>j;j++)s=f[j][0],l=f[j][1],s=b*s,l=b*(16383-l),e[0]=o+p*l,e[1]=q+t*s,mi(e,i),Bp.I(a.Nf,i,n),f[j]=[n[0],n[1]];if(Gc(f,m,d),j=1<f.length&&Cm(a,r),0==f.length||j)a.e[r.V]=void 0,a.$.splice(c,1),c--,g--;else if(k=f.length,r.labels)for(void 0===a.b[r.Ra]&&(j=new qm(r.Ra,r.labels),a.b[r.Ra]=j),a.b[r.Ra].og.push(r.V),s=[0,k-1],j=0;2>j;j++){var u=r.m[s[j]];k=u[0],l=u[1];var v=Math.round(k),w=Math.round(l);f=null;var x=a.c[w];x?(f=x[v],f||(f=x[v]=new um(a.d++,k,l),a.P.push(f))):(a.c[w]=x=[],f=x[v]=new um(a.d++,k,l),a.P.push(f)),f.$.push(r),ym(f,r.Ra)||f.bb.push(r.Ra),r.P[j]=f,u[0]=f.Wr,u[1]=f.Xr}else h++}for(g=0;g<a.P.length;g++)f=a.P[g],f.Pe=1===f.$.length,f.Yc=1===f.bb.length&&2===f.$.length;for(g=0;g<a.P.length;g++){for(d=a.P[g],h=0;h<d.bb.length;h++);for(h=0;h<d.$.length;h++);}a:for(a=a.P,g=g=0;g<a.length;g++)for(h=a[g],d=0;d<h.$.length;d++)for(c=0;c<h.$.length;c++)if(d!=c&&h.$[d].V==h.$[c].V){So();break a}}function Em(a){var b,c=a.length,d=a[0],e=d[2],f=null===e||void 0===e?1:0;for(b=1;c>b;b++)d=a[b],2==d.length||null===d[2]?null===e||void 0===e?f++:d[2]=e:e=d[2];if(f>0&&c>f)for(d=a[c-1],e=d[2],f-=null===e||void 0===e?1:0,b=c-2;b>=0;b--)d=a[b],2==d.length||null===d[2]?null!==e&&void 0!==e&&(d[2]=e,f--):e=d[2];return 0==f}function Fm(a,b,c){this.Mg=void 0!==c?c:ft,this.a=new xc(this.Mg,function(){Uo()}),this.b=a,this.c=b}function Gm(a,b){null===a.a.get(b)&&a.a.set(b,a.b(b))}function Hm(a,b,c){if(a.a.Jj(b.length,!1),!c&&void 0!==b){var d,e;for(d=0,e=b.length;e>d;d++)Gm(a,b[d])}if(Im(a,b),!c)for(d=0,b=a.a.keys,c=b.length,d=0;c>d;d++)e=yc(a.a,b[d]),(null===e.Lk||!e.pi&&e.oi&&(new Date).getTime()/1e3>e.oi+30)&&(e.Lk=(new Date).getTime()/1e3,e.pi=null,e.oi=null,e.Kk=null,e.data=null,a.c(a,e,function(b,c){if(Wo(),null===a.a)To();else{var d=a.a.get(b);null!==d&&(d.data=c,d.pi=(new Date).getTime()/1e3,"function"==typeof d.Um&&d.Um(),a.C.U(1,[d]))}},function(b,c){To();var d=a.a.get(b);null!==d?(d.data={},d.oi=(new Date).getTime()/1e3,d.Kk=c,"function"==typeof d.Tm&&d.Tm(),a.C.U(2,[d])):a.C.U(2,[b])}))}function Im(a,b){for(var c=0,d=b.length,e=[],f=[],c=0;d>c;c++){var g=a.a.get(b[c]);g&&null!==g.data&&(g.pi?e.push(g):f.push(g))}0<e.length&&a.C.U(1,e),0<f.length&&a.C.U(2,f)}function Jm(a,b,c){c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2]}function Km(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Lm(a,b,c){this.a=c,this.ud=new Nm(0,0,a,b,.5*a,.5*b,0)}function Mm(a,b,c,d,e){this.x=a,this.y=b,this.vg=c,this.ye=d,this.Nc=e}function Nm(a,b,c,d,e,f,g){this.x=a,this.y=b,this.vg=c,this.ye=d,this.n=e,this.c=f,a=.5*(c-a),b=.5*(d-b),this.ih=a*a+b*b,this.o=g,this.b=this.a=null,this.g=0,this.j=1,this.d=2,this.e=3}function Om(a){this.id=a,this.a=this.Ve=null,this.Ya=[0,0,0,0,0,0],this.c=null,this.b=0,this.Qg=this.ph=null,this.d=this.j=this.e=0,this.Qb=!1,this.g=[{id:-1,J:[0,0,0],W:[0,0,0],Ye:[0,0,0]},{id:-1,J:[0,0,0],W:[0,0,0],Ye:[0,0,0]}]}function Pm(a,b,c){var d=a.ph,e=a.Qg;a=3*e[b+0];var f=3*e[b+1];b=3*e[b+2],c.J[0]=d[a],c.J[1]=d[a+1],c.J[2]=d[a+2],c.W[0]=d[f],c.W[1]=d[f+1],c.W[2]=d[f+2],c.Ye[0]=d[b],c.Ye[1]=d[b+1],c.Ye[2]=d[b+2]}function Qm(a){this.id=a,this.la=!1,this.a=this.data=this.Kk=this.oi=this.pi=this.Lk=null,this.ve={}}function Rm(a,b,c,d){for(;0<d.length;){var e=d[d.length-1],f=a[e];if(d.length--,f&&0>b[e]){b[e]=c;for(var g in f)b[g]!=c&&0>b[g]&&d.push(g)}}}function Sm(a,b,c){for(var d=b.length,e=Array(a),f=Array(d),g=0;a>g;g++)e[g]=-1;var h=[],i=0;for(h.push(0),Rm(c,e,i,h),g=0;a>g;g++)c[g]&&0>e[g]&&(i++,h.push(g),Rm(c,e,i,h));for(g=a=0;d>g;g+=3){var h=e[b[g+0]],j=e[b[g+1]];c=e[b[g+2]],h=j>h?h:j,h=h>c?c:h,f[a++]=h}return{Zh:f,Nr:i+1}}function Tm(a){
if(!a.Fi){a.Fi=new Om(a.Bn),a.Fi.Qb=a.Qb;var b=a.Fi;if(null===b.c){b.clear(),Wo();var c=b.Ya=a.Ya.Zb.concat(a.Ya.Nb),d=b.ph=a.ph,e=b.Qg=a.Qg;b.Zh=a.Zh,b.Ve=Dj(a.ta),a=a=0;for(var c=b.c=new Lm(c[3]-c[0],c[4]-c[1],6),f=0,g=e.length;g>f;f+=3){var h,i,j,k;k=3*e[f+0];var l=3*e[f+1],m=3*e[f+2];h=Math.min(d[k],Math.min(d[l],d[m])),i=Math.min(d[k+1],Math.min(d[l+1],d[m+1])),j=Math.max(d[k],Math.max(d[l],d[m])),k=Math.max(d[k+1],Math.max(d[l+1],d[m+1])),c.Hk(new Mm(h,i,h+(j-h),i+(k-i),f)),a++}Wo(),b.c.sort(),Wo()}}}function Um(a,b,c){this.name=c,this.f=a,this.Fa=a.$g(),this.M=b,this.r=null,this.Rc=this.Td=this.vf=!0,this.zi=.1,this.Ia=null,this.Kc=a.Kc,this.aa=new jm,this.a=[],this.dd=[],this.va=new pn,this.Xf=new pn,this.b=[],this.Bd=[],this.s=new pn,this.Kb=new pn,this.hc=this.g=this.j=!1,this.Sc=!rt,this.p=this.c=this.d=0,this.Dk=a.Dk,this.Ho=a.Ho,this.ce=new Ep,this.ce.name="buildingGroup",this.n=new Ep,this.n.name="groundGroup",this.o=new Ep,this.o.name="onGroundGroup",this.bd=new Ep,this.bd.name="roadGroup",this.dc=new Ep,this.dc.name="labelGroup",this.eh=new Ep,this.eh.name="markerGroup",this.e=new vh(this.f.wa,void 0,this.f.Tp);var d;d=Zt?this.f.dj:new cm(this.f.Jc),this.Ci=d,b=new Nh(0,this.Ci.ed,Zt),b.M("LocationReady",this.Mq.bind(this)),b.M("TileReady",this.Nq.bind(this)),this.rg=b,this.fe=!1,this.M.add(this.e),this.M.add(this.ce),this.M.add(this.n),this.M.add(this.o),this.o.add(this.bd),this.o.add(this.dc),this.M.add(this.eh),this.tb=it.ke(),this.xa=$s.ke(),this.cd=Ys.ke(),this.Hc=a.Hc,this.Nd=a.Nd,this.ic=this.Qc=this.H=this.Va=this.v=!1}function Vm(a){a.rg.cancel(),a.fe=!1}function Wm(a,b){if(a.r=b,a.clear(),null!==b){a.ah(),a.Bd=b.ve;for(var c=jn(a)?jt:kt,d=Xi().en(b.ta.get(0),c+lt),c={},e=0;e<d.length;e++)for(var f=d[e].Bb.ve,g=0;g<f.length;g++)for(var h=f[g],i=0;i<h.length;i++){var j=h[i];c[j.Ii]=j}var k,d=[];for(k in c)j=c[k],d.push(j);a.b=0==d.length?b.ve:d,a.dd=b.jf;var l;if(nt){for(j=Xi().en(b.ta.get(0),pt+qt),k={},d=0;d<j.length;d++)for(e=j[d].Bb.jf,f=0;f<e.length;f++)for(g=e[f],h=0;h<g.length;h++)c=g[h],k[c.If]=c;j=[];for(l in k)c=k[l],j.push(c);l=0==j.length?b.jf:j}else l=b.jf;a.a=l,vj(a.tb.C,a,1,a.gp),vj(a.tb.C,a,2,a.gp),vj(a.cd.C,a,1,a.Br),vj(a.xa.C,a,1,a.fp),vj(a.xa.C,a,2,a.fp)}}function Xm(a,b){return a.hc||b?(0!==a.p&&(window.clearTimeout(a.p),a.p=0),a.hc=!0,a.v&&(nn(a),a.f.u()),a.Va&&(cn(a),a.f.u()),a.H&&(on(a),a.f.u()),!0):!1}function Ym(a,b){if(a.j||a.ic)return!0;var c=b||a.b.length==a.s.size();return c&&(0!==a.d&&(window.clearTimeout(a.d),a.d=0),a.j=!0,hn(a)&&(Wo(),en(a.n),no(a.f,Tg(a.r),a.f.mb),gn(a,a.f.fm)),km(a.aa,a.Kb),nn(a),on(a),a.f.u()),c}function Zm(a,b){if(null===a.r)Vo();else if(bu){0!==a.d&&(window.clearTimeout(a.d),a.d=0);for(var c=new pn,d=0;d<a.b.length;d++)c.set(a.b[d].URL,1);var e=[];c.forEach(function(a){e.push(a)}),Hm(a.tb,e,b),Ym(a,!1)||b||(a.d=window.setTimeout(function(){Wo(),Ym(a,!0)},5e3))}else Ym(a,!0)}function $m(a){var b=!1,c=jn(a)?jt:kt;a.s.forEach(function(d,e){if(!e.la){for(var f=!1,g=0;g<a.Bd.length;g++)if(a.Bd[g].Ii==d){gn(a,e),f=b=!0,a.Kb.set(d,e),gn(a,e);break}if(!f){if(f=e.Gc.vk(),g=e.sd?ib(e.sd):null,!g){var g=Ba(),h=Dj(e.ta);va(h.slice(3,7),g),g[12]=h[0],g[13]=h[1],g[14]=h[2]}g=Bp.I(g,f.wk()),Bp.distance(a.r.eb(),g)-f.qj()>c||(b=!0,a.Kb.set(e.Bn,e),gn(a,e))}}}),Ym(a,!1),b&&a.f.u()}function _m(a,b){if(a.g)return!0;var c=b||a.a.length==a.va.size();if(c){0!==a.c&&(window.clearTimeout(a.c),a.c=0),a.g=!0,a.v&&(nn(a),a.f.u()),a.Va&&(cn(a),a.f.u()),a.H&&(on(a),a.f.u()),a.Qc&&a.Gd();var d=a.f.ca;if(0<d.a.size())for(var e in d.a.a){var f=d.a.get(e);f.Nm=!1,f.jd=null}}return c}function an(a,b){if(0!==a.c&&(window.clearTimeout(a.c),a.c=0),cu){for(var c=new pn,d=0;d<a.a.length;d++)c.set(a.a[d].URL,1);var e=[];c.forEach(function(a){e.push(a)}),1>a.a.length&&(a.g=!0),Hm(a.xa,e,b),_m(a,!1)||b||(a.c=window.setTimeout(function(){Wo(),_m(a,!0)},5e3))}else _m(a,!0)}function bn(a){for(var b=!1,c=a.dd.length+1,d=a.f.ej,e=a.dd,f=0;f<e.length;f++)d.fl(e[f].If);d.Jj(Math.ceil(1.5*c),!1),a.va.forEach(function(c,d){if(!d.la){for(var f=!1,g=0;g<e.length;g++)if(e[g].If==c){fn(a,d),f=b=!0,a.Xf.set(c,d);break}if(!f&&nt){var g=Dj(d.ta),f=d.Ya.qj(),h=pa(g.slice(3,7)),i=Ba();va(h,i),i[12]=g[0],i[13]=g[1],i[14]=g[2],st[0]=0,st[1]=0,st[2]=100,i=Bp.I(i,st,tt),(h=Dj(a.r.ta))?(g=Bp.jr(g,i,h),g=Bp.distance(g,h),f=g-f):f=0,pt>=f?(a.Xf.set(d.buildingId,d),mt&&(b=!0,fn(a,d))):ot&&!d.Rh&&d.compact(void 0)}}}),_m(a,!1),b&&a.f.u()}function cn(a){if(a.r&&a.Ia&&0!==a.Ia.bb.length&&a.g&&a.j){for(var b=a.bd,c=b.dg()-1;c>=0;c--){var d=b.Zg(c);d&&d.sa==St.ROUTE&&b.remove(d)}var e=a.f.Ip.on;if(e&&0<e.length){for(var f=kn(a),g=a.r.eb(),h=si(a.Ia.eb()),i=Bp.I(h,g),j=null,k=null,l=Number.MAX_VALUE,m=[],n=!1,c=0;c<e.length;c++){var o=e[c];if(o.Di){n=!0;break}}for(c=0;c<e.length;c++){var p,o=e[c],q=f,r=o,s=h,t=i,u=o.width,v=o.color,w=o.Di,x=void 0,y=void 0,z=r.Tb.length;if(1>z)p=null;else{for(var A=[],B=r.Tb,C=t[2]-3,D=q.Qb()?new sd(q):new rd(q,2,Jq),E=[],F=0;z>F;F++){for(var G=[],H=B[F],I=H.m,J=I.length,K=[0,0,0],L=[0,0,0],M=[0,0,0],O=0;J>O;O++){var P=I[O];K[0]=P[0],K[1]=P[1];var Q=K,R=L,R=R||Bp.create(),S=Q[1]*pp,T=Q[0]*pp,U=Math.sin(T),V=Math.cos(T),W=6378137/Math.sqrt(1-bs*U*U);R[0]=W*V*Math.cos(S),R[1]=W*V*Math.sin(S),R[2]=W*(1-bs)*U,Bp.I(s,L,M);var X=[M[0],M[1],null];X.mf=0,G.push(X)}Gc(G,t,Math.max(1,110)),1<G.length&&E.push({es:H,m:G})}for(D.b(E),F=0;F<E.length;F++){var Y=E[F],H=Y.es,G=Y.m;for(D.a(E,F,C,{}),y=0;y<G.length;y++)x=G[y],null===x[2]&&(x[2]=C);Nc(G),A.push({Hp:r,m:G,Y:H.Y,color:v,mk:Iq.ROUND,lk:Iq.ROUND})}p={Tb:A,width:u,color:v,Di:w,Y:null}}if(p&&p.Tb&&0<p.Tb.length){for(var Z=p.Tb,$=0;$<Z.length;$++){var _=Z[$];if(_&&_.m&&1<_.m.length&&(_.Y=o.Y,n)){var aa=Dc(_.m,i);aa&&aa.Zf<l&&(j=p,k=_,l=aa.Zf)}}m.push(p)}}if(j&&k){for(var Z=j.Tb,ba=Z.indexOf(k),$=0;ba>$;$++)_=Z[$],_.color=j.Di;var ca=Ec(k.m,i);ca&&ca.Rd&&(k.m=ca.Rd,k.color=j.Di,k.mk=Iq.ROUND,k.lk=Iq.TRIANGLE,ca.split&&Z.splice(ba+1,0,{m:ca.Le,color:j.color,mk:Iq.FLAT,lk:Iq.ROUND,Y:k.Y}))}for(c=0;c<m.length;c++){p=m[c];var da,ea=a.Kc,fa=p,ga=fa.Tb,ha=ga.length;if(1>ha)da=null;else{for(var ia={},ja=[],ka=0;ha>ka;ka++){var la=ga[ka],ma=la.color,na=ia[ma];if(!na){var oa=ea.lb,pa=ma,qa=oa.wa.Ob("attribute vec3 a_vertex;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec4 v_position;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n  v_position = u_mat_model * vertex;\n}","#ifdef GL_ES \n\nprecision highp float;\n\n#endif\n\nuniform vec4 u_solid_color;\nuniform vec3 u_center_point;\nuniform float u_distance_limit_start;\nuniform float u_distance_limit_end;\nuniform float u_fadeFactor;\nvarying vec4 v_position;\nvoid main(void) \n{ \n   gl_FragColor = u_solid_color;\n   gl_FragColor.a *= u_fadeFactor;\n   float dist = length(v_position.xyz - u_center_point);\n   if (dist > u_distance_limit_end) {\n     discard;\n   } else {\n     if (dist > u_distance_limit_start) {\n       float vv = 1. - smoothstep(u_distance_limit_start,u_distance_limit_end, dist);\n       gl_FragColor.a = gl_FragColor.a * vv;\n     }\n   }\n}",{position:"a_vertex",normal:"a_normal"}),ra=N(oa.a.Bc);ra.u_solid_color=pa,ra.u_fadeFactor=1,ra.u_center_point=[0,0,0,1],ra.u_distance_limit_start=75,ra.u_distance_limit_end=105;var sa=new Ma(qa,ra);sa.fb("routeMaterial");var ta=new Yi;ej(ta,!0),cj(ta,!0),dj(ta,6,7,1,7),_i(ta,!0),_i(ta,!0),Zi(ta,!1),bj(ta,2),aj(ta,6,3,255),sa.pg(ta),na=sa,ia[ma]=na}var ua=ea,va=fa,wa=la,xa=na,za=ja,Aa=wa.m;if(!(2>Aa.length)){Bp.distance(wa.m[0],wa.m[wa.m.length-1]),Bp.distance(wa.m[0],wa.m[wa.m.length-1]);var Ba=va.width,Ca=.5*Ba,Da=wa.Y,Ea=[0,0],Fa=kp/24,Ga=new Rb(mq);Sb(Ga);var Ha={bh:!0,start:Aa[0],end:Aa[0]};wa.mk==Iq.ROUND?md(ua,Ga,Aa[0][0],Aa[0][1],Aa[0][2],Aa[1][0],Aa[1][1],Ba,24,Ha):wa.mk==Iq.TRIANGLE&&md(ua,Ga,Aa[0][0],Aa[0][1],Aa[0][2],Aa[1][0],Aa[1][1],Ba,2,Ha);var Ia,Ja=Aa.length-1,Ka=void 0,La=void 0,Na=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,Sa=void 0,Ta=void 0,Ua=120*pp,Va=wa.m,Wa=!1;if(!(2>Va.length)){var Xa=Va.length-1,Ya=1,Za=void 0,$a=void 0,ab=void 0,bb=void 0,cb=Va[0],db=Va[1],Za=cb[0],$a=cb[1],ab=db[0],bb=db[1],eb=Math.atan2(bb-$a,ab-Za);for(cb.pb=eb,cb.mf=null,Ya=1;Xa>=Ya;Ya++){var cb=Va[Ya],ab=cb[0],bb=cb[1],fb=0,gb=0;if(Xa>Ya){db=Va[Ya+1],gb=Math.atan2(db[1]-bb,db[0]-ab),Ap.X(cb,Va[Ya-1]);var hb=Ap.normalize(Ap.sub(cb,Va[Ya-1])),ib=Ap.normalize(Ap.sub(db,cb)),fb=Math.acos(Ap.gl(hb,ib));Wa||(Wa=Math.abs(fb)>Ua);var jb=Ap.Up(ib,-hb[1],hb[0]),fb=fb*(0===jb?0:0>jb?-1:1);cb.pb=gb,cb.mf=fb}else cb.pb=eb,cb.mf=null;eb=gb}}if(Ia=Wa,Ia||3>Aa.length)for(Ka=1;Ja>=Ka;Ka++){var kb=Aa[Ka-1],lb=Aa[Ka],Ha={bh:!0,start:kb,end:lb};ld(ua,Ga,kb[0],kb[1],kb[2],lb[0],lb[1],lb[2],Ba,Ha)}else{var mb=Aa[0],ob=Aa[1],La=mb[0],Na=mb[1],Oa=mb[2],Ta=Sa=0,pb=mb.pb,qb=Math.sin(pb),rb=Math.cos(pb),sb=Ca*qb,tb=Ca*rb,ub=[La+sb,Na-tb,Oa?Oa:0],vb=[La-sb,Na+tb,Oa?Oa:0],wb=void 0,xb=void 0,yb=Xb(Ga,vb,ua.b,ua.a);for(Xb(Ga,ub,ua.b,ua.a),Ka=1;Ja>=Ka;Ka++){var zb,mb=Aa[Ka],Pa=mb[0],Qa=mb[1],Ra=mb[2],Ab=!0,Bb=mb.mf,Cb=0;if(Ja>Ka?(ob=Aa[Ka+1],Sa=ob[0],Ta=ob[1],Cb=mb.pb,zb=pb+.5*Bb,Ab=Math.abs(Bb)<Fa):(zb=pb,Ab=!0),Ha={bh:!0,start:Aa[Ka-1],end:mb},Ab)qb=Math.sin(zb),rb=Math.cos(zb),sb=Ca*qb,tb=Ca*rb,wb=[Pa+sb,Qa-tb,Ra?Ra:0],xb=[Pa-sb,Qa+tb,Ra?Ra:0],Xb(Ga,xb,ua.b,ua.a),yb=Xb(Ga,wb,ua.b,ua.a),Yb(Ga,yb-3,yb-2,yb,yb-3,yb,yb-1,Ha);else{var Db,Eb,Fb,Gb,Hb=Math.round(Math.abs(Bb)/Fa);if(Bb>0){qb=Math.sin(Cb),rb=Math.cos(Cb),Db=Math.sin(pb),Eb=Math.cos(pb),sb=Ca*qb,tb=Ca*rb,Fb=Ca*Db,Gb=Ca*Eb,od(vb[0],vb[1],Pa-Fb,Qa+Gb,Pa-sb,Qa+tb,Sa-sb,Ta+tb,Ea);var xb=[Ea[0],Ea[1],Ra?Ra:0],wb=[Pa+Fb,Qa-Gb,Ra?Ra:0],Ib=[Pa+sb,Qa-tb,Ra?Ra:0];Xb(Ga,wb,ua.b,ua.a),yb=Xb(Ga,xb,ua.b,ua.a),1===Hb?(yb=Xb(Ga,Ib,ua.b,ua.a),Zb(Ga,yb-4,yb-3,yb-1,yb-3,yb-2,yb-1,yb-2,yb,yb-1,Ha)):(Yb(Ga,yb-3,yb-2,yb,yb-2,yb-1,yb,Ha),nd(ua,Ga,Pa,Qa,Ra,xb[0],xb[1],wb[0],wb[1],Ib[0],Ib[1],Hb,Ha),Xb(Ga,xb,ua.b,ua.a),Xb(Ga,Ib,ua.b,ua.a)),vb=xb,ub=Ib}else{qb=Math.sin(Cb),rb=Math.cos(Cb),Db=Math.sin(pb),Eb=Math.cos(pb),sb=Ca*qb,tb=Ca*rb,Fb=Ca*Db,Gb=Ca*Eb;var xb=[Pa-Fb,Qa+Gb,Ra?Ra:0],Jb=[Pa-sb,Qa+tb,Ra?Ra:0];od(ub[0],ub[1],Pa+Fb,Qa-Gb,Pa+sb,Qa-tb,Sa+sb,Ta-tb,Ea),wb=[Ea[0],Ea[1],Ra?Ra:0],1===Hb?(Xb(Ga,xb,ua.b,ua.a),Xb(Ga,Jb,ua.b,ua.a),yb=Xb(Ga,wb,ua.b,ua.a),Zb(Ga,yb-4,yb-3,yb-2,yb-3,yb,yb-2,yb,yb-1,yb-2,Ha)):(Xb(Ga,xb,ua.b,ua.a),yb=Xb(Ga,wb,ua.b,ua.a),Yb(Ga,yb-3,yb-2,yb-1,yb-2,yb,yb-1,Ha),nd(ua,Ga,Pa,Qa,Ra,wb[0],wb[1],Jb[0],Jb[1],xb[0],xb[1],Hb,Ha),Xb(Ga,Jb,ua.b,ua.a),Xb(Ga,wb,ua.b,ua.a)),vb=Jb,ub=wb}}pb=Cb}}if(Ha={bh:!0,start:Aa[Ja-1],end:Aa[Ja],Y:Da},wa.lk==Iq.ROUND?md(ua,Ga,Aa[Ja][0],Aa[Ja][1],Aa[Ja][2]?Aa[Ja][2]:0,Aa[Ja-1][0],Aa[Ja-1][1],Ba,24,Ha):wa.lk==Iq.TRIANGLE&&md(ua,Ga,Aa[Ja][0],Aa[Ja][1],Aa[Ja][2]?Aa[Ja][2]:0,Aa[Ja-1][0],Aa[Ja-1][1],Ba,2,Ha),0<Ga.c){xa.Sf=3;var Kb=new nb(new ya(ua.mb,Ga.hb()),xa);_a(Kb,St.ROUTE),Kb.Y=Da,za.push(Kb)}}}da=ja}if(da)for(var Lb=0;Lb<da.length;Lb++)b.add(da[Lb])}}a.Va=!1}else a.Va=!0}function dn(a,b){a.ce.forEach(function(c){c.M&&(c.Ha=a.Rc?b:a.f.Hd)})}function en(a){if(a&&a.ea)for(;0<a.ea.length;)a.remove(a.ea[0])}function fn(a,b){var c=b.buildingId;if(!(0<db(a.ce,c).length)){var d=b.sd;if(!d){var e=a.f.ej.get(b.buildingId);e&&(d=e.sd,b.sd=e.sd)}d?d&&a.f.ej.fl(b.buildingId):(e=b.nd(a.f.mb))&&(d=new nb(e,null),b.sd=d,_a(d,St.BUILDING),d.fb(c),d.M=!0,d.fr=b.Ya,c=Dj(b.ta),eb(d,c),gb(d,c.slice(3,7)),a.f.ej.set(b.buildingId,b)),d&&a.ce.add(d)}}function gn(a,b){var c=b.sd,d=Dj(b.ta);c||(c=new nb(b.Gc,null),b.sd=c,_a(c,St.TERRAIN),c.Ha=a.f.cl),eb(c,d),gb(c,d.slice(3,7)),c.F(a.Td),c instanceof nb&&(c.Ha.Sf=a.Dk?2:3),c instanceof Ep&&0<c.ea.length&&(c.ea[0].Ha.Sf=a.Dk?2:3),a.n.add(c)}function hn(a){if(!bu)return!0;var b=!1;return a.s.forEach(function(a,c){c.la&&(b=!0)}),b||0==a.b.length}function jn(a){var b=!1;return a.Kb.forEach(function(a,c){return!c.la&&c.Qb?b=!0:void 0}),b}function kn(a){return hn(a)?(no(a.f,Tg(a.r),a.f.mb),a.f.qk):a.aa}function ln(a){try{if(a.r&&(a.r&&a.r.Rb?1>a.r.Rb.a:1)&&!a.r.a&&kn(a).kf()){Tg(a.r);var b,c=a.Ia,d=kn(a);if(d.kf()&&c){var e=c.eb(),f=si(e),g=a.r.ib(),h=Bp.I(f,g),i=d.ue(h[0],h[1],8);b=null===i?null:i}else b=null;if(null!==b){var j=a.r.eb().slice(0,3);a.r.b=Tg(a.r).slice(0,3);var k=Tg(a.r);k[2]=b+3,a.r.ta.set(k),a.r.a=!0,Bp.$f(j,a.f.ya.S)&&eb(a.f.ya,a.r.eb())}}}catch(l){So()}}function mn(a,b){a.Sc=!rt||b,a.Sc&&(a.v&&nn(a),a.H&&on(a))}function nn(a){if(a.r&&a.Ia&&a.Sc&&0!==a.Ia.bb.length&&a.g&&a.j){if(a.aa&&a.aa.Xk(a.Ia.eb()),ln(a),a.Kc.clear(a.r),a.Ia){var b=a.Ia.eb(),c=oa(b[3],b[4],b[5],b[6]);eb(a.o,b),gb(a.o,c),void 0!==a.bd&&eb(a.bd,[0,0,.1]),void 0!==a.dc&&eb(a.dc,[0,0,.1])}if(0===a.bd.dg()){var b=a.Kc,d=a.Ia,e=kn(a);if(null!==d&&null!==e&&e.kf()){var f,g,h;if(b.c=.5*b.n,e.kf()){if(c=rq,b.c=.5*b.n,null===b.j||b.e!=c){b.e=c,iq[3]=.25,b.j=Rn(b.lb,iq,b.e,!1),jq[3]=.25,b.o=Rn(b.lb,jq,b.e,!b.e);var i=b.lb,c=b.e,j=i.wa.Ob("attribute vec3 a_vertex;\nattribute float a_opacity;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying float v_opacity;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n  v_opacity = a_opacity;\n}","#ifdef GL_ES \n\nprecision highp float;\n\n#endif\n\nuniform vec4 u_solid_color;\nuniform float u_fadeFactor;\nvarying float v_opacity;\nvoid main(void) \n{ \n   gl_FragColor = u_solid_color;\n   gl_FragColor.a = gl_FragColor.a * v_opacity * u_fadeFactor;\n}",{position:"a_vertex",normal:"a_normal",opacity:"a_opacity"}),i=N(i.a.Bc);i.u_solid_color=iq,i.u_fadeFactor=1,j=new Ma(j,i),j.fb("roadPieceMaterial"),i=new Yi,ej(i,!0),cj(i,!0),dj(i,6,7),_i(i,!0),c?(Zi(i,!1),bj(i,3),aj(i,3,1,3)):(Zi(i,!0),$i(i),bj(i,2),aj(i,4,1,1)),j.pg(i)}var c=[],j=[0,0],i=Math.round(Math.PI/.5),k=d.$,l=0,l=pq+qq,k=nm(d,e),m=a.r.eb(),l=l*l||1e4,e=Bp.create();for(Bp.I(d.Nf,m,e),m=[],d=0;d<k.length;d++){var n=k[d];n.qd||(g=Dc(n.m,e))&&g.Zf<l&&m.push(n)}for(k=m,l=0,m=new Rb(lq),d=new Rb(lq),Sb(m),Sb(d);l<k.length;l++)if(e=k[l],!(2>e.m.length||(Nc(e.m),e.qd&&(e.qd=!Em(e.m)),e.qd))&&(n=e.Tg?e.Tg:3,(0>n||n>=fq.length)&&(n=3),g=fq[n],g.na)){var n=e.tm(b.p),o={name:n,bh:!1,mn:l,start:e.m[0],end:e.m[0]},p=b.n*g.Pc,q=.5*p,r=e.labels?m:d;md(b,r,e.m[0][0],e.m[0][1],e.m[0][2],e.m[1][0],e.m[1][1],p,i,o),g=e.m.length-1;var s,t,u,v;h=e.m,v=!1;var w=120*pp;for(f=1;g>f;f++)if(Math.abs(h[f].mf)>w){v=!0;break}if(v||3>e.m.length)for(f=1;g>=f;f++)q=e.m[f-1],h=e.m[f],o={name:n,bh:!1,mn:l,start:q,end:h},ld(b,r,q[0],q[1],q[2],h[0],h[1],h[2],p,o);else{o=e.m[0],v=e.m[1],f=o[0],s=o[1],t=o[2],v=h=0;var x,y=o.pb,z=Math.sin(y),A=Math.cos(y),z=q*z,A=q*A,w=[f+z,s-A,t?t:0],B=[f-z,s+A,t?t:0],z=Xb(r,B,b.b,b.a);for(Xb(r,w,b.b,b.a),f=1;g>=f;f++){o=e.m[f],s=o[0],t=o[1],u=o[2];var C,A=!0,z=o.mf,D=0;if(g>f?(v=e.m[f+1],h=v[0],v=v[1],D=o.pb,C=y+.5*z,A=.5>Math.abs(z)):(C=y,A=!0),o={name:n,bh:!1,mn:l,start:e.m[f-1],end:o},A)z=Math.sin(C),A=Math.cos(C),z*=q,A*=q,x=[s+z,t-A,u?u:0],y=[s-z,t+A,u?u:0],Xb(r,y,b.b,b.a),z=Xb(r,x,b.b,b.a),Yb(r,z-3,z-2,z,z-3,z,z-1,o);else{C=Math.round(Math.abs(z)/.5);var E;z>0?(z=Math.sin(D),A=Math.cos(D),x=Math.sin(y),y=Math.cos(y),z*=q,A*=q,x*=q,E=q*y,od(B[0],B[1],s-x,t+E,s-z,t+A,h-z,v+A,j),y=[j[0],j[1],u?u:0],x=[s+x,t-E,u?u:0],w=[s+z,t-A,u?u:0],Xb(r,x,b.b,b.a),z=Xb(r,y,b.b,b.a),1===C?(z=Xb(r,w,b.b,b.a),Zb(r,z-4,z-3,z-1,z-3,z-2,z-1,z-2,z,z-1,o)):(Yb(r,z-3,z-2,z,z-2,z-1,z,o),nd(b,r,s,t,u,y[0],y[1],x[0],x[1],w[0],w[1],C,o),Xb(r,y,b.b,b.a),Xb(r,w,b.b,b.a)),B=y):(z=Math.sin(D),A=Math.cos(D),x=Math.sin(y),y=Math.cos(y),z*=q,A*=q,x*=q,E=q*y,y=[s-x,t+E,u?u:0],B=[s-z,t+A,u?u:0],od(w[0],w[1],s+x,t-E,s+z,t-A,h+z,v-A,j),x=[j[0],j[1],u?u:0],1===C?(Xb(r,y,b.b,b.a),Xb(r,B,b.b,b.a),z=Xb(r,x,b.b,b.a),Zb(r,z-4,z-3,z-2,z-3,z,z-2,z,z-1,z-2,o)):(Xb(r,y,b.b,b.a),z=Xb(r,x,b.b,b.a),Yb(r,z-3,z-2,z-1,z-2,z,z-1,o),nd(b,r,s,t,u,x[0],x[1],B[0],B[1],y[0],y[1],C,o),Xb(r,B,b.b,b.a),Xb(r,x,b.b,b.a)),w=x)}y=D}}o={name:n,bh:!1,mn:l,start:e.m[g-1],end:e.m[g]},md(b,r,e.m[g][0],e.m[g][1],e.m[g][2]?e.m[g][2]:0,e.m[g-1][0],e.m[g-1][1],p,i,o)}0<m.c&&(b.j.Sf=3,j=new nb(new ya(b.mb,m.hb()),b.j),_a(j,Ht),c.push(j)),0<d.c&&(b.o.Sf=3,b=new nb(new ya(b.mb,d.hb()),b.o),_a(b,It),c.push(b)),b=c}else b=0;if(en(a.bd),b)for(c=0;c<b.length;c++)a.bd.add(b[c])}}a.v=!1,cn(a)}else a.v=!0}function on(a){if(0<a.f.Ea.Pb().height&&a.r&&a.Ia&&a.Sc&&0!==a.Ia.bb.length&&a.g&&a.j){if(0===a.dc.dg()){en(a.dc);var b;b=a.Kc;var c=a.Ia,d=kn(a);if(null!==c&&null!==d&&d.kf()){var e=a.f.N();b.aa=a.f.Ea.Pb().height,b.H=V(e.cg()),b.M=2*Math.tan(.5*b.H)/b.aa;var e=null,e=si(c.eb()),f=a.r.ib(),e=Bp.I(e,f),e=[e[0]-0,e[1]-0,e[2]-a.bd.S[2]],f=a.f.nh,g=[],h=new lm;h.Db(c);var i=h.b,j=null;for(j in i){var k=i[j],l=k.tm(b.p),m=dd(b,a,g,k,h,d,e,f,l);if(!m)for(;!m&&(m=Math.floor(.7*l.length),!(2>m));)l=l.substr(0,m),m=dd(b,a,g,k,h,d,e,f,l+"...")}e=g,gd(b,a,[e],c,!0),b=e}else b=null;if(b){for(c=a.Hc.length=0;c<a.Nd.length;c++)a.Hc[c]=a.Nd[c];for(c=0;c<b.length;c++){for(d=b[c],f=e=void 0,g=null,h=h=0;h<a.Hc.length;h++)if(g=a.Hc[h],g.Vk==d.Vk){if(f=g.kh!=d.kh,g.Xm!=d.Xm){e=!0;break}if(null!=g.Ai){h=Bp.X(g.Ai,d.Ai),e=h>1?!0:!1;break}break}g&&!1===e&&!1===f?(eb(d.we,g.we.S),gb(d.we,g.we.Ak()),d.we.ea[0].ie=1):d.we.ea[0].ie=null,a.dc.add(d.we)}for(c=a.Nd.length=0;c<b.length;c++)a.Nd[c]=b[c];if(0==a.Hc.length)for(c=0;c<b.length;c++)a.Hc[c]=b[c]}else a.Hc.length=0,a.Nd.length=0;a.dc.F(a.vf)}a.H=!1}else a.H=!0}function pn(a){a instanceof pn?(this.a=N(a.a),this.da=a.da):this.clear()}function qn(){}function rn(){this.ea=new pn}function sn(a){a instanceof sn?(this.ra=new a.ra.constructor,this.a=N(a.a),this.b=N(a.b),this.c=N(a.c),Ep.call(this,a)):(this.ra=a||new rn,this.a=new pn,this.b=new pn,this.c=new pn,Ep.call(this))}function tn(a,b,c,d,e){e=e||{Qo:!0,ne:!0};var f=J(e.Qo,!0),g=J(e.ne,!0);b=Ca(b),e=Ca(c);var h=Ba(),i=Ba();c=Fa(c);var j,k,l=c[12],m=c[13],n=c[14];e[12]=0,e[13]=0,e[14]=0;var o=new $a;o.a=b,o.sf=e,o.rf=h,g&&(o.ne=i),f&&(c=Da(b,e),j=new Ra(c)),a.sg(function(a){if(a.Qa()){Ca(ib(a),h),h[12]-=l,h[13]-=m,h[14]-=n,g&&(Fa(h,i),Ea(i,i));var b=!1;if(f){var b=k=j.d(h),c=a.sc(),b=c?Cb(c,b):!1;o.b=k}b||(o.object=a,d(a,o))}},function(a){return f&&a?!Cb(a,j):!0})}function un(a,b,c,d,e){var f=Fb(),g=Bp.create();a.sg(function(a){if(!d||d(a)){Ib(jb(a),b,f);var h=a.$h(f,g,e);h>=0&&c(a,h,g)}},function(a){return a?a.le(b):!0})}function vn(a,b){var c=b.Da();a.a.set(c,b)&&(a.b.remove(c),a.c.remove(c))}function wn(a,b){var c=b.Da();a.b.set(c,b)&&(a.a.remove(c),a.c.remove(c))}function xn(a,b){var c=b.Da();a.a.get(c)||a.b.get(c)||a.c.set(c,b)}function yn(a,b){this.df=a,this.ed=this.o(b),this.ze=void 0,this.gk=0,ju&&(this.gk=window.devicePixelRatio||1),this.ho=this.g(),this.Ng=this.j()}function zn(){this.To=[],this.de=document.createElement("div"),this.gj=document.createElement("div"),3<=(window.devicePixelRatio||1)&&Cl(this.de,"transformStyle","preserve-3d"),An(this.de,1),An(this.gj,2)}function An(a,b){var c=a.style;c.pointerEvents="none",c.position="absolute",c.top="50%",c.left="50%",c.zIndex=b}function Bn(a,b){this.index=a,this.de=document.createElement("div"),Cl(this.de,"backfaceVisibility","hidden");var c=this.de.style;c.position="absolute",c.top=c.left=(-b/2).toFixed(2)+"px",c.width=c.height=b+"px"}function Cn(a,b){if(a instanceof Cn)Ep.call(this,a),this.a=this.Zg(0),this.Jd=this.Zg(1);else if(a instanceof sh){var c=Rt,d=b||ip;Ep.call(this),_a(this,c),this.fb("cursorGroup");var e=new sb(a,d);_a(e,c),e.fb("cursormarker"),this.a=e,this.add(e),d=new sb(a,d),_a(d,c),d.fb("cursoricon"),this.Jd=d,this.add(d)}this.c=yt,this.b=1,this.an=new rk}function Dn(a,b,c){var d=a.Pa();this.e=new rk,this.d=new rk,this.c=new rk,this.g=a,b||(b=window.devicePixelRatio||1,b=new xj(0,0,Math.round(a.La.width/b),Math.round(a.La.height/b))),this.b=b,this.Ml=c||Tl(a)+1,this.df=d.$l(),this.a=this.Vf=!0,a.a.push(this)}function En(a,b){var c=a.g,d=a.b;(d.x!=b.x||d.y!=b.y)&&(Sl(c,d).forEach(function(a){a.a=!0}),d.x=b.x,d.y=b.y,a.d.call({target:a}),a.a=!0),(d.width!=b.width||d.height!=b.height)&&(Sl(c,d).forEach(function(a){a.a=!0}),d.width=b.width,d.height=b.height,a.e.call({target:a}),a.a=!0)}function Fn(a){var b=a.b.width;return(a=0|a.b.height)?b/a:1}function Gn(a,b){var c=a.Pb();return new wj(b.x-c.x,b.y-c.y)}function Hn(a,b){var c;c=c||Bp.create();var d=a.Pb();return d.width&&d.height?(c[0]=b.x/d.width*2-1,c[1]=-(b.y/d.height*2-1)):(c[0]=0,c[1]=0),c[2]=-1,c}function In(){this.ak=new pn,this.Gh=[]}function Jn(a,b){a.Gh=b}function Kn(a,b){this.a=N(Wt),this.n=N(Xt),this.wa=a,this.Vb=b,this.c=this.b=null,this.d=this.wa.Ob(Tt,Ut,Vt)}function Ln(a){return I(a.e)&&(a.e=a.wa.Ob("attribute vec3 a_vertex;\nattribute vec2 a_texcoord;\nattribute vec4 a_color;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec4 v_color;\nvoid main(void)\n{\n vec4 vertex = vec4(a_vertex, 1.0); \n  v_color = a_color; \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 v_color;\nvoid main(void) \n{ \n   gl_FragColor = v_color;\n}",{position:"a_vertex",texcoord:"a_texcoord"})),a=new Ma(a.e,a.a.Bc),a.fb("createColoredMaterial"),a}function Mn(a,b){var c=b||[.3,0,1,1],c=a.wa.Ob(["attribute vec3 a_vertex;\nattribute vec2 a_texcoord;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec4 v_color;\nvoid main(void)\n{\n vec4 vertex = vec4(a_vertex, 1.0); \n  v_color = vec4(",c[0]+", ",c[1]+", ",c[2]+", ",c[3]+"); ","  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n}"].join("\n"),"#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 v_color;\nuniform float u_alphaFactor;\nvoid main(void) \n{ \n   gl_FragColor = v_color;\n   gl_FragColor.a = gl_FragColor.a * u_alphaFactor;\n}",{position:"a_vertex",texcoord:"a_texcoord"});a.a.Bc.u_alphaFactor=1,c=new Ma(c,a.a.Bc),c.fb("cplMaterial");var d=c.tc();return cj(d,!0),fj(d,0,1),Zi(d,!1),dj(d,6,7,12,12),c}function Nn(a){I(a.j)&&(a.j=a.wa.Ob("attribute vec3 a_vertex;\nattribute vec2 a_texcoord;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec2 v_texcoord;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n  v_texcoord = a_texcoord;\n}","#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec2 v_texcoord;\nuniform sampler2D u_texunit0;\nuniform float u_alphaFactor;\nvoid main(void) \n{ \n   gl_FragColor = texture2D(u_texunit0, v_texcoord);\n   if (gl_FragColor.a < 0.001) {\n     discard;\n   }\n   gl_FragColor.a = gl_FragColor.a * u_alphaFactor;\n}",{position:"a_vertex",texcoord:"a_texcoord"})),a.a.Bc.u_alphaFactor=1,a=new Ma(a.j,a.a.Bc),a.fb("MarkerMaterial");var b=a.tc();return cj(b,!0),fj(b,1,1),dj(b,6,7,12,12),a}function On(a){if(!a.b){var b=N(a.a.Bc);b.u_fadeFactor=1,b=new Ma(a.d,b),b.fb("spriteMaterial");var c=b.tc();Zi(c,!1),cj(c,!0),fj(c,0,1),dj(c,6,7,12,12),a.b=b}return a.b}function Pn(a){return a.c||(a.c=Qn(a)),a.c}function Qn(a){var b=N(a.a.Bc);return b.u_opacity=1,b.u_fadeFactor=1,a=new Ma(a.d,b),a.fb("markerMaterial"),b=a.tc(),Zi(b,!1),cj(b,!0),fj(b,0,1),dj(b,6,7,12,12),ej(b,!1),a}function Rn(a,b,c,d){var e=pq,f=qq,g=a.wa.Ob("attribute vec3 a_vertex;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec4 v_position;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  gl_Position = u_mat_proj * u_mat_view * u_mat_model * vertex;\n  v_position = u_mat_model * vertex;\n}","#ifdef GL_ES \n\nprecision highp float;\n\n#endif\n\nuniform vec4 u_solid_color;\nuniform vec3 u_center_point;\nuniform float u_distance_limit_start;\nuniform float u_distance_limit_end;\nuniform float u_fadeFactor;\nvarying vec4 v_position;\nvoid main(void) \n{ \n   gl_FragColor = u_solid_color;\n   gl_FragColor.a *= u_fadeFactor;\n   float dist = length(v_position.xyz - u_center_point);\n   if (dist > u_distance_limit_end) {\n     discard;\n   } else {\n     if (dist > u_distance_limit_start) {\n       float vv = 1. - smoothstep(u_distance_limit_start,u_distance_limit_end, dist);\n       gl_FragColor.a = gl_FragColor.a * vv;\n     }\n   }\n}",{position:"a_vertex",normal:"a_normal"}),e=e?e:20,f=f?e+f:e+20;return a=N(a.a.Bc),a.u_solid_color=b,a.u_fadeFactor=1,a.u_center_point=[0,0,0,1],a.u_distance_limit_start=e,a.u_distance_limit_end=f,b=new Ma(g,a),b.fb("roadMaterial"),g=new Yi,ej(g,!0),cj(g,!0),dj(g,6,7,1,7),_i(g,!0),c?(Zi(g,!1),bj(g,3),aj(g,3,1,255)):(Zi(g,!d),$i(g),bj(g,2),aj(g,4,1,1)),b.pg(g),b}function Sn(a){return a=Tn(a,"transition",{position:"a_vertex"}),a.Pm=!0,a}function Tn(a,b,c){var d,e="__"+b;if(a[e])d=a[e];else{var f;if(I(hp))H("No shader code!"),f=null;else{if(d=hp[b],f=d.defaultUniformValues,!I(f)&&"string"==typeof f)try{d.defaultUniformValues=window.JSON.parse(f)}catch(g){}f=d}d={},d.os=f.defaultUniformValues,d.object=a.wa.Ob(f.vs,f.fs,c),a[e]=d}return a=new Ma(d.object,d.os),a.fb(b),a}function Un(a){this.Ea=this.c=this.wa=this.Jc=null,this.Za=a,this.Nd=this.Hc=this.nh=this.Fa=this.b=this.ya=this.Ca=null,this.wi=this.xi=this.vf=!0,this.Ho=this.Dk=!1,this.lg=!0,this.ej=new im,this.Z=this.k=null,this.Cd=new Hj,this.Cd.name="current",this.Zd=new Hj,this.Zd.name="next",this.Vb=this.mb=null,this.vo=Zt?!0:!1,this.gg=!0,this.Dp=!1,this.e=[],this.Hp=this.fm=this.qk=null,this.globalLabelOpacity=0,this.globalOverlayOpacity=1,this.g=!0,this.v=0,this.p=this.M=this.H=null,this.l=new C(this),this.ic=[Lt,Nt,Kt,Jt,St.ROUTE,Ht,It,Gt,St.TERRAIN,St.BUILDING],this.hc=[St.TERRAIN,Ft,St.BUILDING,Gt,Ht,It,St.ROUTE,Ot,Pt,Qt,Jt,Kt,Lt,Nt,Rt],this.a={},this.a[0]=0,this.a[St.TERRAIN]=St.TERRAIN,this.a[Ft]=Ft,this.a[St.BUILDING]=St.BUILDING,this.a[Gt]=Gt,this.a[Ht]=Ht,this.a[It]=It,this.a[St.ROUTE]=St.ROUTE,this.a[Ot]=Ot,this.a[Pt]=Pt,this.a[Qt]=0,this.a[Lt]=Qt,this.a[Nt]=Qt,this.a[Mt]=Qt,this.a[Jt]=Jt,this.a[Kt]=Kt,this.a[Rt]=Rt,this.a[9999]=9999,this.a[1e4]=1e4,this.aa=new h,this.ca=new Ff(this),this.j=new uc,this.Ip=new Mk}function Vn(a,b,c){a.va=0,a.c=Zt?new Pl(b,"software"):new Pl(b,"webgl"),a.Ea=new Dn(a.c),a.wa=a.c.Pa(),a.Jc=a.Ea.df,Ql(a.c,new xj(0,0,b.clientWidth,b.clientHeight)),En(a.Ea,a.c.Pb()),a.ya=new cc({ld:Yt*pp,Tl:Fn(a.Ea),Nk:1,tk:1e3}),a.ya.fb("panoramaCamera"),a.b=new cc({ld:Yt*pp,Tl:Fn(a.Ea),Nk:1,tk:1e3}),a.b.fb("freeCamera"),a.Ca=a.ya,a.p=a.mr.bind(a),a.Ea.c.qc(a.p),a.mb=a.wa.oj(),a.Vb=a.wa.Ck(),Zt||(a.Jc.Wk(0,0,0,0),a.Jc.clear()),a.lb=new Kn(a.wa,a.Vb);var d=a.lb;a.xa=Tn(d,"fixedCube",{position:"a_vertex"});var e=Tn(d,"transitionFixedCube",{position:"a_vertex"});e.Pm=!0,a.Tp=e;var e=Tn(d,"renderToDepthBuffer",{position:"a_vertex"}),f=new Yi;f.p=0,gj(f),e.pg(f),a.Hd=e,e=Tn(d,"transitionHighlight",{position:"a_vertex",normal:"a_normal"}),e.Pm=!0,a.o=e,e=Cc(1081565,.5),e=d.wa.Ob(["attribute vec3 a_vertex;\nattribute vec3 a_normal;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nuniform mat4 u_mat_normal;\nuniform vec4 u_ambient_color;\nuniform vec3 u_directional_light_direction;\nuniform vec4 u_directional_light_color;\nuniform vec3 u_point_light_position;\nuniform vec4 u_point_light_color;\nvarying vec4 v_color;\nvarying vec4 v_light_weight;\nvoid main(void)\n{\n  vec4 vertex = vec4(a_vertex, 1.0); \n  v_color = vec4(",e[0]+", ",e[1]+", ",e[2]+", ",e[3]+"); ","  vec4 mv_position = u_mat_view * u_mat_model * vertex;\n  gl_Position = u_mat_proj * mv_position;\n  vec4 trans_normal = u_mat_normal * vec4(a_normal, 0.0);\n  vec3 point_light_dir =\n     normalize(u_point_light_position - mv_position.xyz);\n  float point_light_weight =\n     max(dot(trans_normal.xyz, point_light_dir), 0.0);\n  float dir_light_weight = \n    max(dot(trans_normal.xyz,\n      normalize(u_directional_light_direction)), 0.0);\n  v_light_weight = u_ambient_color +\n    u_directional_light_color * dir_light_weight +\n    u_point_light_color * point_light_weight;\n}"].join("\n"),"#ifdef GL_ES \n\nprecision highp float;\n\n#endif\n\nvarying vec4 v_color;\nvarying vec4 v_light_weight;\nvoid main(void) \n{ \n   gl_FragColor = vec4(v_color.rgb * v_light_weight.rgb, v_color.a);\n}",{position:"a_vertex",normal:"a_normal"}),new Ma(e,d.n.Bc).fb("createLightedMaterial"),a.cl=Sn(d),a.Hf=Sn(d),d=a.Hd.tc(),_i(d,!0),bj(d,2),aj(d,7,3,4294967295),d=a.o.tc(),_i(d,!0),bj(d,2),aj(d,7,3,4294967295),d=a.Hf.tc(),_i(d,!0),bj(d,2),aj(d,7,3,4294967295),d=a.cl.tc(),_i(d,!0),bj(d,2),aj(d,7,1,4294967295),a.Va=a.Hd,a.Kb=a.cl,a.tb=a.xa,a.n=[a.xa,a.Tp,a.o,a.cl,a.Hf],Na(a.o,"u_highlight_color",Cc(1081565,.5)),uk(),a.nh=new am(a.Vb),d=a.nh,d.b=new _l(d.Vb),d.a=new Yl(d.b,!0),a.Hc=[],a.Nd=[],a.d=new In,a.Fa=new sn(a.d),a.Kc=new Uc(a.mb,a.Vb,a.lb),vj(uk().C,a,"loaded",a.Ar),vj(uk().C,a,"failed",a.zr),I(window.WebFontConfig)&&(Uo(),wk("loading"),d=Ds,e=sq,Wo(),f=Hs,Fs[e]="loaded",zk(d),0===d.a&&0<f.length&&Ak(d)),d=new Dk(a),d.$c.qc(a.xr.bind(a)),a.K=d,d=On(a.lb),null===a.wa?So():(d=new Cn(a.wa,{Se:d}),d.F(!1),a.gh=d,a.Fa.add(d)),d=On(a.lb),null===a.wa?So():(d=new Cn(a.wa,{Se:d}),d.F(!1),a.cursor=d,a.Fa.add(d)),Zt&&(a.dj=new yn(a.Jc)),a.k=new Um(a,a.Fa,"#######ONE#########"),a.k.Xe(!1),a.Z=new Um(a,a.Fa,"#######TWO#########"),a.Z.Xe(!1),ho(a),a.Zd.set(a.Cd),a.e=[a.k,a.Z],a.Fa.add(a.ya),a.Fa.add(a.b),d=a.j,e=a.mb,f=a.lb,d.f=a,d.mb=e,d.lb=f,d.Jc=d.f.Jc,d.wa=d.f.wa,d.Vb=d.f.Vb,d.d=new In,d.Fa=new sn(d.d),d.c=[],Zt&&$t&&(c.removeChild(b),b=document.createElement("div"),b.style.position="relative",b.style.width="100%",b.style.height="100%",b.style.zIndex=1,b.style.overflow="hidden",Cl(b,"userSelect","none"),Cl(b,"transform","translateZ(0)"),b.appendChild(a.dj.Ng.de),b.appendChild(a.dj.Ng.gj),c.appendChild(b),a.jp=b,a.Po=a.dj.Ng.de,a.Qk=a.dj.Ng.gj),_t&&(a.s=new Kl,d=new yn(a.s),b=document.createElement("div"),b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="100%",b.style.zIndex=1,b.style.overflow="hidden",Cl(b,"userSelect","none"),b.appendChild(d.Ng.gj),c.appendChild(b),a.jp=b,a.Qk=d.Ng.gj)}function Wn(a,b,c,d){var e={},f=a.$g(),g=a.Ca;b=Hn(a.Ea,new wj(b,c));var g=g.Wg().rj(b),h=null,i=1/0;b=Bp.create();var j=Bp.create();return a.d.Gh=a.ic,un(f,g,function(a,b,c){i>b&&(h=a,i=b,Bp.A(c,j))},d,e),h&&(Jb(g,i,b),Bp.normalize(j,j),Bp.tf(ib(h),j,j)),{object:h,point:b,Ab:j,info:e}}function Xn(a){return cb(a.Fa,function(a){return a.sa===St.TERRAIN})}function Yn(a){return cb(a.Fa,function(a){return a.sa===St.BUILDING||a.sa===Gt})}function Zn(a){return cb(a.Fa,function(a){return a.sa===Lt||a.sa===Nt||a.sa===Mt||a.sa===Kt})}function $n(a){return cb(a.Fa,function(a){return a.sa===Ht||a.sa===It})}function _n(a){return cb(a.Fa,function(a){return a.sa===St.ROUTE})}function ao(a){for(var b=a.k.Ci.ze,c=a.Z.Ci.ze,d=0;d<a.n.length;d++)a.n[d].za(0,b),a.n[d].za(1,c)}function bo(a,b){for(var c=0;c<a.n.length;c++)Na(a.n[c],"u_transition_factor",b);Na(a.Va,"u_transition_factor",b),Na(a.Kb,"u_transition_factor",b),Na(a.tb,"u_transition_factor",b)}function co(a){return Zt?!1:200>=Bp.distance(a.k.r.ib(),a.Z.r.ib())?!0:!1}function eo(a){return a.k.r?a.Z:a.k}function fo(a,b,c,d,e,f){var g=void 0;b=b||a.K.Ua(),c||(a.k.r?(d=J(d,a.K.fa()),e=J(e,a.K.ia())):(d=J(d,0),e=J(e,0)),g||(g=f===a.Zd?Mj(a.Cd,!0):Mj(a.Zd,!0),0===g&&(g=50))),(f||a.Zd).set(b,c,d,e,g)}function go(a,b,c,d,e){fo(a,b,c,d,e,a.Zd)}function ho(a){fo(a,void 0,void 0,void 0,void 0,a.Cd),a.Cd.Ja(W(a.ya.ka()))}function io(a){4<=a.v?(a.g=!1,a.v=0):(a.g=!0,a.v++),a.aa.call(a),a.H&&a.H(a);var b=a.Ca.hi(),c=jb(a.Ca);ib(a.Ca);var d=0;if(Zt||null!==a.Jc){var e=a.Jc,f=a.ya.S,g=a.k.r?a.k.r.ib():[0,0,0],h=a.Z.r?a.Z.r.ib():[0,0,0];if(f[0]||f[1]||f[0]){var i=oi(f);gb(a.Z.e,i),gb(a.k.e,i)}eb(a.k.e,f),eb(a.Z.e,f),a.Fa.update(),jo(a),ao(a),Zt||(au&&a.Jc.Wk(0,0,0,0),a.Jc.clear());var j={};a.d.Gh=a.hc,Zt&&$t&&Ml(e,a.k),_t&&Ml(a.s,a.k),tn(a.Fa,b,c,function(b,c){var f=b.sa;switch(f){case 0:break;case Qt:1===a.globalOverlayOpacity?Na(b.Ha,"u_alphaFactor",a.globalLabelOpacity):Na(b.Ha,"u_alphaFactor",a.globalOverlayOpacity);case Ht:case It:case St.ROUTE:Na(b.Ha,"u_fadeFactor",a.globalOverlayOpacity);case Rt:b.$o&&Na(b.Ha,"u_fadeFactor",a.globalOverlayOpacity),b.aa&&b.qb&&(Na(b.Jd.Ha,"u_fadeFactor",a.globalOverlayOpacity),Na(b.qb().Ha,"u_fadeFactor",a.globalOverlayOpacity)),
Zt&&$t&&(7==b.ga&&Ol(e,b,c,a.k,250),f==Qt&&Ol(e,b,c,a.k,125));case Lt:case Nt:case Kt:case Jt:case Mt:case Ot:var i=!1;f==Lt&&(Zt&&$t&&(Ol(e,b,c,a.k,250/3),i=!0),_t&&(Ol(a.s,b,c,a.k,250/3.5),i=!0)),i||(f=a.a[f]||f,i=j[f],void 0===i&&(i=[],j[f]=i),i.push(c.Db()));break;case Ft:if(Zt){var k=a.k,i=k.f;if(i.jp&&"panoramaCube"===b.De){f=i.K.fa(),i=i.K.ia(),k=k.Ci.Ng.To,aa(i,0,1e-5,.001)&&(i+=.001);var l,m=" translateZ(-"+e.n+"px)";l="translateZ("+e.b+") ";for(var n,o=0,p=k.length;p>o;o++)n=5==o?"rotateX("+(i+xt[o][0])+"deg) rotateZ("+(f+xt[o][1])+"deg)":4==o?"rotateX("+(i+xt[o][0])+"deg) rotateZ("+(-f+xt[o][1])+"deg)":"rotateX("+(i+xt[o][0])+"deg) rotateY("+(f+xt[o][1])+"deg)",Cl(k[o].de,"transform",""+l+n+m)}break}default:oo(b,g,h),(!au||f!=Ft&&f!=St.TERRAIN&&f!=St.BUILDING)&&(Zt||b.na(e,c)),++d}}),Zt&&$t&&Nl(e,a),_t&&Nl(a.s,a);var k,b=[];for(k in j)b.push(parseInt(k,10));for(b.sort(function(a,b){return a-b}),k=0;k<b.length;k++)c=j[b[k]],0<c.length&&(c.sort(po),c.forEach(function(b){var c=b.object,f=c.$o?c.Ha:null;if(f||c.tn){var i=a.globalLabelOpacity;fa(c.ie)||null==c.ie?fa(c.opacity)||(i=c.opacity*a.globalLabelOpacity):i=c.ie,c.tn?c.tn(i):Na(f,"u_alphaFactor",i)}oo(c,g,h),Zt||c.na(e,b),++d}));a.M&&a.M(a),Zt||a.Jc.B.flush()}else So()}function jo(a){var b=a.ya;if(b){var c=a.k;a=a.Z;var d=c.e;a.rg.Ch&&a.fe&&ko(d,a.rg,b),c.rg.Ch&&c.fe&&ko(d,c.rg,b)}}function ko(a,b,c){var d=b.ed,e=b.cf;c=c.Wg().d(ib(a)),a.sg(c,function(a,c,f,g){var h=b.dp(a,c,f,g);return c==e&&h==d?!1:1==c||h>=0&&d>h?!0:(b.qp(a,c,f,g),!1)})}function lo(a,b,c){var d=a.$g(),e=ni(b);b=Bp.cb(b,e,1e4),b=Gb(b[0],b[1],b[2],-e[0],-e[1],-e[2]);var f=null,g=1/0,h=Bp.create();if(Jn(a.d,[St.TERRAIN]),un(d,b,function(a,b,c){g>b&&(f=a,g=b,Bp.A(c,h))},function(a){return a.sa==St.TERRAIN&&a.Qa()}),f){c?(Bp.normalize(h,h),Bp.tf(ib(f),h,h)):h=e,a=Jb(b,g),c=Ba(),d=oa(),b=qi(a);var i=Bp.pa(h,b);return Bp.pa(i,h,b),Ha(b,i,h,c),wa(c,d),a.splice(3,0,d[0],d[1],d[2],d[3]),a.splice(7,0,e[0],e[1],e[2]),a}return null}function mo(a,b){if(!a.k)return null;var c=a.k.Ia,d=kn(a.k);return d.kf()&&c?(c=c.eb(),c=si(c),c=Bp.I(c,b),d=d.ue(c[0],c[1],8),null===d?(Wo(),null):[c[0],c[1],d]):(Uo(),null)}function no(a,b,c){if(a.fm)a=a.qk,a.ta=new Cj(b),a.a.ta=new Cj([b[0],b[1],b[2]-3]),a.height=b[2]-3;else{a.qk=new Nk(0);var d=a.qk;d.height=b[2]-3;for(var e={Bn:null,tr:null,ta:null,Ya:null,ph:null,Qg:null,Fi:null,la:!1,sd:null,Gc:null},f=[[-100,-100,-3],[100,-100,-3],[-100,100,-3],[100,100,-3]],g=f.length,h=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),h=new Rb(h),i=0,j=[0,0,0],k=[0,0,1];g>i;i++)Xb(h,f[i],j,k);Yb(h,0,1,2,1,3,2),g=h.hb(),c=new ya(c,g),f=new Db(f[0],f[3]),g.j=f,c.e=f,e.Gc=c,e.Ya=f,e.ta=new Cj(b),d.a=e,a.fm=d.a}}function oo(a,b,c){if(a.Ha&&a.Ha.Pm){var d=a.Ha;if(b){b=Bp.sub(a.S,b);var e=a.Xg();b=Bp.tf(e,b),Na(d,"u_mesh_diff_0",b)}c&&(b=Bp.sub(a.S,c),e=a.Xg(),b=Bp.tf(e,b),Na(d,"u_mesh_diff_1",b))}}function po(a,b){return b.object.R-a.object.R}function qo(a,b){a.Ip.on=b,cn(a.k)}function ro(a,b,c){tj(this),this.d={},this.n=!1,this.g=new rk,this.f=new Un(this),Vn(this.f,a,b),this.c=qj(this.na.bind(this)),c&&go(this.f,c),this.o=[0,0,0],this.navigation=new nk(this),this.b=new kj(this),this.a=new lk(this.f),this.e=new Bc;var d=this.f;this.e.$c.qc(function(a){d.Kc.ir.bind(d.Kc)(a),en(d.k.dc),on(d.k),d.u()}),this.Ga=Bj(this),this.navigation.a=this.Ga,this.navigation.b=this.a,this.g.qc(this.wr.bind(this)),so(this),this.j=new Jf,this.j.xa(this),this.Ga.start(void 0)}function so(a){function b(b,c){a.d[b]=c,d+=1,d>=e&&(a.n=!0,a.g.call())}var c=[{name:"cursor_wall",url:ss.pr,size:256},{name:"cursor_ground",url:ss.or,size:256},{name:"cursor_road",url:ss.nr,size:256}],d=0,e=c.length,f=a.f.wa;c.forEach(function(a){fa(a.url)?e--:null===f?So():uo(f,a,b,b)})}function to(a,b,c,d,e,f){try{var g=b.createTexture(c,c,Os);g.re(0,d);var h=new _k;h.b=6,h.a=Ps,g.Cf(h),g.ci(),g.sn(b.Vg().ei()),e(a,g)}catch(i){So(),f(a,null)}}function uo(a,b,c,d){var e=b.name,f=b.url;if(f)if("string"==typeof f)nh(mh(),f,function(b,f){f.Ub()?to(e,a,b.width,b,c,d):(So(f.xb()),d(e,null))});else if("function"==typeof f){var g=document.createElement("CANVAS");g.setAttribute("width",b.size),g.setAttribute("height",b.size);var h=g.getContext("2d");f(h),to(e,a,b.size,g,c,d)}else So(),d(e,null);else d(e,null)}function vo(){var a=mh();a.clear();for(var b=a.b.a,c=0;c<b.length;c++)kh(a.b,b[c].Th)}function wo(a){eu&&wo.Rp(arguments),this.c=de(this.j.bind(this),a),this.e=Ai(),Bh(this.c.coverageServer_MRSUrl),Bi(this.e,this.c.coverageServer_mode),this.g=Xi(),this.b=this.d=this.a=null,eu&&wo.Sp(this)}function xo(a,b,c,d,e,f){var g=Zd(b);if(b=$d(b),Td(c,"function","",2),wo.a&&(c=zg(c,"<callback getClosestPanoramas()>")),d=$(d||1,1,1e3),e=$(e||99,1,5e5),f=$(f||0,0,e-1),g=[[g,b],function(b){var d=[];if(b)for(var e=0,f=b.length;f>e;e++)d.push(Vg(b[e]));try{c(d)}catch(g){}if(a.a){a.b=a.a,a.a=null,a.d=null;var h=Xi();ma(function(){h.Gj.apply(h,a.b)})}else a.b=null},d,e,f],a.b){if(a.a){var h=a.d;a.a=null,a.d=null,ma(function(){h()})}return a.a=g,a.d=c,!0}return a.b=g,g=Xi(),g.Gj.apply(g,a.b),!1}function yo(){return fu=fu||new wo}function zo(a,b,c){switch(wo.a&&(b=zg(b,"<callback loadCoverage()>")),c){case 0:case 1:case 2:case 3:case 4:Bi(a.e,c)}a.g.Bp(!0,function(){b&&"function"==typeof b&&b(!0)},function(){b&&"function"==typeof b&&b(!1)})}function Ao(a,b){0>hu.indexOf(this)&&hu.push(this),gu&&Ao.Rp(arguments);try{ah.call(this),b=b||{};var c=this;this.Zm=new Do,this.aa=new Qd,this.aa.a=this.Zm,yo();var d=Xd(b,"object","settings");this.cd=de(this.Fk.bind(this),d),d||this.cd.rendering_useSoftware||Xg()||(ce("rendering_useSoftware",!0),ce("load_all_metacells",!1),ce("metacell_cache_size",16),ce("metacell_lookup_steps",1),ce("metacell_prefetch_radius",50),ce("metacell_prefetch_steps",1),ce("compact_out_of_range_buildings",!0),ce("visibility_load_buildings_in_range",!0),ce("visibility_range_buildings",40),ce("visibility_prefetch_range_buildings",50),ce("defer_road_creation",!0)),this.Sc=!1,this.va=this.Va=0,this.ic=void 0,this.dd=!0,this.hc=null,this.g=[],this.Ge=a.clientWidth,this.Vd=a.clientHeight,this.v=Yt,vs=-90,ws=90,xs=20,ys=150,this.a=new Hj,this.a.wd(new Cj([0,0,0])),this.a.sb(0),this.a.Cb(0),this.a.Ja(this.v),this.d=new Hj(this.a),new Hj(this.a),this.e=document.createElement("canvas"),a.appendChild(this.e),this.e.style.setProperty("width","100%",""),this.e.style.setProperty("height","100%",""),this.Bd=function(a){a.preventDefault(),Lo(c,Error("event webglcontextlost: "+a))},this.e.addEventListener("webglcontextlost",this.Bd,!1),this.b=new ro(this.e,a),this.c=this.b.f,this.n=this.c.l,this.n.a.qc(function(){var a=D(c.n);Co(c,!a),a||Jo(c)}),this.c.Dp=!0;var e=this.c.N();e.$c.qc(this.yr.bind(this)),this.xa=new xg(this.c,this.yg.bind(this,Ao.ANIMATION_STATE.Vj),this.yg.bind(this,Ao.ANIMATION_STATE.jl)),this.Qc=Ao.ANIMATION_STATE.NONE,this.state=Ao.STATE.INIT,this.transition=iu,this.o=this.p=this.s=0,this.j=!1,Oo(this),Ek(e,Is.HEADING,0,360),Ek(e,4,-90,90),Ek(e,16,20,150),Kj(this.a,us.HEADING,0,360),Kj(this.a,"tilt",-90,90),Kj(this.a,"fov",20,150),this.b.a.a.Ej.qc(function(){this.yg(Ao.ANIMATION_STATE.jl,!0)}.bind(this)),this.b.a.a.yp.qc(function(){this.yg(Ao.ANIMATION_STATE.Vj,!0)}.bind(this));var f=Xd(b,"object","position");f?(Zd(f),$d(f),Xd(f,"number","alt"),this.wd(f)):Fk(this.c.N(),mi([0,0,0]));var g=Xd(b,"number","heading");!fa(g)&&this.c.N().sb(g);var h=Xd(b,"number","pitch");!fa(h)&&this.c.N().Cb(h);var i=Xd(b,"number","fov");!fa(i)&&this.Ja(i)}catch(j){throw Bo(this),gu&&Ao.ms(j),j}gu&&Ao.Sp(this)}function Bo(a){a=hu.indexOf(a),a>=0&&hu.splice(a,1)}function Co(a,b){b?D(a.n)||a.b.a.c||a.b.a.b||Tj().pause(!1):Tj().pause(!0);var c=a.c;mn(c.Z,b),mn(c.k,b)}function Do(){this.maxDistance=5e5}function Eo(a,b,c){if(a.H){var d={Ub:b};b||(d.error=c),a.H(d),a.H=null}}function Fo(a,b){try{switch(a.transition=b||iu,a.transition){case 1:a.c.l.enable(!1),a.transition=1;break;default:a.c.l.enable(!0),a.transition=iu}}catch(c){Lo(a,c)}}function Go(a,b){var c=b||a.a;return c.$a()?Rg(Id(Lj(c,!0).get()),c.fa(!0),c.ia(!0),Mj(c,!0)):null}function Ho(a,b,c){if(b.$a()){var d;(d=!a.d.$a())||(d=a.d,d=Gj(b.Ua(!0),d.Ua(!0))&&b.ia(!0)==d.ia(!0)&&b.fa(!0)==d.fa(!0)&&Gj(Lj(b,!0),Lj(d,!0))&&b.ka()===d.ka()?!0:!1,d=!d),d&&(b.ka()!==a.d.ka()&&a.Ja(b.ka()||a.v),a.d.$a()&&Fj(a.d.Ua(!0),b.Ua(!0))?(b=!c&&1!==a.transition,c=a.a.ia(!0)||0,d=a.a.fa(!0)||0,!0===b||void 0===b?0!==Mj(a.a,!0)?a.b.Ga.handleEvent("CHANGE_LOOK_AT",Lj(a.a,!0),null,null):a.b.Ga.handleEvent("CHANGE_LOOK_AT",null,d,c):(a.c.N().Cb(c),a.c.N().sb(d),Io(a)),a.d=null):a.b.b.a.Ga.handleEvent("CHANGE_PANORAMA_TO_GEO",b.Ua(!0),b.fa(),b.ia(),Lj(b),99,!1))}else a.g.unshift("Invalid view point."),Ko(a,Ao.STATE.ERROR)}function Io(a){ho(a.b.f),a.a=new Hj(a.b.f.Cd)}function Jo(a,b){if(a.state!=Ao.STATE.INIT){var c=b||0;a.dd&&(a.dd=!1,c=c|Ao.POV_PARAM.HEADING|Ao.POV_PARAM.PITCH|Ao.POV_PARAM.POSITION|Ao.POV_PARAM.ZOOM),a.hc||(a.hc=a.Pq.bind(a)),a.Va|=c,a.ic||(a.ic=ma(a.hc))}}function Ko(a,b){a.state!==b&&(a.state=b,a.Sc||a.dispatchEvent(new Pg(b)))}function Lo(a,b){if(b instanceof Jd)throw b;a.g.unshift(b.toString()),10<a.g.length&&(a.g.length=10);try{Kd("exception: "+b)}catch(c){}Ko(a,Ao.STATE.ERROR)}function Mo(a,b,c){return a=a.c,b=Gn(a.Ea,new wj(b,c)),b=Hn(a.Ea,b),a=a.ya.Wg().rj(b),a=Bp.add(a.slice(0,3),Bp.scale(a.slice(3,6),50)),ti(a)}function No(a){a.d||(a.d=new Hj(a.a))}function Oo(a){var b=a.b.C;vj(b,a,"stateChanged",a.Yq),vj(b,a,"panoramaChanged",a.Uq),vj(b,a,"panoramaLoaded",a.Vq),vj(b,a,"enterAnimationFinished",a.Iq),vj(b,a,"enterAnimationStarted",a.Jq),vj(b,a,"lookAtChangeFinished",a.Tq),vj(b,a,"fovChangeFinished",a.Kq),vj(b,a,"panoramaAvailable",a.Qq),vj(b,a,"moveToEnd",a.Jk)}function Po(a,b){switch(Ud(a),Td(b,"function","",1),a){case"povchanged":case"statechanged":case"povanimation":break;default:Od()}}function Qo(a,b){if(a.c)if(b){for(var c=[],d=0;d<b.length;d++){var e=new Zg,f=b[d],g=f.segments;if(!g||!Array.isArray(g))return void Ld("missing segments array in route");for(var h=0;h<g.length;h++){var i=g[h];if(!i)return void Ld("empty segment in route");var j=i.points;if(!j||!Array.isArray(j))return void Ld("missing points array in route segment");for(var k=$g(e,i.hitData),i=0;i<j.length;i++){var l=j[i];if(!j||!ga(l.lat)||!ga(l.lng))return void Ld("illegal point in route segment. point= "+window.JSON.stringify(l));k.Ol([l.lat,l.lng],null)}}if(g=0==i?1.5:1,h=0==i?[0,1,1,.5]:[.2,.4,.4,.4],j=null,k=function(a,b){if(Array.isArray(b)){if(Array.isArray(b)&&4!=b.length)Ld(a+" color array need a length of 4");else if(Array.isArray(b)&&4==b.length)for(var c=0;4>c;c++){if(!ga(b[c])){Ld("color channel "+c+" of color "+a+" is "+b[c]+" and not a number");break}if(0>b[c]){Ld("color channel "+c+" of color "+a+" is "+b[c]+" and smaller than 0");break}if(1<b[c]){Ld("color channel "+c+" of color "+a+" is "+b[c]+" and larger than 1");break}}}else Ld(a+" color is no array")},f.color&&(k("color",f.color),h=f.color),f.splitColor&&(k("splitColor",f.splitColor),j=f.splitColor),f.width){if(!ga(f.width))return void Ld("route width is "+f.width+" and not a number");if(.1>f.width)return void Ld("parameter route width is "+f.width+" and smaller than 0.1");if(10<f.width)return void Ld("parameter route width is "+f.width+" and larger than 10.");g=f.width}_g(e,h,j),e.width=g,c.push(e)}qo(a.c,c)}else qo(a.c,null)}if(window.Object.create){var Ro,So,To,Uo,Vo,Wo,Xo=this;Wo=function(){},Vo=function(){},Uo=function(){},To=function(){},So=function(){},h.prototype.qc=function(a,b){this.a.push(new g(a,b||null))},h.prototype.disconnect=function(a,b){var c=this.a,d=0;if(a||b)for(var e=a||null,f=b||null,g=0;g<c.length;){var h=c[g];f!==h.a||e&&e!==h.b?++g:(c.splice(g,1),++d)}else d=c.length,c.length=0;return d},h.prototype.call=function(a){var b=this.a.slice(),c=this.b;if(!c){for(e=0,f=b.length;f>e;++e)g=b[e],h=g.b,g=g.a,h=h.apply(g,arguments);return h}for(var d=[],e=0,f=b.length;f>e;++e){var g=b[e],h=g.b,g=g.a,h=h.apply(g,arguments);d.push(h)}return 0<d.length?d.reduce(c):void 0},i.STATE={Sd:"stopped",Ze:"running",Jf:"paused"},Ro=i.prototype,Ro.t=function(){this.Pi=this.Wa=this.Ma=this.j=this.H=this.Eb=null,this.Fj.disconnect()},Ro.Od=function(a){this.n=this.duration=a},Ro.start=function(){this.Ae=this.d=0,this.b=null,j(this,i.STATE.Ze),void 0!==this.Ma&&"function"==typeof this.Ma&&this.Ma.call(this.j),0===this.duration?this.finish():this.hf(0)},Ro.qa=function(){return this.Ee===i.STATE.Ze},Ro.finish=function(){this.hf(1),void 0!==this.Wa&&"function"==typeof this.Wa&&this.Wa.call(this.j),this.d=this.Ae=0,this.Rg(1),j(this,i.STATE.Sd),this.b=null},Ro.cancel=function(){this.qa()&&(this.hf(0),j(this,i.STATE.Sd),this.b=null)},Ro.pause=function(){this.qa()&&j(this,i.STATE.Jf)},Ro.stop=function(){this.qa()&&j(this,i.STATE.Sd)},Ro.Af=function(){this.qa()||this.Ee!==i.STATE.Jf||(this.o=!0,this.hf(this.Ae),j(this,i.STATE.Ze))},Ro.Rg=function(a){this.aa=this.d,this.xa=this.Ae,this.n=this.d+(this.duration-this.d)/a},Ro.hf=function(a){var b=a;this.H&&"function"==typeof this.H&&(b=this.H(a)),this.Eb.call(this.j,b)},Ro.Dh=function(a){null===this.b?(this.b=a,this.hf(0)):(this.o?(this.d=this.Ae*this.n,this.b=a-this.d,this.o=!1):this.d=a-this.b,this.d>=this.n?this.finish():(this.Ae=this.xa+(1-this.xa)*(this.d-this.aa)/(this.n-this.aa),this.hf(this.Ae)))},k.prototype=new i({}),Ro=k.prototype,Ro.Od=function(){},Ro.t=function(){i.prototype.t.call(this);for(var a=0;a<this.a.length;a++)this.a[a].t();this.a=null},Ro.start=function(){void 0!==this.Ma&&"function"==typeof this.Ma&&this.Ma.call(this.j),this.Ae=this.d=0,this.b=null,j(this,i.STATE.Ze);for(var a=0;a<this.a.length;a++)this.a[a].start()},Ro.finish=function(){for(var a=0;a<this.a.length;a++)this.a[a].qa()&&this.a[a].finish();void 0!==this.Wa&&"function"==typeof this.Wa&&this.Wa.call(this.j),j(this,i.STATE.Sd),this.b=null},Ro.cancel=function(){for(var a=0;a<this.a.length;a++)this.a[a].cancel();j(this,i.STATE.Sd),this.b=null},Ro.stop=function(){for(var a=0;a<this.a.length;a++)this.a[a].stop();j(this,i.STATE.Jf),this.b=null},Ro.Af=function(){if(!this.qa()){for(var a=0;a<this.a.length;a++)this.a[a].Af();this.Ee===i.STATE.Jf&&(this.o=!0,j(this,i.STATE.Ze))}},Ro.Rg=function(a){for(var b=0;b<this.a.length;b++)this.a[b].qa()&&this.a[b].Rg(a)},Ro.hf=function(){},Ro.Dh=function(a){var b=0;if(null===this.b)this.b=a;else{for(var c=!1,b=0;b<this.a.length;b++)this.a[b].qa()&&(this.a[b].Dh(a),c=!0);c?j(this,i.STATE.Ze):(this.finish(),j(this,i.STATE.Sd))}};var Yo=l("in",2),Zo=l("out",2),$o=l("inout",2),_o=l("in",3),ap=e();p.prototype=new i({}),Ro=p.prototype,Ro.t=function(){i.prototype.t.call(this),this.q=null},Ro.kb=ap,Ro.Mc=function(a,b){a&&(this.mc=mi(a)),this.Uc=b;var c=ni(this.Mb),d=qi(this.Mb);this.Uc?(c=ta(c,-(this.Uc*pp)),c=va(c),this.Ed=Bp.I(c,d)):this.Ed=d},Ro.Ma=function(){var a=this.q;this.gm&&(a.l.i.transition.start(),a.l.i.transition.finish()),ln(a.k),bo(a,0),a.k.Xe(a.vf),a.k.Bf(a.lg),this.Mb=a.k.r.ib().slice(0,3);var b=ni(this.Mb),c=qi(this.Mb);if(this.mc||(this.mc=this.Mb),Bp.$f(this.mc,this.Mb)?Bp.sub(this.Mb,b,this.$d):this.$d=this.Mb,this.Be=Dj(Lj(a.Zd,!0)),this.Zi=Bp.sub(this.$d,this.mc),this.Mi=Bp.sub(this.Be,this.Mb),this.Uc){var d=ta(b,-(this.Uc*pp)),d=va(d);this.Ed=Bp.I(d,c)}else this.Ed=c;this.af=b,a.lg&&(nn(a.k),Gk(a.N(),this.$d,this.Ed,this.mc)),a.k.Gd(),this.Qn?(dn(a.k,a.Hf),a.k.Pd(a.xi)):(dn(a.k,a.Hd),a.k.Pd(!1)),this.gm=!1,a.u()},Ro.Wa=function(){var a=this.q;a.l.i.hg.stop(),a.l.i.qf.start(),Fk(a.N(),a.k.r.ib()),a.lg&&on(a.k),ho(a),a.u(),a.Za.Ga.handleEvent("ENTER_ANIMATION_FINISHED",a.k.r)},Ro.Qr=function(a){var b=this.q,c=Bp.ma(this.mc,this.Mb,a),d=Bp.wn(this.Zi,this.Mi,a),d=Bp.add(c,d),e=Bp.wn(this.Ed,this.af,a);b.am=0===this.te&&1===this.ge?a:this.te+a*(this.ge-this.te),Gk(b.N(),d,e,c),b.u()},q.prototype=new i({}),q.prototype.t=function(){i.prototype.t.call(this),this.q=null},q.prototype.Ma=function(){this.Li=this.Fl,this.Yi=this.q.Ca.ka(),this.q.u()},q.prototype.Wa=function(){this.q.Za.Ga.handleEvent("FOV_ANIMATION_FINISHED"),this.q.Za.C.U("fovChangeFinished")},q.prototype.a=function(a){this.q.Ca.Ja(ea(this.Yi,this.Li,a)),this.q.u()},r.prototype=new i({}),r.prototype.t=function(){i.prototype.t.call(this),this.e=this.p=this.c=this.g=this.a=null},r.prototype.s=function(a){this.a&&"function"==typeof this.a&&this.a(a),this.e[this.g]=this.c+a*(this.p-this.c)};var bp=e();s.prototype=new i({}),Ro=s.prototype,Ro.kb=bp,Ro.t=function(){i.prototype.t.call(this),this.q=null},Ro.Ma=function(){var a,b=this.q,c=b.l.i.xf.qa();c&&(a=b.l.i.xf.Ae,0==a&&(c=!1)),b.l.i.xf.stop(),ln(b.k),ln(b.Z),this.ae=b.ya.S.slice(),this.Uf=b.Z.r.ib().slice(0,3);var d=Bp.sub(this.Uf,this.ae);if(this.Ll=Bp.length(d),this.Pj=0,0==this.duration?c=!1:this.Od(gp.transition),c&&(c=0,d=a,a=.01,a>d?a=d:c=d-a,0!=a)){for(var e,c=(Yo(d)-Yo(c))/a*1e3/b.l.i.xf.duration/b.l.i.xf.Ll,d=0,f=-1,g=1e5;.5>=d&&(e=1-d,e=($o(d+a)-$o(d))/a/e/this.Ll,e=Math.abs(c-e),!(g>e&&(f=d,g=e,.001>g)));)d+=a;f>0&&(this.Od((1-f)*gp.transition),this.Pj=f)}this.q.l.i.qf.stop(),co(b)?(dn(b.k,b.Hf),dn(b.Z,b.Hf),b.k.Bf(b.lg)):(b.k.Pd(!1),b.Z.Pd(!1),dn(b.k,b.Hd),dn(b.Z,b.Hd),b.cursor.F(!1),b.l.i.hg.finish(),b.k.Bf(!1),b.gh.F(!1)),b.k.Xe(b.vf),b.Z.Bf(!1),this.Uc=this.q.N().fa(),this.Ih=this.q.N().ia(),Bp.$f(this.ae,this.Uf)&&this.finish(),Zt&&this.Od(0),b.u()},Ro.Wa=function(){var a=this.q;if(ln(a.k),ln(a.Z),a.Z.r){a.Z.Xe(a.vf),a.k.Xe(!1);var b=a.k;a.k=a.Z,a.Z=b}ho(a),co(a)?(dn(a.k,a.Hd),dn(a.Z,a.Hd)):(a.k.Pd(a.xi),a.Z.Pd(a.xi),a.cursor.F(!0),a.gh.F(!0)),bo(a,0),on(a.k),a.l.i.hg.start(),a.k.Bf(a.lg),a.Z.Bf(!1),a.lg&&(nn(a.k),on(a.k),Fk(a.N(),a.k.r.ib())),a.u(),a.nh.kn()},Ro.Rr=function(a){var b=this.q,c=a*(1-this.Pj)+this.Pj,d=1-$o(this.Pj),c=($o(c)-$o(this.Pj))/d;bo(b,_o(a)),a=Bp.ma(this.ae,this.Uf,c),Fk(b.N(),a),b=Dj(Oj(a,this.Uc,this.Ih)),Gk(this.q.N(),b,ni(a))},t.prototype.add=function(a){return a?(this.b++,this.i[this.b]=a,a.id=this.b,a.Fj.qc(this.d),this.b):null},t.prototype.remove=function(a){if(a in this.i){var b=this.i[a];return delete this.i[a],b.Fj.disconnect(this.d),!0}return!1},t.prototype.t=function(){for(var a in this.i){var b=this.i[a];b&&b.t(),this.c.disconnect()}this.a=!1,this.i=null},t.prototype.e=function(a){a.state==i.STATE.Ze&&(this.a=!0),this.c.call(a)};var cp=3.5,dp=0,ep=e();u.prototype=new i({}),Ro=u.prototype,Ro.t=function(){i.prototype.t.call(this),this.q=null},Ro.kb=ep,Ro.Ma=function(){var a=this.q;this.Qn?(dn(a.k,a.Hf),a.k.Pd(a.xi)):(dn(a.k,a.Hd),a.k.Pd(!1)),ho(a);var b=a.Cd,c=b.Ua(),d=Ej(c);this.mc=Dj(c),this.Mb=Bp.add(this.mc,Bp.scale(d,this.oo)),this.wh=1-this.Hq/(2*this.oo),ho(a),this.$d=Dj(Lj(b,!0)),this.Be=this.mc,this.Be=Dj(Oj(c,b.fa(),this.yh))||[],this.Ed=ni(gc(a.ya)),c=Bp.sub(this.Be,this.Mb),d=Bp.sub(this.$d,this.mc),d=Bp.normalize(Bp.pa(c,d)),b.ia()>this.yh?this.af=Bp.normalize(Bp.pa(d,c)):this.af=Bp.normalize(Bp.pa(c,d)),a.l.i.qf.stop(),a.l.i.hg.start(),a.k.Lc(!0),a.Z.Lc(!0),1>this.ge&&(this.Mb=Bp.ma(this.mc,this.Mb,this.ge),this.Be=Bp.ma(this.$d,this.Be,this.ge),this.af=Bp.ma(this.Ed,this.af,this.ge)),0<this.te&&(this.mc=Bp.ma(this.mc,this.Mb,this.te),this.$d=Bp.ma(this.$d,this.Be,this.te),this.Ed=Bp.ma(this.Ed,this.af,this.te)),a.u()},Ro.Wa=function(){var a=this.q;a.l.i.hg.stop(),a.l.i.qf.start(),a.u(),a.Za.Ga.handleEvent("BOUNCE_ANIMATION_FINISHED")},Ro.Pr=function(a){var b=this.q,c=this.pc(a);if(1!==this.wh&&a>=.5&&c<=2-2*this.wh)1!==a&&(this.stop(),this.Pi&&this.Pi.stop());else{var d=Bp.ma(this.mc,this.Mb,c),e=Bp.ma(this.$d,this.Be,c),f=Bp.ma(this.Ed,this.af,c);Fk(b.N(),d),Gk(b.N(),e,f),b.u(),1!==this.wh&&a>=.5&&c<=2-2*this.wh&&this.finish()}},v.prototype=new i({}),v.prototype.t=function(){i.prototype.t.call(this),this.q=null},v.prototype.Ma=function(){this.qa()||(this.Yi=this.q.Ca.ka(),this.Li=this.Yi+this.Eq,this.q.u())},v.prototype.Wa=function(){this.q.Za.Ga.handleEvent("FOV_BOUNCE_ANIMATION_FINISHED")},v.prototype.c=function(a){this.q.Ca.Ja(ea(this.Yi,this.Li,a)),this.q.u()},w.prototype=new i({}),w.prototype.t=function(){i.prototype.t.call(this),this.q=null},w.prototype.Ma=function(){var a=this.q;ho(a);var b=a.Cd,c=a.Zd;this.zl=Dj(Lj(b,!0)),this.Fg=(this.Fg=Lj(c))?Dj(this.Fg):null,this.Zi=Bp.sub(this.zl,a.ya.S),this.Uc=b.fa(),this.Ih=b.ia(),this.xh=c.fa(),this.yh=c.ia(),null!=this.xh&&(b=this.Uc-this.xh,180<_(b)&&(this.xh=this.Uc-(0>b?360+b:-360+b)),aa(this.Uc,this.xh,.001,1)&&aa(this.Ih,this.yh,.001,1)&&this.finish()),a.u()},w.prototype.Wa=function(){ho(this.q),this.q.Za.Ga.handleEvent("LOOK_AT_ANIMATION_FINISHED")},w.prototype.a=function(a){if(this.qa()){var b=this.q.ya.S;this.Fg&&!Bp.$f(this.zl,this.Fg)?(this.Mi=Bp.sub(this.Fg,b),a=Bp.wn(this.Zi,this.Mi,a),a=Bp.add(b,a),Gk(this.q.N(),a,ni(b))):(b=ea(this.Ih,this.yh,a),this.q.N().sb(ea(this.Uc,this.xh,a)),this.q.N().Cb(b))}},x.prototype=new i({}),Ro=x.prototype,Ro.Od=function(){},Ro.t=function(){i.prototype.t.call(this);for(var a=0;a<this.a.length;a++)this.a[a].t();this.a=null},Ro.start=function(){void 0!==this.Ma&&"function"==typeof this.Ma&&this.Ma.call(this.j),this.c=this.Ae=this.d=0,this.b=null,j(this,i.STATE.Ze),this.a[this.c].start()},Ro.finish=function(){for(var a=!1,b=0;b<this.a.length;b++)this.a[b].qa()&&(a=!0),a&&(this.a[b].start(),this.a[b].finish());this.a[this.a.length-1].finish(),void 0!==this.Wa&&"function"==typeof this.Wa&&this.Wa.call(this.j),j(this,i.STATE.Sd),this.b=null,this.c=0},Ro.cancel=function(){for(var a=this.c;a>=0;a--)this.a[a].cancel();j(this,i.STATE.Sd),this.b=null},Ro.stop=function(){this.qa()&&(this.a[this.c].stop(),j(this,i.STATE.Jf),this.b=null)},Ro.Af=function(){this.qa()||this.Ee!==i.STATE.Jf||(this.a[this.c].Af(),j(this,i.STATE.Ze),this.o=!0)},Ro.Rg=function(a){for(var b=this.c;b<this.a.length;b++)this.a[b].Rg(a)},Ro.hf=function(){},Ro.Dh=function(a){null===this.b?this.b=a:this.a[this.c].qa()?this.a[this.c].Dh(a):this.a.length>this.c+1?(this.c++,this.a[this.c].start()):this.finish()};var fp=e();y.prototype=new i({}),y.prototype.t=function(){i.prototype.t.call(this),this.q=null},y.prototype.kb=fp,y.prototype.Ma=function(){this.ae=this.q.ya.S.slice();var a=this.q.Z.r.ib(),b=Bp.sub(a,this.ae),a=Bp.distance(a,this.ae);Bp.$f(b,[0,0,0])?(this.Uf=this.ae,this.cancel()):(b=Bp.scale(Bp.normalize(b),Math.min(.8*a,50)),this.Uf=Bp.add(this.ae,b),this.Ll=Bp.length(b),this.q.k.Lc(this.q.wi),dn(this.q.k,this.q.Hf),this.q.Z.Lc(this.q.wi),dn(this.q.Z,this.q.Hf)),this.q.u()},y.prototype.a=function(a){a=Bp.ma(this.ae,this.Uf,a),Fk(this.q.N(),a)},z.prototype.start=function(){this.qa||(this.qa=!0,this.a.pe.push(this),this.startTime=null),B(this.a)},z.prototype.stop=function(){if(this.qa){this.qa=!1;var a=this.a;a.pe.splice(a.pe.indexOf(this),1)}B(this.a)},A.prototype=new i({}),Ro=A.prototype,Ro.t=function(){i.prototype.t.call(this),this.q=this.pe=null},Ro.Ma=function(){},Ro.Wa=function(){for(var a=this.pe.length-1;a>=0;a--)this.pe[a].stop();this.pe=[]},Ro.hf=function(){},Ro.Dh=function(a){for(var b=this.pe.length-1;b>=0;b--){var c=this.pe[b];if(null===c.startTime&&(c.startTime=a),c.b=a,c.c){var d=c.c(c.b-c.startTime,c);fa(d)||d||c.stop()}}},C.prototype.t=function(){this.l.t(),this.q=null,delete this.i};var gp={transition:1300,gb:800,kd:800,pc:800,xf:2500,qu:200,rb:1300,qf:300,hg:300,vi:800,fh:800,ld:500,hm:400};C.prototype.enable=function(a){for(var b in this.i)if(this.i.hasOwnProperty(b))if(a)this.i[b].Od(gp[b]);else{var c=this.i[b];c.Vh||((c.qa()||c.Ee===i.STATE.Jf)&&c.finish(),c.Od(0))}b=this.q,a||b.l.i.fc.cancel(),b.vo=a&&(0!=b.va&&1==b.va?!1:!0)};var hp={transitionHighlight:{vs:"precision highp float;attribute vec3 a_vertex;attribute vec3 a_normal;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;uniform vec3 u_mesh_diff_0;uniform vec3 u_mesh_diff_1;uniform float u_transition_factor;uniform vec4 u_highlight_color;uniform mat4 u_mat_normal;uniform vec4 u_ambient_color;uniform vec3 u_directional_light_direction;uniform vec4 u_directional_light_color;uniform vec3 u_point_light_position;uniform vec4 u_point_light_color;varying vec4 v_position;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;varying vec4 v_light_weight;void main(void){vec3 offset_0 = u_mesh_diff_0 + a_vertex;vec3 offset_1 = u_mesh_diff_1 + a_vertex;v_cam_ray0 = vec3(offset_0.x, offset_0.z, offset_0.y);v_cam_ray1 = vec3(offset_1.x, offset_1.z, offset_1.y);offset_0 += (u_mesh_diff_0 - u_mesh_diff_1) * u_transition_factor;v_view_ray = vec3(offset_0.x, offset_0.z, offset_0.y);gl_Position = u_mat_proj * u_mat_view * u_mat_model * vec4(a_vertex, 1.0);v_position = u_mat_model * vec4(a_vertex, 1.0);vec4 vertex = vec4(a_vertex, 1.0);vec4 mv_position = u_mat_view * u_mat_model * vertex;vec4 trans_normal = u_mat_normal * vec4(a_normal, 0.0);vec3 point_light_dir = normalize(u_point_light_position - mv_position.xyz);float point_light_weight = max(dot(trans_normal.xyz, point_light_dir), 0.0);float dir_light_weight = max(dot(trans_normal.xyz,normalize(u_directional_light_direction)), 0.0);v_light_weight = u_ambient_color + u_directional_light_color * dir_light_weight + u_point_light_color * point_light_weight;}",fs:"precision highp float;uniform samplerCube u_cube_sampler0;uniform samplerCube u_cube_sampler1;uniform float u_transition_factor;uniform vec4 u_highlight_color;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;varying vec4 v_position;varying vec4 v_light_weight;void main(void){vec2  transition_ratio = vec2(1.0 - u_transition_factor, u_transition_factor);vec3  nv = normalize(v_view_ray);vec2  k = max(vec2(0.1),vec2(dot(normalize(v_cam_ray0), nv),dot(normalize(v_cam_ray1), nv)));transition_ratio = k * transition_ratio;transition_ratio = transition_ratio / dot(transition_ratio, vec2(1.0));gl_FragColor = (transition_ratio.x * textureCube( u_cube_sampler0,v_cam_ray0) +transition_ratio.y *textureCube(u_cube_sampler1,v_cam_ray1));gl_FragColor = vec4(  0.5 * gl_FragColor.rgb+ 0.5 * v_light_weight.rgb* u_highlight_color.rgb, 1.0);}",defaultUniformValues:'{"u_cube_sampler0": 0,"u_cube_sampler1": 1,"u_ambient_color": [0.4, 0.4, 0.4, 1],"u_directional_light_direction": [-1, 1, 0],"u_directional_light_color": [0.9, 0.9, 0.9, 1],"u_point_light_position": [0, 0, 0],"u_point_light_color": [1, 1, 1, 1],"u_transition_factor": 1.0,"u_highlight_color": [1, 1, 1, 1]}'},transition:{vs:"precision highp float;attribute vec3 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;uniform vec3 u_mesh_diff_0;uniform vec3 u_mesh_diff_1;uniform float u_transition_factor;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;void main(void){vec3 offset_0 = u_mesh_diff_0 + a_vertex;vec3 offset_1 = u_mesh_diff_1 + a_vertex;v_cam_ray0 = vec3(offset_0.x, offset_0.z, offset_0.y);v_cam_ray1 = vec3(offset_1.x, offset_1.z, offset_1.y);offset_0 += (u_mesh_diff_0 - u_mesh_diff_1) * u_transition_factor;v_view_ray = vec3(offset_0.x, offset_0.z, offset_0.y);gl_Position = u_mat_proj * u_mat_view * u_mat_model * vec4(a_vertex, 1.0);}",fs:"precision highp float;uniform samplerCube u_cube_sampler0;uniform samplerCube u_cube_sampler1;uniform float u_transition_factor;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;void main(void){vec2  transition_ratio = vec2(1.0 - u_transition_factor, u_transition_factor);vec3  nv = normalize(v_view_ray);vec2  k = max(vec2(0.1),vec2(dot(normalize(v_cam_ray0), nv),dot(normalize(v_cam_ray1), nv)));transition_ratio = k * transition_ratio;transition_ratio = transition_ratio / dot(transition_ratio, vec2(1.0));gl_FragColor = (transition_ratio.x * textureCube( u_cube_sampler0,v_cam_ray0) +transition_ratio.y *textureCube(u_cube_sampler1,v_cam_ray1));}",defaultUniformValues:'{"u_cube_sampler0": 0,"u_cube_sampler1": 1,"u_transition_factor" : 0}'},fixedCube:{vs:"precision highp float;attribute vec4 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;varying vec3 v_cam_ray0;void main(void){vec4 pos = u_mat_proj * u_mat_view * u_mat_model * a_vertex;v_cam_ray0 = vec3( a_vertex.x , a_vertex.z, a_vertex.y );gl_Position = pos;}",fs:"precision highp float;uniform samplerCube u_cube_sampler0;varying vec3 v_cam_ray0;void main(void){gl_FragColor = textureCube(u_cube_sampler0,v_cam_ray0);}",defaultUniformValues:'{"u_cube_sampler0": 0}'},renderToDepthBuffer:{vs:"precision highp float;attribute vec3 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;void main(void){gl_Position = u_mat_proj * u_mat_view * u_mat_model * vec4(a_vertex, 1.0);}",fs:"precision highp float;void main(void){gl_FragColor = vec4(0, 0, 1, 1);}"},transitionFixedCube:{vs:"precision highp float;attribute vec4 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;uniform float u_transition_factor;varying vec3 v_cam_ray0;varying vec2 v_transition_ratio;void main(void){v_cam_ray0 = vec3( a_vertex.x , a_vertex.z, a_vertex.y );v_transition_ratio = vec2(1.0 - u_transition_factor, u_transition_factor);gl_Position = u_mat_proj * u_mat_view * u_mat_model * a_vertex;}",fs:"precision highp float;uniform samplerCube u_cube_sampler0;uniform samplerCube u_cube_sampler1;varying vec2 v_transition_ratio;varying vec3 v_cam_ray0;void main(void){vec2 k = vec2(0.1);vec2 transition_ratio = k * v_transition_ratio;transition_ratio = transition_ratio / dot(transition_ratio, vec2(1.0));gl_FragColor = (transition_ratio.x * textureCube( u_cube_sampler0,v_cam_ray0) +transition_ratio.y *textureCube(u_cube_sampler1,v_cam_ray0));}",defaultUniformValues:'{"u_cube_sampler0": 0,"u_cube_sampler1": 1,"u_transition_factor": 0.0}'},template:{vs:"precision highp float;attribute vec3 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;void main(void){gl_Position = u_mat_proj * u_mat_view * u_mat_model * vec4(a_vertex, 1.0);}",fs:"precision highp float;uniform vec4 u_color;void main(void){gl_FragColor = u_color;}",defaultUniformValues:'{"u_color": [0.4, 0.4, 0.4, 1],}'},transitionHitPoint:{vs:"precision highp float;attribute vec3 a_vertex;uniform mat4 u_mat_proj;uniform mat4 u_mat_view;uniform mat4 u_mat_model;uniform vec3 u_mesh_diff_0;uniform vec3 u_mesh_diff_1;uniform float u_transition_factor;varying vec4 v_position;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;void main(void){vec3 offset_0 = u_mesh_diff_0 + a_vertex;vec3 offset_1 = u_mesh_diff_1 + a_vertex;v_cam_ray0 = vec3(offset_0.x, offset_0.z, offset_0.y);v_cam_ray1 = vec3(offset_1.x, offset_1.z, offset_1.y);offset_0 += (u_mesh_diff_0 - u_mesh_diff_1) * u_transition_factor;v_view_ray = vec3(offset_0.x, offset_0.z, offset_0.y);gl_Position = u_mat_proj * u_mat_view * u_mat_model * vec4(a_vertex, 1.0);v_position = u_mat_model * vec4(a_vertex, 1.0);}",fs:"precision highp float;uniform samplerCube u_cube_sampler0;uniform samplerCube u_cube_sampler1;uniform float u_transition_factor;uniform float u_highlight_factor;uniform vec3 u_hit_point;uniform vec4 u_highlight_color;varying vec3 v_view_ray;varying vec3 v_cam_ray0;varying vec3 v_cam_ray1;varying vec4 v_position;void main(void){vec2  transition_ratio = vec2(1.0 - u_transition_factor, u_transition_factor);vec3  nv = normalize(v_view_ray);vec2  k = max(vec2(0.1),vec2(dot(normalize(v_cam_ray0), nv),dot(normalize(v_cam_ray1), nv)));transition_ratio = k * transition_ratio;transition_ratio = transition_ratio / dot(transition_ratio, vec2(1.0));gl_FragColor = (transition_ratio.x * textureCube( u_cube_sampler0,v_cam_ray0) +transition_ratio.y *textureCube(u_cube_sampler1,v_cam_ray1));vec4 highlight_color = vec4(1, 0, 0, 1);float distance = length(v_position.xyz - u_hit_point);if (distance < .5)  {gl_FragColor = (1.0 - u_highlight_factor) * gl_FragColor + u_highlight_factor * highlight_color;}}",defaultUniformValues:'{"u_cube_sampler0": 0,"u_cube_sampler1": 1,"u_transition_factor": 1.0,"u_highlight_factor": [1, 1, 1, 1],"u_hit_point": [0, 0, 0]}'}};(function(a){this.message=a||""}).prototype=Object.create(Error.prototype);var ip={},jp=[],kp=Math.PI,lp=1/kp,mp=kp/2,np=kp/360,op=2*kp,pp=kp/180,qp=180/kp,rp=45*pp,sp=90*pp,tp=180*pp,up=360*pp,vp=Math.pow(2,32)/360,wp=360/Math.pow(2,32),xp=Math.PI,yp=xp/180,zp=180/xp;

(function(a){this.name="InvalidArgumentError",this.message=a||""}).prototype=Object.create(Error.prototype),function(a){this.name="NotImplemented",this.message=a||""}.prototype=Object.create(Error.prototype);var Ap={Hi:2,sq:2,aq:1};Ap.ll=Array,Ap.create=function(a,b){var c=new Ap.ll(Ap.Hi);return fa(b)||(c[0]=a,c[1]=b),c},Ap.set=function(a,b,c){return c[0]=a,c[1]=b,c},Ap.A=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b):Ap.create(a[0],a[1])},Ap.Mo=function(a,b){b[0]=a[0],b[1]=a[1]},Ap.$f=function(a,b,c){return c=J(c,1e-6),a.length===b.length&&U(a[0],b[0],c)&&U(a[1],b[1],c)},Ap.So=function(a,b){var c=J(void 0,1e-6);return U(a[0],b[0],c)&&U(a[1],b[1],c)},Ap.gl=function(a,b){return Math.max(-1,Math.min(1,a[0]*b[0]+a[1]*b[1]))},Ap.Up=function(a,b,c){return Math.max(-1,Math.min(1,a[0]*b+a[1]*c))},Ap.L=function(a,b){return a[0]*b[0]+a[1]*b[1]},Ap.pb=function(a,b){return Math.atan2(b[1]-a[1],b[0]-a[0])},Ap.Sl=function(a){return Math.atan2(a-0,1)},Ap.Zk=function(a,b){return Math.atan2(a[0]*b[1]-a[1]*b[0],a[0]*b[0]+a[1]*b[1])},Ap.Op=function(a,b){var c=Math.atan2(a[0]*b[1]-a[1]*b[0],a[0]*b[0]+a[1]*b[1]);return 0>c&&(c=op+c),c},Ap.Gr=function(a,b,c,d){return a=c-a,b=d-b,Math.sqrt(a*a+b*b)},Ap.normalize=function(a){var b=a[0];a=a[1];var c=Math.sqrt(b*b+a*a);return[b/c,a/c]},Ap.Ok=function(a){var b=a[0],c=a[1],d=Math.sqrt(b*b+c*c);return a[0]=b/d,a[1]=c/d,d},Ap.X=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},Ap.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},Ap.lr=function(a,b,c,d){return a=c-a,b=d-b,a*a+b*b},Ap.st=function(a,b,c,d){return a=c-a,b=d-b,Math.sqrt(a*a+b*b)},Ap.jb=function(a){var b=a[0];return a=a[1],b*b+a*a},Ap.length=function(a){var b=a[0];return a=a[1],Math.sqrt(b*b+a*a)},Ap.add=function(a,b){var c=new Ap.ll(2);return c[0]=a[0]+b[0],c[1]=a[1]+b[1],c},Ap.Nl=function(a,b){var c=Ap.bl;b[0]=a[0]+c[0],b[1]=a[1]+c[1]},Ap.Ao=function(a,b,c){return[a[0]+b[0]+c[0],a[1]+b[1]+c[1]]},Ap.cb=function(a,b,c){var d=Ap.create();return d[0]=a[0]+b[0]*c,d[1]=a[1]+b[1]*c,d[2]=a[2]+b[2]*c,d},Ap.jk=function(a,b,c,d){d[0]=a[0]+b[0]*c,d[1]=a[1]+b[1]*c},Ap.sub=function(a,b){var c=new Ap.ll(2);return c[0]=a[0]-b[0],c[1]=a[1]-b[1],c},Ap.Gf=function(a,b,c){return c[0]=a[0]-b[0],c[1]=a[1]-b[1],c},Ap.scale=function(a,b){return[a[0]*b,a[1]*b]},Ap.qn=function(a){var b=Ap.xd,c=Ap.bl;c[0]=b[0]*a,c[1]=b[1]*a},Ap.ma=function(a,b,c){return[X(a[0],b[0],c),X(a[1],b[1],c)]},Ap.pa=function(a){return[a[1],-a[0]]},Ap.xd=Ap.create(),Ap.Ei=Ap.create(),Ap.bl=Ap.create(),Ap.Ta=function(a,b,c,d){if(Ap.Gf(b,a,Ap.xd),Ap.Gf(c,a,Ap.Ei),c=Ap.L(Ap.Ei,Ap.xd),0>=c)return d&&(d.split=!1,d.Hb=0),a;var e=Ap.L(Ap.xd,Ap.xd);return c>=e?(d&&(d.split=!1,d.Hb=1),b):(b=c/e,Ap.qn(b),d&&(d.split=!0,d.Hb=b,d.ub)?(Ap.Nl(a,d.ub),d.ub):Ap.add(a,Ap.bl))},Ap.Io=function(a,b,c,d){var e=Wq;if(Ap.Gf(b,a,Ap.xd),Ap.Gf(c,a,Ap.Ei),c=Ap.L(Ap.Ei,Ap.xd),0>=c)return d.split=!1,d.Hb=0,a;var f=Ap.L(Ap.xd,Ap.xd);return c>=f?(d.split=!1,d.Hb=1,b):(b=c/f,Ap.qn(b),d.split=!0,d.Hb=b,Ap.Nl(a,e),e)},Ap.ot=function(a,b,c,d,e,f){return c[0]+d<(a[0]<b[0]?a[0]:b[0])||c[0]-d>(a[0]>b[0]?a[0]:b[0])||c[1]+d<(a[1]<b[1]?a[1]:b[1])||c[1]-d>(a[1]>b[1]?a[1]:b[1])?null:(Ap.Gf(b,a,Ap.xd),Ap.Gf(c,a,Ap.Ei),c=Ap.L(Ap.Ei,Ap.xd),0>=c?(f&&(f.split=!1,f.Hb=0),a):(d=Ap.L(Ap.xd,Ap.xd),c>=d?(f&&(f.split=!1,f.Hb=1),b):(b=c/d,Ap.qn(b),f&&(f.split=!0,f.Hb=b),e?(Ap.Nl(a,e),e):Ap.add(a,Ap.bl))))},Ap.pt=function(a,b,c,d){b=Ap.sub(b,a),c=Ap.L(Ap.sub(c,a),b);var e=Ap.L(b,b);return c/=e,d&&(d.Hb=c),Ap.add(a,Ap.scale(b,c))},Ap.ut=function(a,b,c){b=Ap.sub(b,a);var d=Ap.L(Ap.sub(c,a),b),e=Ap.L(b,b);return a=Ap.add(a,Ap.scale(b,d/e)),Ap.X(a,c)},Ap.Pg=function(a,b,c){return Ap.X(Ap.Ta(a,b,c),c)},Ap.Al=function(a,b,c,d){return a=Bp.sub(a,c),d=Ap.jb(a)-d*d,b=Ap.L(b,a),d=b*b-d,d>1e-6?(d=Math.sqrt(d),[-b-d,-b+d]):-1e-6>d?null:[-b]},Ap.pp=function(a,b,c,d){var e=[.5*(a[0]+b[0]),.5*(a[1]+b[1])];if(a=Ap.sub(b,a),b=.5*Ap.Ok(a),c=Ap.Al(e,a,c,d),null===c)return null;if(d=c.length,1===d){if(Math.abs(c[0])>b)return null}else c[1]<-b||c[0]>b?d=0:c[1]<=b?c[0]<-b&&(d=1,c[0]=c[1]):d=c[0]>=-b?1:0;var f=[];for(b=0;d>b;++b)f.push(Ap.add(e,Ap.scale(a,c[b])));return f},Ap.ig=function(a,b,c,d){var e=[.5*(a[0]+b[0]),.5*(a[1]+b[1])];return a=Ap.sub(b,a),b=.5*Ap.Ok(a),c=Ap.Al(e,a,c,d),null===c||1===c.length||c[1]<-b||c[0]>b?null:(d=null,c[0]>-b&&(d=[null,null],d[0]=Ap.add(e,Ap.scale(a,c[0]))),c[1]<b&&(d||(d=[null,null]),d[1]=Ap.add(e,Ap.scale(a,c[1]))),d)},Ap.se=function(a,b,c){return b=Ap.sub(b,a),b=[-b[1],b[0]],a=Ap.L(Ap.sub(c,a),b),0===a?0:0>a?-1:1},Ap.Oe=function(a,b,c,d,e,f,g,h,i){var j;return j=(h-f)*(c-a)-(g-e)*(d-b),g=(g-e)*(b-f)-(h-f)*(a-e),f=(c-a)*(b-f)-(d-b)*(a-e),g>-1e-12&&1e-12>g&&f>-1e-12&&1e-12>f&&j>-1e-12&&1e-12>j?(i[0]=.5*(a+c),i[1]=.5*(b+d),2):j>-1e-12&&1e-12>j?(i[0]=0,i[1]=0):(e=g/j,j=f/j,i[0]=a+e*(c-a),i[1]=b+e*(d-b),a=0>e||e>1,b=0>j||j>1,a&b?5:a?3:b?4:1)},Ap.Km=function(a,b,c,d,e,f,g,h,i){if((h>f?f:h)>(b>d?b:d)||(d>b?b:d)>(f>h?f:h)||(g>e?e:g)>(a>c?a:c)||(c>a?a:c)>(e>g?e:g))return 5;var j;return j=(h-f)*(c-a)-(g-e)*(d-b),g=(g-e)*(b-f)-(h-f)*(a-e),f=(c-a)*(b-f)-(d-b)*(a-e),g>-1e-12&&1e-12>g&&f>-1e-12&&1e-12>f&&j>-1e-12&&1e-12>j?(i&&(i[0]=.5*(a+c),i[1]=.5*(b+d)),2):j>-1e-12&&1e-12>j?(i&&(i[0]=0,i[1]=0),0):(e=g/j,j=f/j,i&&(i[0]=a+e*(c-a),i[1]=b+e*(d-b)),a=0>e||e>1,b=0>j||j>1,a&b?5:a?3:b?4:1)},Ap.Dr=function(a,b,c,d,e,f,g,h){var i,j=fr;return i=(h-f)*(c-a)-(g-e)*(d-b),g=(g-e)*(b-f)-(h-f)*(a-e),f=(c-a)*(b-f)-(d-b)*(a-e),g>-1e-12&&1e-12>g&&f>-1e-12&&1e-12>f&&i>-1e-12&&1e-12>i?(j&&(j[0]=.5*(a+c),j[1]=.5*(b+d)),2):i>-1e-12&&1e-12>i?(j&&(j[0]=0,j[1]=0),0):(e=g/i,i=f/i,j&&(j[0]=a+e*(c-a),j[1]=b+e*(d-b)),(a=0>i||i>1)?5:a?4:1)};var Bp={Hi:3,sq:3,aq:1};Bp.create=function(a,b,c){var d=Array(Bp.Hi);return I(c)||(d[0]=a,d[1]=b,d[2]=c),d},Bp.ks=Array(Bp.Hi),Bp.set=function(a,b,c,d){return d[0]=a,d[1]=b,d[2]=c,d},Bp.A=function(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b):Bp.create(a[0],a[1],a[2])},Bp.$f=function(a,b,c){return c=J(c,1e-6),a.length===b.length&&U(a[0],b[0],c)&&U(a[1],b[1],c)&&U(a[2],b[2],c)},Bp.sr=function(a,b){var c=J(void 0,1e-6);return U(a[0],b[0],c)&&U(a[1],b[1],c)&&U(a[2],b[2],c)},Bp.vp=function(a,b){var c=b||Bp.create();return c[0]=-a[0],c[1]=-a[1],c[2]=-a[2],c},Bp.add=function(a,b,c){return c=c||Bp.create(),c[0]=a[0]+b[0],c[1]=a[1]+b[1],c[2]=a[2]+b[2],c},Bp.Ao=function(a,b,c){return[a[0]+b[0]+c[0],a[1]+b[1]+c[1],a[2]+b[2]+c[2]]},Bp.cb=function(a,b,c,d){return d=d||Bp.create(),d[0]=a[0]+b[0]*c,d[1]=a[1]+b[1]*c,d[2]=a[2]+b[2]*c,d},Bp.sub=function(a,b,c){return c=c||Bp.create(),c[0]=a[0]-b[0],c[1]=a[1]-b[1],c[2]=a[2]-b[2],c},Bp.I=function(a,b,c){c=c||Bp.create();var d=b[0],e=b[1];return b=b[2],c[0]=a[0]*d+a[4]*e+a[8]*b+a[12],c[1]=a[1]*d+a[5]*e+a[9]*b+a[13],c[2]=a[2]*d+a[6]*e+a[10]*b+a[14],c},Bp.eu=function(a,b,c){c=c||Bp.create();var d=b[0],e=b[1],f=b[2];return b=b[3],c[0]=a[0]*d+a[4]*e+a[8]*f+a[12]*b,c[1]=a[1]*d+a[5]*e+a[9]*f+a[13]*b,c[2]=a[2]*d+a[6]*e+a[10]*f+a[14]*b,c[3]=a[3]*d+a[7]*e+a[11]*f+a[15]*b,c},Bp.tf=function(a,b,c){c=c||Bp.create();var d=b[0],e=b[1];return b=b[2],c[0]=a[0]*d+a[4]*e+a[8]*b,c[1]=a[1]*d+a[5]*e+a[9]*b,c[2]=a[2]*d+a[6]*e+a[10]*b,c},Bp.si=function(a,b){var c=Bp.create();return c[0]=a[0]*b[0],c[1]=a[1]*b[1],c[2]=a[2]*b[2],c},Bp.scale=function(a,b,c){return c=c||Bp.create(),c[0]=a[0]*b,c[1]=a[1]*b,c[2]=a[2]*b,c},Bp.length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},Bp.jb=function(a){return Bp.L(a,a)},Bp.distance=function(a,b){return Math.sqrt(Bp.X(a,b))},Bp.X=function(a,b){return Bp.jb(Bp.sub(a,b))},Bp.tt=function(a,b,c){return a=Bp.sub(a,b,Bp.ks),a[0]*a[0]+a[1]*a[1]+c*a[2]*a[2]},Bp.normalize=function(a,b){var c=b||Bp.create(),d=1/Bp.length(a);return c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d,c},Bp.Ok=function(a){var b=Bp.length(a),c=1/b;return a[0]*=c,a[1]*=c,a[2]*=c,b},Bp.L=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},Bp.pa=function(a,b,c){c=c||Bp.create();var d=a[0],e=a[1];a=a[2];var f=b[0],g=b[1];return b=b[2],c[0]=e*b-a*g,c[1]=a*f-d*b,c[2]=d*g-e*f,c},Bp.axis=function(a,b,c){return c=c||Bp.create(),Bp.pa(a,b,c),Bp.normalize(c,c),c},Bp.pb=function(a,b){var c=Bp.L(a,b),d=Bp.length(a),e=Bp.length(b);return Math.acos($(c/(d*e),-1,1))},Bp.su=function(a,b,c){c=c||Bp.create();var d=1/Bp.jb(b);return a=Bp.L(a,b)*d,c[0]=b[0]*a,c[1]=b[1]*a,c[2]=b[2]*a,c},Bp.mu=function(a,b,c){c=c||Bp.create();var d=1/Bp.jb(b),d=Bp.L(a,b)*d;return c[0]=a[0]-b[0]*d,c[1]=a[1]-b[1]*d,c[2]=a[2]-b[2]*d,c},Bp.Ab=function(){var a=Bp.create(),b=Bp.create();return function(c,d,e,f){return Bp.sub(d,c,a),Bp.sub(e,c,b),Bp.pa(a,b,f)}}(),Bp.Yt=function(a,b){var c=a||Math.random,d=b||Bp.create(),e=Math.abs(c()%1),c=Math.abs(c()%1),e=op*e,c=Math.acos(2*c-1)-mp;return d[0]=Math.cos(e),d[1]=Math.sin(c),d[2]=Math.sin(e),Bp.normalize(d,d),d},Bp.ma=function(a,b,c,d){return d=d||Bp.create(),d[0]=X(a[0],b[0],c),d[1]=X(a[1],b[1],c),d[2]=X(a[2],b[2],c),d},Bp.hu=function(a,b,c,d){return d=d||Bp.create(),d[0]=X(a[0],b[0],c),d[1]=X(a[1],b[1],c),d[2]=X(a[2],b[2],c),Bp.normalize(d,d),d},Bp.wn=function(a,b,c){var d,e,f;return a=Bp.normalize(Bp.A(a)),b=Bp.normalize(Bp.A(b)),0>=c?a:c>=1?b:(e=Bp.L(a,b),e=$(e,-1,1),1-e>1e-6?(d=Math.acos(e),f=Math.sin(d),e=Math.sin((1-c)*d)/f,c=Math.sin(c*d)/f):e=1-c,a=Bp.add(Bp.scale(a,e),Bp.scale(b,c)))},Bp.toString=function(a,b){var c,d=J(b,4);return c="["+T(a[0],d),c+=",",c+=T(a[1],d),c+=",",c+=T(a[2],d),c+="]"},Bp.Ta=function(a,b,c,d){var e=Bp.sub(b,a);if(c=Bp.L(Bp.sub(c,a),e),0>=c)return d&&(d.split=!1,d.Hb=0),a;var f=Bp.L(e,e);return c>=f?(d&&(d.split=!1,d.Hb=1),b):(b=c/f,d&&(d.split=!0,d.Hb=b),Bp.add(a,Bp.scale(e,b)))},Bp.jr=function(a,b,c){var d=st;b=Bp.sub(b,a),c=Bp.L(Bp.sub(c,a),b);var e=Bp.L(b,b);return c/=e,d?(Bp.scale(b,c,d),Bp.add(a,d,d),d):Bp.add(a,Bp.scale(b,c))},Bp.ig=function(a,b,c,d){var e=[.5*(a[0]+b[0]),.5*(a[1]+b[1]),.5*(a[2]+b[2])];return a=Bp.sub(b,a),b=.5*Bp.Ok(a),c=Ap.Al(e,a,c,d),null===c||1===c.length||c[1]<-b||c[0]>b?null:(d=null,c[0]>-b&&(d=[null,null],d[0]=Bp.add(e,Bp.scale(a,c[0]))),c[1]<b&&(d||(d=[null,null]),d[1]=Bp.add(e,Bp.scale(a,c[1]))),d)},function(){var a=Bp.create();return function(b,c){var d,e=J(c,4),f=b[0];d=b[1];var g,h=b[2],i=b[3];return f>1&&(g=1/Math.sqrt(sa(b,b)),f*=g,d*=g,h*=g,i*=g),g=2*Math.acos(f),f=Math.sqrt(1-f*f),1e-6>f?(a[0]=1,a[1]=0,a[2]=0):(f=1/f,a[0]=d*f,a[1]=h*f,a[2]=i*f),d=""+Bp.toString(a,e),d=d+","+T(g*qp,e)}}();var Cp={Os:1,Gs:2,LINE_STRIP:3,TRIANGLE:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};Ro=xa.prototype,Ro.Pa=function(){},Ro.tc=function(){},Ro.pg=function(){},Ro.ol=function(){},Ro.vn=function(){},Ro.cc=function(){},Ro.za=function(){},Ro.Wk=function(){},Ro.clear=function(){},Ro.Bi=function(){},Ro.Yk=function(){},Ro.un=function(){},Ro.na=function(){},Ro=ya.prototype,Ro.Na=function(){this.a&&this.a.Na(),this.c&&this.c.Na(),this.b&&this.b.Na()},Ro.Fb=function(){var a=0;if(this.a)for(var b=this.a,c=b.j.a.length,d=0;c>d;++d){var e=b.a[d];e&&(a+=e.Fb())}return this.c&&(a+=this.c.Fb()),this.b&&(a+=this.b.Fb()),a},Ro.hb=function(){return this.d},Ro.ji=function(){return this.p},Ro.Ug=function(){return!this.e&&this.d&&(this.e=this.d.Ug()),this.e},Ro.vk=function(){return!this.g&&this.d&&(this.g=this.d.vk()),this.g},Ro.na=function(a,b,c,d){if(this.a){var e,f,g;switch(J(b,3)){case 1:f=this.j,b=this.a,c=J(c,0),c=S(c,0,f),g=f-c,d=J(d,g),d=S(d,0,g),a.na(1,b,null,c,d);break;case 2:(e=this.n)||H("no index data"),b=this.a,f=this.b,c=J(c,0),c=S(c,0,e),g=e-c,d=J(d,g),d=S(d,0,g),a.na(2,b,f,2*c,2*d);break;case 3:(g=this.ji())||H("no index data"),e=Cp.TRIANGLE,b=this.a,f=this.c,c=J(c,0),c=S(c,0,g),g-=c,d=J(d,g),d=S(d,0,g),c*=3,d*=3,a.na(e,b,f,c,d)}}};var Dp=function(){var a=Bp.create(),b=Bp.create(),c=Bp.create();return function(d,e,f,g){return g=g||Ba(),f=f||Bp.create(0,0,0),e=e||Bp.create(0,1,0),Bp.sub(f,d,c),Bp.normalize(c,c),1e-6>=Bp.jb(c)&&Bp.set(0,0,1,c),Bp.pa(e,c,a),Bp.normalize(a,a),Bp.pa(c,a,b),Bp.normalize(b,b),g[0]=a[0],g[1]=a[1],g[2]=a[2],g[3]=0,g[4]=b[0],g[5]=b[1],g[6]=b[2],g[7]=0,g[8]=c[0],g[9]=c[1],g[10]=c[2],g[11]=0,g[12]=f[0],g[13]=f[1],g[14]=f[2],g[15]=1,g}}();Ro=Ma.prototype,Ro.A=function(a){this.De=a.De,this.b=a.b,this.Gg=N(a.Gg),this.ef=N(a.ef),this.Sf=a.Sf,this.a=N(a.a)},Ro.Db=function(){return new this.constructor(this)},Ro.getName=function(){return this.De},Ro.fb=function(a){this.De=a},Ro.tc=function(){return this.ef},Ro.pg=function(a){this.ef=a},Ro.cc=function(a){return this.a[a]},Ro.za=function(a,b){b?this.a[a]=b:delete this.a[a]},Ro.Kj=function(a){a.vn(this.b,this.Gg),a.pg(this.ef);for(var b=0;b<this.a.length;b++)a.za(b,this.a[b])},Ra.prototype.Db=function(){return new this.constructor(this)},Ra.prototype.A=function(a){Ca(a.Cg,this.Cg),Ca(a.b,this.b),this.c=a.c;var b=this.a,c=a.a,d=0;for(a=a.a.length;a>d;++d){var e=c[d],f=b[d];f?(f[0]=e[0],f[1]=e[1],f[2]=e[2],f[3]=e[3]):Oa(e[0],e[1],e[2],e[3])}},Ra.prototype.d=function(){var a=Ba();return function(b){return Da(this.Cg,b,a),new Ra(a)}}(),Ra.prototype.rj=function(){var a=Bp.create();return function(b,c,d){return d=d||Fb(),2<=b.length&&(c=b[1],b=b[0]),Ta(this,b,c,-1,d),Ta(this,b,c,1,a),Bp.sub(a,d,a),Bp.normalize(a,a),d[3]=a[0],d[4]=a[1],d[5]=a[2],d}}(),$a.prototype.Db=function(){return new this.constructor(this)},$a.prototype.A=function(a){this.object=a.object,this.a&&a.a?Ca(a.a,this.a):this.a=N(a.a),this.sf&&a.sf?Ca(a.sf,this.sf):this.sf=N(a.sf),this.rf&&a.rf?Ca(a.rf,this.rf):this.rf=N(a.rf),this.ne&&a.ne?Ca(a.ne,this.ne):this.ne=N(a.ne),this.b&&a.b?this.b.A(a.b):this.b=N(a.b)};var Ep=function(){var a=0;return function(b){if(b instanceof Ep){this.ga=a++,this.Tc=this.hd=null,this.ea=[];for(var c=b.ea,d=0,e=c.length;e>d;++d)this.add(c[d].Db());this.De=b.De,this.sa=b.sa,this.Vf=b.Vf,this.S=Bp.A(b.S),this.bc=pa(b.bc),this.Dc=Bp.A(b.Dc),this.Bg=Ca(b.Bg),this.Qf=b.Qf,this.Eh=Ca(b.Eh),this.Pf=b.Pf}else this.ga=a++,this.Tc=this.hd=null,this.ea=[],this.De="",this.sa=0,this.Vf=!0,this.S=Bp.create(0,0,0),this.bc=oa(1,0,0,0),this.Dc=Bp.create(1,1,1),this.Bg=Ba(),this.Qf=!1,this.Eh=Ba(),this.Pf=!1;this.Cl=Ba(),this.Ti=!1,this.Dl=Ba(),this.Si=!1,this.Gl=oa(),this.Hl=!1}}();Ro=Ep.prototype,Ro.Db=function(){return new this.constructor(this)},Ro.Da=function(){return this.ga},Ro.getName=function(){return this.De},Ro.fb=function(a){this.De=a},Ro.eg=function(){return this.Vf},Ro.Qa=function(){for(var a=this;a;a=a.getParent())if(!a.eg())return!1;return!0},Ro.F=function(a){this.Vf=a},Ro.$g=function(){return this.hd},Ro.getParent=function(){return this.Tc},Ro.dg=function(){return this.ea.length},Ro.Zg=function(a){return(0>a||a>=this.ea.length)&&H("index out of range"),this.ea[a]},Ro.add=function(a){if(a===this)return!1;var b=a.Tc;b!==this&&(b&&(b=b.ea,b.splice(b.indexOf(a),1)),this.ea.push(a),a.Tc=this,a.ob());var c=this instanceof sn?this:this.hd;if(a instanceof sn){var d=a.hd;d!==c&&(d&&wn(d,a),c&&vn(c,a),a.hd=c)}else d=a.hd,d!==c&&(d&&bb(a,void 0,function(a){return wn(d,a),!(a instanceof sn)}),c?bb(a,void 0,function(a){return a.hd=c,vn(c,a),!(a instanceof sn)}):bb(a,void 0,function(a){return a.hd=null,!(a instanceof sn)}));return!0},Ro.remove=function(a){var b=this.ea,c=b.indexOf(a);if(0>c)return!1;b.splice(c,1),a.Tc=null;var d=a.hd;return d&&bb(a,void 0,function(a){return wn(d,a),a.hd=null,!(a instanceof sn)}),!0},Ro.bm=function(){this.Tc&&this.Tc.remove(this);for(var a=this.ea;0<a.length;){var b=a[a.length-1];a.length--,b.Tc=null}},Ro.sc=function(){return null},Ro.le=function(){return!1},Ro.No=function(){return 0},Ro.nl=function(){},Ro.$h=function(){},Ro.forEach=function(a,b){for(var c=this.ea,d=b,e=0,f=c.length;f>e;++e){var g=c[e];if(a&&(g=a(g),!I(g))){d=g;break}}return d},Ro.Ak=function(){return this.bc},Ro.translate=function(a){Bp.add(a,this.S,this.S),this.ob()},Ro.rotate=function(){var a=Ba();return function(b,c){c&&(va(b,a),Bp.sub(this.S,c,this.S),Bp.I(a,this.S,this.S),Bp.add(this.S,c,this.S)),qa(b,this.bc,this.bc),ra(this.bc,this.bc),this.ob()}}(),Ro.rotateAxisAngle=function(){var a=oa();return function(b,c,d){ta(b,c,a),this.rotate(a,d)}}(),function(){var a=oa();return function(b,c,d,e,f){ua(b,c,d,e,a),this.rotate(a,f)}}(),Ro=Ep.prototype,Ro.scale=function(a){var b=this.Dc;b[0]*=a[0],b[1]*=a[1],b[2]*=a[2],this.ob()},Ro.Yg=function(){if(!this.Qf){var a=this.Bg,b=this.S,c=this.Dc[0],d=this.Dc[1],e=this.Dc[2];va(this.bc,a),(1!=c||1!=d||1!=e)&&(a[0]*=c,a[4]*=d,a[8]*=e,a[1]*=c,a[5]*=d,a[9]*=e,a[2]*=c,a[6]*=d,a[10]*=e),a[12]=b[0],a[13]=b[1],a[14]=b[2],this.Qf=!0}return this.Bg},Ro.Xg=function(){if(!this.Pf){var a=this.Eh,b=this.S,c=this.Dc[0],d=this.Dc[1],e=this.Dc[2];va(this.bc,a),Ea(a,a);var f=b[0],g=b[1],b=b[2];a[12]=-(a[0]*f+a[4]*g+a[8]*b),a[13]=-(a[1]*f+a[5]*g+a[9]*b),a[14]=-(a[2]*f+a[6]*g+a[10]*b),(1!=c||1!=d||1!=e)&&(c=1/c,d=1/d,e=1/e,a[0]*=c,a[4]*=c,a[8]*=c,a[12]*=c,a[1]*=d,a[5]*=d,a[9]*=d,a[13]*=d,a[2]*=e,a[6]*=e,a[10]*=e,a[14]*=e),this.Pf=!0}return this.Eh},Ro.update=function(){},Ro.na=function(){},Ro.ob=function(){this.Hl=this.Si=this.Ti=this.Pf=this.Qf=!1;var a=this.hd;a&&xn(a,this)},nb.prototype=Object.create(Ep.prototype),Ro=nb.prototype,Ro.nd=function(){return this.o},Ro.$o=function(){return this.Ha},Ro.le=function(a){var b=this.sc();if(b&&!b.le(a))return!1;if(b=this.nd().hb(),!b)return!1;var c=b.b;return!!b.bg(function(b,d,e,f,g,h,i){return 0<=Kb(a,e,g,i,c)?!0:void 0},0)},Ro.nl=function(a){var b=this.sc();if(b&&!b.le(a))return-(1/0);if(b=this.nd().hb(),!b)return-(1/0);var c=!1,d=1/0,e=b.b;return b.bg(function(b,f,g,h,i,j,k){b=Kb(a,g,i,k,e),b>=0&&d>b&&(c=!0,d=b)}),c?d:-(1/0)},Ro.$h=function(a,b,c){var d=this.sc();if(d&&!d.le(a))return-(1/0);if(d=this.nd().hb(),!d)return-(1/0);var e=!1,f=1/0,g=Bp.create(),h=d.b;return d.bg(function(d,i,j,k,l,m,n){i=Lb(a,j,l,n,g,c,h),i>=0&&f>i&&(e=!0,f=i,Bp.A(g,b),I(c)||(c.Nc=d))}),e?(!I(c)&&null!=d.c&&0<d.c.length&&(c.Oc=Qb(d,c.Nc)),f):-(1/0)},Ro.No=function(a){var b=this.sc();if(b&&!b.le(a))return 0;if(b=this.nd().hb(),!b)return 0;var c=0;return b.bg(function(b,d,e,f,g,h,i){b=Kb(a,e,g,i,!0),b>=0&&1/0>b&&c++}),c},Ro.sc=function(){return this.a||(this.a=this.nd().vk()),this.a},Ro.update=function(a){var b=this.Ha;b&&(Na(b,"u_mat_proj",a.a),Na(b,"u_mat_view",a.sf),Na(b,"u_mat_model",a.rf),Na(b,"u_mat_normal",a.ne))},Ro.na=function(a,b){var c=3;this.update(b);var d=this.Ha;d&&(c=d.Sf,d.Kj(a)),this.o.na(a,c)};var Fp=1;ob.prototype.od=function(){return this.size*G(this.type)},ob.prototype.toString=function(){return window.JSON.stringify(this)},qb.prototype.Na=function(){for(var a=this.a,b=0,c=a.length;c>b;++b){var d=a[b];d&&d.Na()}},sb.prototype=Object.create(nb.prototype),Ro=sb.prototype,Ro.vd=function(a){this.p=S(a,0,1)},Ro.cc=function(){return this.Xa},Ro.za=function(a,b,c){a!==this.Xa&&(this.Xa=a,this.e=b,this.n=c||!1,this.ob(),this.b=!1)},Ro.Yg=function(){if(!this.Qf){var a=this.Bg,b=this.S,c=this.bc,d=this.Dc[0],e=this.Dc[1],f=this.Dc[2],g=this.cc();if(this.v&&g){var g=Ap.create(),h=this.s,i=this.Xa,j=this.c,k=j.width,j=j.height,l=i.pd(),i=i.md();switch(h>0?(h=1/h,g[0]=k*l*h,g[1]=j*i*h):(k*=l,j*=i,g[0]=0,g[1]=0,j&&(g[0]=j>k?k/j:1),k&&(g[1]=k>j?j/k:1)),k=Ap.create(),this.d){case 1:k[0]=.5;break;case 2:k[0]=0;break;case 3:k[0]=-.5}switch(this.g){case 1:k[1]=.5;break;case 2:k[1]=0;break;case 3:k[1]=-.5}var h=this.H,m=this.Xa,l=this.c,j=l.width,l=l.height,i=m.pd(),m=m.md(),n=this.s;n>0?(n=1/n,k[0]=k[0]*j*i*n,k[1]=k[1]*l*m*n,k[0]+=h[0]*i*n,k[1]-=h[1]*m*n):(j*=i,l*=m,j&&(k[0]+=h[0]/j),l&&(k[1]-=h[1]/l)),Ga(a),a[0]=g[0],a[5]=g[1],a[12]=k[0]*d,a[13]=k[1]*e,Da(va(c),a,a)}else va(c,a);(1!=d||1!=e||1!=f)&&(a[0]*=d,a[4]*=e,a[8]*=f,a[1]*=d,a[5]*=e,a[9]*=f,a[2]*=d,a[6]*=e,a[10]*=f),a[12]+=b[0],a[13]+=b[1],a[14]+=b[2],this.Qf=!0}return this.Bg},Ro.Xg=function(){return this.Pf||(Fa(this.Yg(),this.Eh),this.Pf=!0),this.Eh},Ro.sc=function(){return this.a||(this.a=this.nd().Ug()),this.a},Ro.update=function(a){if(nb.prototype.update.call(this,a),a=this.Ha){var b=this.Xa?this.p:0;if(a.za(0,this.Xa),Na(a,"u_texunit0",0),Na(a,"u_opacity",b),!this.b){var b=this.j,c=this.cc(),d=this.c;if(c){var c=d.x,e=d.y,f=d.width,d=d.height,b=this.j;b[0]=f,b[1]=0,b[2]=0,b[3]=0,b[4]=d,b[5]=0,b[6]=c,b[7]=e}else b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=1,b[5]=0,b[6]=0,b[7]=0;b[8]=1,this.b=!0}Na(a,"u_mat_tex",this.j)}},Ro.$h=function(a,b,c){function d(d,f,k,l,m,n,o){d=Lb(a,k,m,o,j,c),d>=0&&i>d&&(c?(k=Ap.create(k[3],k[4]),m=Ap.create(m[3],m[4]),o=Ap.create(o[3],o[4]),o=Ap.Ao(Ap.scale(k,c.Gi),Ap.scale(m,c.tg),Ap.scale(o,c.ug)),o[0]=(o[0]-g.x)*g.width,o[1]=(o[1]-g.y)*g.height,(m=0<=o[0]&&1>=o[0]&&0<=o[1]&&1>=o[1])&&!(m=!e.e)&&(m=o[0],k=o[1],o=e.e,o.data?(m=Math.floor(m*o.width),k=Math.floor(k*o.height),e.n&&(k=o.height-k-1),0>m||0>k||m>=o.width||k>=o.height?m=!1:(f=fa(o.wp)?4:o.wp,m=10<o.data[(m+k*o.width)*f+(f>1?3:0)])):m=!0),m&&(h=!0,i=d,Bp.A(j,b))):(h=!0,i=d,Bp.A(j,b)))}var e=this,f=this.sc();if(f&&!f.le(a))return-(1/0);if(f=this.nd().hb(),!f)return-(1/0);var g=this.c,h=!1,i=1/0,j=Bp.create();return this.e&&(c=c||{}),c?Ob(f,d):f.bg(d),h?(!I(c)&&null!=f.c&&0<f.c.length&&(c.Oc=Qb(f,c.Nc)),i):-(1/0)},Ro=vb.prototype,Ro.zk=function(){return this.b},Ro.qb=function(){return this.marker},Ro.mg=function(){this.marker=null},Ro.F=function(a){this.marker&&this.marker.F(a)},Ro.sj=function(){return this.R},Ro.qg=function(a){this.R=a},xb.prototype.H=function(){return this.e},b("pano.MarkerInfo.prototype.isPositionFixed",xb.prototype.H),xb.prototype.p=function(){return this.d},b("pano.MarkerInfo.prototype.getFixedRotation",xb.prototype.p),xb.prototype.v=function(){return this.j},b("pano.MarkerInfo.prototype.getHeightOverGround",xb.prototype.v),xb.prototype.s=function(){return this.c},b("pano.MarkerInfo.prototype.getGroundAngle",xb.prototype.s),yb.prototype.Qa=function(){return!0},yb.prototype.di=function(){return tr},b("pano.MarkerBase.prototype.getBubbleType",yb.prototype.di),zb.prototype=Object.create(yb.prototype),Ro=zb.prototype,Ro.zk=function(){return this.anchor.zk()},Ro.F=function(a){a=(this.visible=a)&&!0,this.Q&&a!=this.Q.eg()&&this.Q.F(a)},Ro.eg=function(){return this.visible},Ro.Qa=function(){return this.visible},Ro.sj=function(){return this.R},Ro.qg=function(a){this.R=a,this.Q&&(this.Q.qg?this.Q.qg(this.R):this.Q.R=this.R)},function(a){this.Ba=a}.prototype=Object.create(yb.prototype),Bb.prototype.Db=function(){return new this.constructor(this)},Bb.prototype.le=function(){return!1},Bb.prototype.Mm=function(){return!1},Db.prototype=Object.create(Bb.prototype),Ro=Db.prototype,Ro.qj=function(){var a=this.Nb[0]-this.Zb[0],b=this.Nb[1]-this.Zb[1],c=this.Nb[2]-this.Zb[2];return Math.sqrt(a*a+c*c+b*b)},Ro.wk=function(){return Bp.ma(this.Zb,this.Nb,.5)},Ro.le=function(a){return 0<=Mb(a,this.Zb,this.Nb)},Ro.Yl=function(a){return a[0]>=this.Zb[0]&&a[0]<=this.Nb[0]&&a[1]>=this.Zb[1]&&a[1]<=this.Nb[1]&&a[2]>=this.Zb[2]&&a[2]<=this.Nb[2]},Ro.Mm=function(a){var b=this.Zb,c=this.Nb;return 0>Qa(a,b[0],b[1],b[2],c[0],c[1],c[2])},Eb.prototype=Object.create(Bb.prototype),Eb.prototype.wk=function(){return this.Mf},Eb.prototype.qj=function(){return this.Hh},Eb.prototype.le=function(a){var b=this.Mf,c=this.Hh,d=a[3],e=a[4],f=a[5],g=b[0]-a[0],h=b[1]-a[1];return a=b[2]-a[2],b=d*g+e*h+f*a,d=d*b-g,e=e*b-h,f=f*b-a,!!(c*c>=d*d+e*e+f*f)},Eb.prototype.Mm=function(a){var b=this.Mf,c=this.Hh;return a=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3],0>(a-c>0?1:0>a+c?-1:0)},Ro=Nb.prototype,Ro.ji=function(){return this.a.length/3},Ro.bg=function(a,b,c,d){var e=this.ji(),f=J(b,0);(0>f||f>=e)&&H("invalid args");var g=J(c,e-f),g=S(g,0,e-f),e=this.a;c=3*f,b=Pb(this);for(var h=this.e,i=Bp.create(),j=Bp.create(),k=Bp.create(),l=f,f=f+g;f>l;++l){var m=e[c+0],n=e[c+1],o=e[c+2],g=m*h;if(i[0]=b[g+0],i[1]=b[g+1],i[2]=b[g+2],g=n*h,j[0]=b[g+0],j[1]=b[g+1],j[2]=b[g+2],g=o*h,k[0]=b[g+0],k[1]=b[g+1],k[2]=b[g+2],g=a(l,m,i,n,j,o,k),!I(g))return g;c+=3}return d},Ro.Ug=function(){if(!this.j){for(var a=Pb(this),b=this.e,c=0,d=1/0,e=1/0,f=1/0,g=-(1/0),h=-(1/0),i=-(1/0),j=0,k=this.d;k>j;++j)var l=a[c+0],m=a[c+1],n=a[c+2],d=l>d?d:l,e=m>e?e:m,f=n>f?f:n,g=R(g,l),h=R(h,m),i=R(i,n),c=c+b;a=Bp.create(d,e,f),g=Bp.create(g,h,i),this.j=new Db(a,g)}return this.j},Ro.vk=function(){if(!this.p){var a=this.Ug(),b=Bp.add(a.Zb,a.Nb);Bp.scale(b,.5,b),a=Bp.distance(b,a.Nb),this.p=new Eb(b,a)}return this.p},Ro.$h=function(a,b){var c=!1,d=1/0,e=Bp.create();return this.bg(function(f,g,h,i,j,k,l){f=Lb(a,h,j,l,e),f>=0&&d>f&&(c=!0,d=f,Bp.A(e,b))}),c?d:-(1/0)},Rb.prototype.Lh=function(a,b,c,d){d&&$b(this,d),d=this.e;var e=d.length;d[e++]=a,d[e++]=b,d[e++]=c},Rb.prototype.hb=function(){0!==(this.b<<2)%this.d&&H("incomplete vertex buffer");var a=new Uint8Array(this.a.buffer,0,(0<this.d?this.d:this.b<<2)*this.c),a=new Uint8Array(a),b=new Uint16Array(this.e);return new Nb(this.j,this.c,a,b,this.g)};var Gp=e();Gp.isEnabled=!1,ac.distanceFactor=.01,Ro=ac.prototype,Ro.clear=function(){this.a=new pn},Ro.t=function(){},Ro.Bo=function(){},Ro.ik=function(a){this.a.set(a.Sa.id,a)},Ro.mg=function(a){this.a.remove(a.id)},Ro.Md=function(){this.a=new pn},Ro.uf=function(){},Ro.Ud=function(a){return(a=this.a.get(a.id))&&a instanceof xb?a:null},Ro.Tj=function(){},Ro.lh=function(){},Ro.li=function(){},Ro.Kh=function(){},Ro.Uh=function(){},Ro.bi=function(){},Ro.Oh=function(){},cc.prototype=Object.create(Ep.prototype),cc.prototype.Ja=function(a){dc(this,a)},cc.prototype.ka=function(){return ec(this)},cc.prototype.cg=function(){return this.Ce},cc.prototype.Bi=function(a){var b=this.Fe,c=J(void 0,1e-6);U(a.x,b.x,c)&&U(a.y,b.y,c)&&U(a.width,b.width,c)&&U(a.height,b.height,c)||(this.Fe.A(a),a=this.Fe,a.x=S(a.x,-1,1),a.y=S(a.y,-1,1),a.width=S(a.width,0,1-a.x),a.height=S(a.height,0,1-a.y),this.bf=this.Xd=!1)};var Hp=cc.prototype;Ba(),Hp.Wg=function(){if(!(this.bf&&this.Xd&&this.Qf&&this.Pf&&this.Ti&&this.Si)){var a=this.hi(),b=jb(this),a=Da(a,b);this.Oi=new Ra(a),this.bf=!0}return this.Oi},Ro=cc.prototype,Ro.rb=function(){var a=Bp.create();return function(b,c){var d=c||gc(this,a),e=this.Bg;Dp(b,d,this.S,e),wa(e,this.bc),this.ob()}}(),Ro.Or=function(){var a=Bp.create();return function(b,c){var d=gc(this,a);this.rotateAxisAngle(d,b,c)}}(),Ro.Cn=function(){var a=Bp.create();return function(b,c){var d=fc(this,a);this.rotateAxisAngle(d,b,c)}}(),Ro.Gp=function(){var a=Bp.create();return function(b,c){var d=hc(this,a);this.rotateAxisAngle(d,-b,c)}}(),Ro.hi=function(){if(!this.Xd){var a=this.Fe,b=this.Yb,c=this.ac,d=this.kc,e=this.nc,f=X(b,c,.5*(a.x+1)),b=X(b,c,.5*(a.x+a.width+1)),c=X(d,e,.5*(a.y+1)),a=X(d,e,.5*(a.y+a.height+1)),d=this.Yd,e=this.Ni;this.Eg?(f=Ka(f,b,c,a,d,e),b=this.Eg.hi(),Ja(f,b,this.Vi,this.Wd)):Ka(f,b,c,a,d,e,this.Wd),this.Xd=!0}return this.Wd},Ro.ob=function(){Ep.prototype.ob.call(this),this.bf=!1},ic.prototype=Object.create(cc.prototype),ic.prototype.Ja=function(){},ic.prototype.hi=function(){if(!this.Xd){var a=this.Fe,b=this.Yb,c=this.ac,d=this.kc,e=this.nc,f=X(b,c,.5*(a.x+1)),b=X(b,c,.5*(a.x+a.width+1)),c=X(d,e,.5*(a.y+1)),a=X(d,e,.5*(a.y+a.height+1)),d=this.Yd,e=this.Ni;this.Eg?(f=La(f,b,c,a,d,e),b=this.Eg.hi(),Ja(f,b,this.Vi,this.Wd)):La(f,b,c,a,d,e,this.Wd),this.Xd=!0}return this.Wd},jc.prototype=Object.create(Ep.prototype),Ro=jc.prototype,Ro.bm=function(){if(Ep.prototype.bm.call(this),this.Q){var a=this.Q.Xa;if(a){var b=this.f.j;a&&(a=a.Xa,5>b.c.length&&b.c.push(a))}this.Q=null}},Ro.vd=function(a){this.opacity=S(a,0,1),this.Q?Na(this.Q.Ha,"u_opacity",a):(a=this.hd)&&xn(a,this)},Ro.tn=function(a){this.Q?Na(this.Q.Ha,"u_opacity",a):this.Se&&(Na(this.Se,"u_opacity",a),Na(this.o,"u_opacity",a),Na(this.p,"u_opacity",a),Na(this.Lj,"u_opacity",a))},Ro.update=function(a){this.Q||(Ep.prototype.update.call(this,a),kc(this))},Ro.nd=function(){return null},Ro.na=function(a,b){this.update(b)};var Ip=[[19,0,254],[3,0,205],[51,0,254]],Jp=[7,0,208];Bp.sub(Jp,Ip[1]);var Kp=[43,0,45],Lp=[[74,0,254],[58,0,205],[106,0,254]],Mp=[62,0,208],Np=[[128,0,237],[157,0,254]],Op=[[3,0,106],[98,0,201]],Pp=[98,0,108],Qp=[[106,0,106],[203,0,203]],Rp=[108,0,108],Sp=[43,0,44],Tp=[43,0,44],Up=[0,0,0],Vp=[Tp[0]-95,0,44],Wp=[144,0,246],Xp=[[206,0,154],[253,0,106],[206,0,250]],Yp=[250,0,112];Bp.sub(Yp,Xp[1]);var Zp=[-43,0,44],$p=[1,0,0,0,1,0,0,0,1],_p=l("in",6),aq=l("out",6);jc.prototype.u=function(){this.f.u()},jc.prototype.open=function(a){if(!this.Q){if(fa(a)||a>0){a=fa(a)?300:a;var b=this.n;this.qe&&this.qe.stop(),(this.qe=rc(this.f,this,b,1,a,!0))&&this.qe.start()}else qc(this,1,!0);this.u()}};var bq=Bp.ma(Up,Sp,.3125);Bp.ma(Up,Zp,.3125),Ro=jc.prototype,Ro.sj=function(){return this.R},Ro.qg=function(a){this.R=a,this.a&&(this.a.R=this.R-.005,this.Fd.R=this.R-.004,this.wf.R=this.R-.002,this.c.R=this.R-.001,this.b&&(this.b.R=this.R-.003)),this.Q&&(this.Q.R=this.R)},Ro.F=function(a){this.Vf!=a&&(Ep.prototype.F.call(this,a),tc(this))},Ro.$h=function(){return-(1/0)},Ro.Ul=function(a,b){if(!this.Q){var c=this.f.j.Ul(this,a,b);return c&&(ab(this.a),ab(this.c),ab(this.wf),ab(this.Fd),this.b&&ab(this.b),this.Q=c,this.add(c),this.e=this.Lj=this.p=this.o=this.Se=this.Ka=this.Fd=this.b=this.wf=this.c=this.a=null),c}},uc.prototype.Ac=function(){},uc.prototype.clear=function(){this.c=this.lb=this.mb=this.f=this.Fa=this.d=this.b=this.j=this.e=this.a=this.Vb=this.wa=this.Jc=null},uc.prototype.Ul=function(a,b,c){var d=a.getParent();if(!d||a.Q)return null;var e=this.Jc,f=this.wa,g=f.getContext();f.bindTexture(0,null),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,null),g.bindRenderbuffer(g.RENDERBUFFER,null),g.bindFramebuffer(g.FRAMEBUFFER,null);var h=vc(this,b,c);g.bindFramebuffer(g.FRAMEBUFFER,h);var i=0<this.c.length?this.c.pop():this.wa.getContext().createTexture();g.bindTexture(g.TEXTURE_2D,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_NEAREST),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,h.width,h.height,0,g.RGBA,g.UNSIGNED_BYTE,null),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,i,0),g.framebufferRenderbuffer(g.FRAMEBUFFER,g.DEPTH_ATTACHMENT,g.RENDERBUFFER,this.g),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,null),g.bindRenderbuffer(g.RENDERBUFFER,null),g.bindFramebuffer(g.FRAMEBUFFER,null),g.bindFramebuffer(g.FRAMEBUFFER,h),this.Fa.clear(),this.Fa.add(a),this.Fa.update(),e.clear(),g.clearColor(.5,.5,.5,0),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT),e.Bi(0,0,b,c),Jn(this.d,[St.TERRAIN,Ft,St.BUILDING,Gt,Ht,It,St.ROUTE,Ot,Pt,Qt,Jt,Kt,Lt,Nt,Rt]);var j=[],h=.5/b,k=.5/c,l=Number.MAX_VALUE,m=Number.MAX_VALUE,n=Number.MIN_VALUE,o=Number.MIN_VALUE;a.forEach(function(a){var b=a.nd().hb().Ug(),c=Bp.I(ib(a),b.Zb);a=Bp.I(ib(a),b.Nb),l=c[0]<l?c[0]:l,m=c[2]<m?c[2]:m,n=a[0]>n?a[0]:n,o=a[2]>o?a[2]:o});var p=n-l,q=o-m,r=p/q,s=1,t=1,u=1;for(p>q?(t=p,u=q*r,s=r):(t=p/r,u=q),p=Bp.I(ib(a.wf),[0,0,0]),p[0]-=l,p[1]-=m,p[0]/=t,p[1]/=u,u=new ic({left:l,right:l+t,bottom:m,top:m+u,Nk:0,tk:100}),t=u.hi(),q=jb(u),q[0]=1,q[6]=1,q[9]=1,q[10]=0,q[5]=0,u=a.Lj.tc(),cj(u,!1),tn(this.Fa,t,q,function(a,b){j.push(b.Db())},{Qo:!1,ne:!1}),j.sort(po),t=0;t<j.length;t++)q=j[t],q.object.na(e,q);if(this.Fa.clear(),cj(u,!0),e=null,e=new Uint8Array(b*c*4),g.readPixels(0,0,b,c,g.RGBA,g.UNSIGNED_BYTE,e),e=wc(e,b,c),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,null),g.bindRenderbuffer(g.RENDERBUFFER,null),g.bindFramebuffer(g.FRAMEBUFFER,null),d.add(a),!this.b){for(this.b=new _k,this.b.b=Ps,this.b.a=Ps,t=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),d=[0,1,0],g=[[0,0,0],[1,0,0],[1,0,1],[0,0,1]],u=[[0,0],[1,0],[1,1],[0,1]],q=new Rb(t),t=0;t<g.length;t++)Xb(q,g[t],u[t],d);Yb(q,0,1,2,0,2,3),d=q.hb(),this.e=new ya(this.mb,d),this.j=Pn(this.lb)}return f=new sb(f,{Se:this.j,Gc:this.e}),ub(f),b=this.Vb.Oo(b,c,Os,{Xa:i,gd:this.b}),f.za(b,e,!1),f.F(a.eg()),f.Y=a.Y,_a(f,Lt),tb(f,h,k,1-h,1-k),b=1/1.03*s,hb(f,[b,b,b]),eb(f,[-p[0]*b,0,-p[1]*b]),f.R=a.R,f},Ro=xc.prototype,Ro.set=function(a,b){if(this.da<this.c)this.a[a]||(this.da+=1,this.keys.push(a));else if(!this.a[a]&&0<this.keys.length){var c=zc(this.keys,this.a);this.b&&this.b(c.key,this.a[c.key].value),this.keys[c.index]=a,delete this.a[c.key]}else if(0==this.c)return;this.Wb+=1,this.a[a]={value:b,Wb:this.Wb}},Ro.get=function(a){return(a=this.a[a])?(this.Wb+=1,a.Wb=this.Wb,a.value):null},Ro.fl=function(a){a&&(this.Wb+=1,a.Wb=this.Wb)},Ro.remove=function(a,b){var c=this.a[a];

if(c){this.b&&void 0!==b&&!0===b&&this.b(a,c.value);for(var c=this.keys,d=c.length,e=0;d>e;++e)if(a==c[e])return delete c[e],c.splice(e,1),delete this.a[a],this.da--,!0}return!1},Ro.size=function(){return this.da},Ro.Jj=function(a,b){if(a<this.c&&void 0!==b&&!0===b){for(;this.da>a;){var c=zc(this.keys,this.a);this.b&&this.b(c.key,this.a[c.key].value),delete this.keys[c.index],this.keys.splice(c.index,1),delete this.a[c.key],this.da--}this.c=a}else this.c=Math.max(this.c,a)},Ro.clear=function(){if(this.b)for(var a=0;a<this.da;a++)this.b(this.keys[a],this.a[this.keys[a]].value);this.da=0,this.keys=[],this.a={},this.Wb=0},Ro.Ro=function(){};var cq="eng",dq={at:"Afrikaans",bt:"Albanian",dt:"Arabic",et:"Basque",ht:"Belarusian",it:"Bengali",jt:"Bosnian",kt:"Bulgarian",lt:"Catalan",mt:"Simpl. Chinese",nt:"Trad. Chinese",qt:"Czech",rt:"Danish",vt:"Dutch",wt:"English",yt:"Estonian",zt:"Filipino",At:"Finnish",Bt:"French",Ct:"German",Dt:"Irish",Et:"Galician",Ht:"Greek, Modern (1453-)",It:"Hebrew",Kt:"Hindi",Lt:"Hungarian",Mt:"Icelandic",Nt:"Indonesian",Pt:"Italian",Qt:"Japanese",Rt:"Kazakh",St:"Khmer",Tt:"Kyrgyz",Ut:"Korean",Vt:"Latvian",Wt:"Lithuanian",Xt:"Macedonian",Zt:"Maori",$t:"Malay",au:"Maltese",bu:"Montenegro",cu:"Moldavian",du:"Mongolian",iu:"Norwegian",lu:"Persian",ou:"Polish",pu:"Portuguese",tu:"Pinyin",wu:"Romanian",xu:"Russian",yu:"Croatian",sin:"Sinhalese",zu:"Slovak",Au:"Slovenian",Bu:"Spanish",Cu:"Serbian",Eu:"Swahili",Fu:"Swedish",Hu:"Tamil",Iu:"Tagalog",Ju:"Thai",Mu:"Turkish",Nu:"Ukrainian",Ou:"Urdu",Pu:"Uzbek",Qu:"Vietnamese",Ru:"Welsh",$s:"Default"};e().isEnabled=!1;var eq=177*pp,fq=[{na:!1,Pc:1},{na:!0,Pc:2},{na:!0,Pc:1.5},{na:!0,Pc:1},{na:!0,Pc:1},{na:!0,Pc:1},{na:!0,Pc:1.25},{na:!1,Pc:1},{na:!1,Pc:1},{na:!0,Pc:1},{na:!0,Pc:1},{na:!0,Pc:1},{na:!1,Pc:1},{na:!1,Pc:1},{na:!0,Pc:1}],gq=.5*pp;Rc.prototype.Xl=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d];e&&e.left&&e.we.Qa()&&c.push(e)}c.sort(Sc);for(var f=[],d=0;d<c.length;d++){var e=c[d],g=c[d].Vk,h=Bp.sub(e.left,a),i=Bp.sub(e.right,a),h=Math.atan2(h[1],h[0]),i=Math.atan2(i[1],i[0]);0>i&&(i+=op),0>h&&(h+=op);var h=h-i,j=gq,i=i-j,h=h+2*j;h>tp?h=-(up-h):-tp>h&&(h=up+h);for(var h=i+h,j=Bp.normalize(Bp.sub(a,e.left)),k=-Ap.Sl(j[2]),j=Bp.normalize(Bp.sub(a,e.right)),l=-Ap.Sl(j[2]),j=Bp.length(Bp.sub(a,e.Ai)),m=e.height/j,n=Math.min(k,l),k=Math.max(k,l),o=k+m,l=0;l<f.length;l++){var p=f[l];if(p.Vk!==g){var q=i>=p.start&&i<p.end;if(q=(q=q||h>=p.start&&h<p.end)||i<=p.start&&h>=p.end){var q=o>=p.Sn&&o<p.il,r=n<=p.Sn&&o>=p.il;(n>=p.Sn&&n<p.il||q||r)&&(o=p.il,p=j*Math.tan(o-n),e.Xm=!0,e.we.translate([0,0,p]),k+=o-n,n=o,o=k+m)}}}f.push(new Qc(g,e,i,h,n,o)),h>2*kp&&f.push(new Qc(g,e,i-2*kp,h-2*kp,n,o))}},Uc.prototype.ir=function(a){this.p=a.toUpperCase()},Uc.prototype.t=function(){this.v=this.lb=this.Vb=this.mb=null};var hq=e();hq.isEnabled=!1,Uc.prototype.kb=hq;var iq=Cc(14145535),jq=Cc(10526880),kq=1.5,lq=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),mq=new pb({position:new ob(7,3,0),texcoord:new ob(7,3,12),normal:new ob(7,3,20)}),nq=40,oq=nq*nq,pq=35,qq=10,rq=!0;Uc.distanceFactor=.04;var sq="Nokia Pure Text",tq=.55,uq=34,vq=[1,1,1,1],wq=6,xq=[0,0,0,1],yq=[0,0,0,1],zq=30,Aq=120,Bq=0,Cq=2,Dq=[0,0,1],Eq=[0,0,-1],Fq=[0,0,0],Gq=[0,0,0];Uc.prototype.clear=function(){};var Hq={ua:[],Id:[]};Uc.prototype.Ak=function(a,b,c){var d=Bp.L(a,b);return 1e-6>Math.abs(d- -1)?ta(c,180*pp):1e-6>Math.abs(d-1)?oa():(c=Math.acos(d),a=Bp.pa(a,b),a=Bp.normalize(a),ta(a,c))};var Iq={ROUND:0,FLAT:1,TRIANGLE:2},Jq=.25;rd.prototype.b=function(){},rd.prototype.a=function(a,b,c){function d(a,b){var c=Ap.distance(a,b);return 1e-4>c&&(c=1e-4),(b[2]-a[2])/c}function e(a){a=f[a];var b=i.ue(a[0],a[1],8);null==b&&(b=c),a[2]=b}var f=a[b].m;if(a=0,b=!1,2>f.length)return!1;var g,h=f.length;g=1;var i=this.e;e(0);for(var j=f[0][2],k=null;h>g;){e(g),null===k&&(k=d(f[0],f[1]));for(var l=f[g-1],m=f[g],n=Ap.distance(l,m),o=Math.floor(n/this.d+1),n=n/o,p=(m[0]-l[0])/o,q=(m[1]-l[1])/o,r=l[0]+p,l=l[1]+q,s=1;o>s;s++){var t=j+n*k,u=i.ue(r,l,8);null!=u?Math.abs(t-u)>this.c?(j=[r,l,u],k=d(f[g-1],j),f.splice(g,0,j),j=j[2],g++,h++,a++):j=t:b=!0,r+=p,l+=q}o=i.ue(m[0],m[1],8),j=m[2]=o,g++}for(b&&Mc(f),a=0;a<f.length;a++)b=f[a],Jc(b)||(b[2]=c);return F(Kc(f)),!0},sd.prototype.b=function(a,b){for(var c=b||2,d=0;d<a.length;d++){var e=a[d].m,f=c;if(!(2>e.length))for(var g=e.length,h=1;g>h;){var i=e[h-1],j=e[h];ud(this,i);for(var k=Ap.distance(i,j),k=Math.floor(k/f+1),l=(j[0]-i[0])/k,m=(j[1]-i[1])/k,n=i[0]+l,i=i[1]+m,o=1;k>o;o++){var p=[n,i];ud(this,p),e.splice(h,0,p),h++,g++,n+=l,i+=m}ud(this,j),h++}}},sd.prototype.a=function(a,b,c,d){if(c=a[b].m,!(2>c.length)){var e=c.length;d.ju=0;var f=function(a,b,c){var d=a[2],e=b[3];a=Ap.distance(a,b),b=[];for(var f=0;f<e.ua.length;f++){var g=e.ua[f];if(e.dh){var h=g-d;if(h>0&&dt>h)return c.height=g,void(c.Qm=!0)}b.push({Oj:Math.abs(g-d)/a,height:g})}b.sort(function(a,b){return a.Oj-b.Oj}),c.height=b[0].height,c.Qm=!1},g=function(c,d,e,i){var j=-1==e?-1:c.length,k=c[d];d+=e;for(var l={height:void 0,Qm:!1};d!=j;){var m=c[d];m[3]&&(f(k,m,l),m[2]=l.height,l.Qm&&i>0&&(g(c,d,-e,i-1),e>0&&Jc(c[0])?h(a,b,c[0],i):0>e&&Jc(c[c.length-1])&&h(a,b,c[c.length-1],i))),d+=e,k=m}},h=function(a,b,c,d){Jc(c);for(var e=0;e<a.length-1;e++)if(e!=b){var f=a[e].m;Ap.So(c,f[0])?(f[0][2]=c[2],g(f,0,1,d-1)):1<f.length&&Ap.So(c,f[f.length-1])&&(f[f.length-1][2]=c[2],g(f,f.length-1,-1,d-1))}};for(d=1;e>d;){var i=c[d-1],j=c[d];if(i[3]&&i[3].dh||j[3]&&j[3].dh){var k=Ap.ma(i,j,.5),i=[k[0],k[1],X(i[2],j[2],.5)];ud(this,i),c.splice(d,0,i),d++,e++}d++}g(c,0,1,1),F(Kc(c))}},vd.prototype=Object.create(ac.prototype),vd.prototype.kb=Gp;var Kq=20,Lq=35,Mq=40;vd.maxDistance=Lq+Mq;var Nq=5,Oq=50,Pq=150,Qq=!0,Rq=65*pp;Ro=vd.prototype,Ro.t=function(){this.clear()},Ro.clear=function(){this.Md(),this.n=void 0,this.s.clear(),this.b=[],this.c={},this.j=null,this.d=Ba(),this.e=null,this.p=!1,this.g=this.o=null},Ro.ik=function(a){if(!this.Ud(a.Sa)){this.a.set(a.Sa.id,a);var b=a.Me;a:for(var c=0;c<this.b.length&&!(1e-7>Ap.distance(this.b[c].Me,b));c++);b=new vb(b),this.b.push(b),c=new zb(a,b),b.marker=c,this.c[a.Sa.id]=c,c.F(!0)}},Ro.Tj=function(a,b,c){var d=this.Ud(a);d&&(void 0!=b&&(d.index=b),b=!fa(c)&&c,!fa(d.b)&&null!=d.b&&(a=d.g(a),b||a!=d.b))&&((b=this.c[d.Sa.id])&&(Ab(b),xd(this,b)),d.b=a)},Ro.mg=function(a){var b=this.Ud(a);b&&(zd(this,b),ac.prototype.mg.call(this,a)),delete this.c[a.id]},Ro.Md=function(){for(var a=this.b.length-1;a>=0;a--){var b=this.b[a];b.marker&&zd(this,b.marker.Ba)}ac.prototype.Md.call(this),this.c={},this.b=[]},Ro.Gd=function(a){this.oh();for(var b=a.eh,c=[],d=[],e=0,e=0;e<this.b.length;e++){var f=this.b[e];if(b.add(f.zk()),!f.ip)a:{var g=f,f=g.Te,h=null,i=g.zk(),j=g.Me,h=Tg(this.f.k.r)[2]-3,k=g.qb(),h=pi([j[0],j[1],h]);if(3>j.length||!j[3])if(j=lo(this.f,h,!1))h=j,g.ip=!0;else{if(g.Te)break a;var j=ni(h),l=qi(h),m=Bp.pa(j,l);Bp.pa(m,j,l);var n=Ba(),o=oa();Ha(l,m,j,n),wa(n,o),h.splice(3,0,o[0],o[1],o[2],o[3]),h.splice(7,0,j[0],j[1],j[2])}null!=k.Ba.d&&(g.g=k.Ba.d,j=g.g,null!=j&&(j=ta([0,0,1],-j),gb(g.c,j))),null!=k.Ba.c&&(j=ta([1,0,0],(k.Ba.c-90)*pp),gb(g.d,j)),k=k.Ba.j,null==k&&(k=0),Bp.cb(h,Bp.create(h[7],h[8],h[9]),this.f.k.zi+k,h),k=h,g.a=g.Te=k,eb(g.b,k),fb(i,h),null==f||Bp.distance(f,h)}}for(e=0;e<this.b.length;e++)f=this.b[e],this.p||Cd(this,a,f),f&&f.marker&&f.marker.Ba&&null!=f.marker.Ba.jd?d.push(f):c.push(f);Ad(this,c),this.p=!0;for(var p in c)f=c[p],b=f.marker,b.wj||!b.Qa()||b.Q||xd(this,b);yd(this,a,d)},Ro.ah=function(){},Ro.oh=function(){if(this.f.k.r){var a=this.f.k.r.ib();null!=this.o&&Bp.sr(this.o,a)||(this.p=!1,this.o=Bp.A(a)),a=ti(this.f.Ca.S),this.M=pi(a),this.d=si(this.M),this.g=null,(a=this.f.k.Ia)&&(a=a.eb(),this.e=ri(a))}},Ro.uf=function(){var a=this.f.N();this.aa=this.f.Ea.Pb().height,this.v=a.cg()*pp,this.H=2*Math.tan(.5*this.v)/this.aa,Ad(this)},Ro.Ud=function(a){return(a=this.c[a.id])?a.Ba:void 0},Ro.Hn=function(){for(var a=this.b,b=0;b<a.length;b++){var c=a[b];c.marker.Ba.R=c.sj()}},Ro.lh=function(a,b){var c=Hd(this,a);c&&c.open(b)},Ro.li=function(a,b){var c=Hd(this,a);c&&nc(c,b)},Ro.Kh=function(a,b){var c=Hd(this,a);if(c)if(c.Q)So();else{if(fa(b)||b>0){var d=fa(b)?2e3:b,e=c.aj;c.be&&c.be.stop(),c.be=pc(c.f,c,e,1,d),c.be&&c.be.start()}else oc(c,1);c.u()}},Ro.Uh=function(a,b){var c=Hd(this,a);if(c)if(c.Q)So();else{if(fa(b)||b>0){var d=fa(b)?2e3:b,e=c.aj;c.be&&c.be.stop(),c.be=pc(c.f,c,e,0,d),c.be&&c.be.start()}else oc(c,0);c.u()}},Ro.bi=function(a){(a=Hd(this,a))&&a.Ul(128,128)},Ro.Oh=function(a,b){var c=this.Ud(a);if(c){var d=this.c[c.Sa.id];d&&(c=d.Q)&&(d=d.anchor,c.R=fa(b)||b?-1:d.sj())}},c(Jd,Error),Qd.prototype.heading=function(a,b){var c=Wd(a,"heading",b);return Vd(c,b,0,360),c},Qd.prototype.pitch=function(a,b){var c=Wd(a,"pitch",b);return Vd(c,b,-90,90),c},Qd.prototype.distance=function(a,b){var c=Wd(a,"distance",b);return Vd(c,b,0,this.a.maxDistance),c},Qd.x=function(a,b,c){return a=Wd(a,"x",c),Vd(a,c,0,b),a},Qd.y=function(a,b,c){return a=Wd(a,"y",c),Vd(a,c,0,b),a},Qd.w=function(a,b,c){return a=Wd(a,"w",c),Vd(a,c,0,b),a},Qd.h=function(a,b,c){return a=Wd(a,"h",c),Vd(a,c,0,b),a};var Sq=null;ae.prototype.Db=function(){return new this.constructor(this)},ae.prototype.get=function(a){return Ud(a),this.a[a]},ae.prototype.set=function(a,b){Ud(a),Rd(b,2);var c=this.get(a);if(fa(c)&&Ld("property "+a+" is unknown"),Td(b,typeof c,"",2),b!=c){switch(this.a[a]=b,a){case"auth_appId":Jr=b;break;case"auth_appCode":Kr=b;break;case"server_useSSL":Lr=b;break;case"server_requestParam":Mr=b;break;case"skip_distance_field_search":is=!0;break;case"rendering_useSoftware":$t=Zt=b,qs=!b;break;case"server_terrainUrl":it.bn(b);break;case"server_buildingUrl":$s.bn(b);break;case"server_metacellUrl":var d=b;"/"!=d.substr(-1)&&(d+="/"),Nr=d;break;case"server_imgUrl":d=b,"/"!=d.substr(-1)&&(d+="/"),Tr=d;break;case"server_useDomainSharding":Pr=b;break;case"load_terrain":bu=b;break;case"load_buildings":cu=b;break;case"load_roads":du=b;break;case"load_all_metacells":Wr=b;break;case"metacell_cache_size":Vr=b;break;case"metacell_lookup_steps":Zr=b;break;case"metacell_prefetch_radius":Yr=b;break;case"metacell_prefetch_steps":$r=b;break;case"visibility_load_buildings_in_range":nt=b;break;case"visibility_render_buildings_in_range":mt=b;break;case"visibility_range_buildings":pt=b;break;case"visibility_prefetch_range_buildings":qt=b;break;case"compact_out_of_range_buildings":ot=b;break;case"visibility_road_width":kq=b;break;case"visibility_range_roads":pq=b;break;case"visibility_fade_range_roads":qq=b;break;case"visibility_range_road_labels":nq=b;break;case"visibility_range_markers":Lq=b;break;case"visibility_fade_range_markers":Mq=b;break;case"visibility_range_terrain":jt=b;break;case"visibility_range_terrain_multi_level":kt=b;break;case"visibility_prefetch_range_terrain":lt=b;break;case"defer_road_creation":rt=b;break;case"max_distance_markers_to_buildings":kr=b;break;case"road_label_world_size":tq=b;break;case"road_label_font":sq=b;break;case"road_label_font_size":uq=b;break;case"road_label_font_outline_width":wq=b;break;case"road_label_min_pixel_size":zq=b;break;case"road_label_max_pixel_size":Aq=b;break;case"max_image_lod":Zs=ut=b}this.b.call(a,b)}return c},b("H.PanoramaSettings.get",function(a){return be().get(a)}),b("H.PanoramaSettings.set",ce),ee.prototype.Yl=function(a,b){return a>=this.ec&&a<=this.wc&&b>=this.xc&&b<=this.Fc};var Tq=5,Uq=2;te.prototype.create=function(a,b,c,d){return a=fe(a,b,c,d),new ke(a)},te.prototype.Ol=function(a,b,c,d,e){ue(this,a,a.a,a.Vc.ec,a.Vc.xc,a.Vc.wc,a.Vc.Fc,b,c,d,e)},ze.prototype.bj=function(a){this.ha.push(a)};var Vq=170*pp,Wq=Ap.create(),Xq=Ap.create();Ap.create(),De.prototype.Lh=function(a,b,c){a=Fe(this,a,!0),b=Fe(this,b,!0),c=Fe(this,c,!0),(a!=b||a!=c)&&(a==b?Je(this,a,c,!0):a==c||b==c?Je(this,a,b,!0):(Je(this,a,b,!0),Je(this,b,c,!0),Je(this,c,a,!0)))},De.prototype.bj=function(a,b){var c=Fe(this,a,!0),d=Fe(this,b,!0);c!=d&&Je(this,c,d,!0)},De.prototype.compact=function(a){for(var b=this.Cc,c=b.length-1;c>=0;c--){var d=b[c].D;this.min[0]=this.min[0]<d[0]?this.min[0]:d[0],this.min[1]=this.min[1]<d[1]?this.min[1]:d[1],this.max[0]=this.max[0]>d[0]?this.max[0]:d[0],this.max[1]=this.max[1]>d[1]?this.max[1]:d[1]}if(this.Xc=Ap.ma(this.min,this.max,.5),this.zf=Ap.distance(this.Xc,this.max),a){for(a=this.ha,b=a.length-1;b>=0;b--)(c=a[b])&&0>c.uc&&Se(this,c);for(a=this.Cc,c=this.ha,b=a.length-1;b>=0;b--)a[b].uc=-1;for(this.Xc=Ap.ma(this.min,this.max,.5),this.zf=Ap.distance(this.Xc,this.max),b=c.length-1;b>=0;b--)(d=c[b])&&0<=d.uc&&(d.J.uc=d.uc,d.W.uc=d.uc);for(c=[],b=a.length-1;b>=0;b--)d=a[b],0<=d.uc&&0<d.ha.length&&c.push(d);this.Cc=c}this.b=this.d=this.a=this.c=null};var Yq=-1e4;Ve.prototype.nd=function(){},We.prototype.hb=function(){},Ye.prototype.clear=function(){this.Tb=[],this.hp=!1};var Zq=Ap.create(0,0),$q=Ap.create(0,0),_q=null;cf.deleteInstance=function(){_q&&(_q=null)};var ar=null,br=e();br.isEnabled=!1,hf.prototype.kb=br;var cr=Math.cos(6*pp),dr=.5*pp,er=Ap.create(0,0),fr=Bp.create(0,0);Bp.create(0,0),Bp.create(0,0);var gr=Bp.create(),hr=Bp.create(),ir=Bp.create();hf.deleteInstance=function(){ar&&(ar=null)},hf.prototype.clear=function(){this.c={},this.a=null},hf.prototype.fj=function(a){return a.ta&&null!=this.a?0<Ze(this.a,a.buildingId).length:!1},Df.prototype=Object.create(ac.prototype),Ro=Df.prototype,Ro.kb=Gp,Ro.t=function(){this.clear()},Ro.Gd=function(){},Ro.ah=function(){mf(kf())},Ro.clear=function(){this.Md()},Ro.Md=function(){ac.prototype.Md.call(this)},Ro.om=function(){var a=[],b=new pn,c=null;for(c in this.a.a){var d=this.a.get(c);b.get(d.jd.buildingId)||(a.push(d.jd.buildingId),b.set(d.jd.buildingId,d.jd.buildingId))}return a},Ro.nm=function(a){var b=this.f.k;return b?((a=b.Xf.get(a))?(b=kf(),a.ta?null==b.a?a=-1:(a=Ze(b.a,a.buildingId),a=0==a.length?-1:af(a,er)):a=-1):a=-1,a):null},Ro.fj=function(a){var b=this.f.k;return b&&(a=b.Xf.get(a))?kf().fj(a):!1},Ro.jj=function(a,b,c,d,e,f,g,h){var i=this.f.k;return i&&(a=i.Xf.get(a))?((b=qf(kf(),a,b,c,d,e,f,g,h))&&rf(kf(),b,.3,.3),b):null},Ro.Tj=function(a){this.Ud(a)},Ff.prototype=Object.create(ac.prototype);var jr=e();jr.isEnabled=!1,Ff.prototype.kb=jr;var kr=2;Ro=Ff.prototype,Ro.t=function(){this.clear(),this.Wc.t(),this.b.t()},Ro.clear=function(){this.Md()},Ro.Bo=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a=new xb(a,b,c,d,e,f,g,h,i,j,k,l,m,n),this.ik(a)},Ro.Tj=function(a,b,c){var d=If(this,a);d&&d.Tj(a,b,c)},Ro.mg=function(a){var b=If(this,a);b&&b.mg(a),this.a.remove(a.id)},Ro.Md=function(){this.a=new pn,this.Wc.Md(),this.b.Md()},Ro.Gd=function(a){if(!this.f.k.r)return!1;var b=a.Xf;if(this.oh(),0<this.a.size()){lf(kf(),b,a);for(var c in this.a.a){var d=this.a.get(c);if(d&&d instanceof xb){var e=d.jd;if(!d.Nm){d.Nm=!0;var e=d.Me,f=Tg(this.f.k.r)[2];d.Te=pi([e[0],e[1],f]),d.buildingId?(e=b.get(d.buildingId),e=!I(e)&&e instanceof Object?e:null):e=Hf(d.Te,b),d.o&&e&&(d.jd=e)}d.e||null==e?(bc(this.Wc,d),this.b.ik(d)):(bc(this.b,d),this.Wc.ik(d),this.Wc.Ud(d.Sa),d.jd=e)}}this.Wc.Gd(a),this.b.Gd(a),this.c&&this.c(a)}return!0},Ro.ah=function(a){this.Wc.ah(a),this.b.ah(a)},Ro.oh=function(){if(this.f.k.r){var a=ti(this.f.Ca.S);this.e=pi(a),this.d=si(this.e),(a=this.f.k.Ia)&&(a=a.eb(),ri(a))}},Ro.uf=function(){this.f.k.r&&this.b.uf()},Ro.Hn=function(){this.a.forEach(function(a,b){b.Sa.distance=-1}),this.b.Hn()},Ro.om=function(){return this.Wc.om()},Ro.lm=function(){return this.a},Ro.nm=function(a){return this.Wc.nm(a)},Ro.fj=function(a){return this.Wc.fj(a)},Ro.jj=function(a,b,c,d,e,f,g,h){return this.f.k&&this.f.k.r?this.Wc.jj(a,b,c,d,e,f,g,h):null},Ro.lh=function(a,b){var c=If(this,a);c&&c.lh(a,b)},Ro.li=function(a,b){var c=If(this,a);c&&c.li(a,b)},Ro.Kh=function(a,b){var c=If(this,a);c&&c.Kh(a,b)},Ro.Uh=function(a,b){var c=If(this,a);c&&c.Uh(a,b)},Ro.bi=function(a){var b=If(this,a);b&&b.bi(a)},Ro.Oh=function(a,b){var c=If(this,a);c&&c.Oh(a,b)},b("H.PanoramaMarkerManager",Jf);var lr=e();lr.isEnabled=!1,Jf.prototype.kb=lr,Jf.closestPointThresholdSqr=25,Jf.viewDiffThreshold=.1,Jf.maxDisplayScaleChangeThreshold=.95;var mr=1/.95;Jf.AnchorType={vq:-1,Fs:0,Xs:1,ys:2};var nr=1;Jf.prototype.xa=function(a){this.a=a,a=this.a.f.ca,this.uf();var b=this;Gf(a,function(){b.Va()})},Jf.prototype.setCityScene=Jf.prototype.xa,Jf.prototype.clear=function(){this.e=[];for(var a=0;a<this.b.length;a++)this.b[a].clear();this.b=[],this.a&&this.a.f&&(a=this.a.f.ca)&&a.Md(),this.g=null,this.a.f.u()},Jf.prototype.clear=Jf.prototype.clear,Jf.prototype.Ac=function(){this.clear(),this.a=this.c=null},Jf.prototype.shutdown=Jf.prototype.Ac,Jf.prototype.tb=function(){for(var a=0;a<this.b.length;a++)Zf(this.b[a])},Jf.prototype.clearMarkerSurfaceModels=Jf.prototype.tb,Jf.prototype.Qc=function(){return this.c},Jf.prototype.getClientHandler=Jf.prototype.Qc,Jf.prototype.rh=function(a){this.c=a},Jf.prototype.setClientHandler=Jf.prototype.rh,Jf.prototype.uf=function(){if(Kf(this),this.o){for(var a=0;a<this.b.length;a++){var b=this.b[a];if(b.c&&b.c.Qa()){var c=this.a.f.N().K.S,d=Bp.distance(c,b.c.S),e=b.H.Dc[0],d=$f(b,d),f=b;if(f.ab&&f.c){c=Bp.distance(c,f.c.S),f.R=c;for(var g=f.a.dg()-1;g>=0;)f.a.Zg(g).R=c,g--}e=Math.abs(e/d),.95>e||e>mr||(1==b.n?hb(b.H,[-d,1,d]):hb(b.H,[d,1,d]))}}this.a&&this.a.f&&(a=this.a.f.ca)&&a.uf()}},Jf.prototype.ic=function(a,b,c){Sd(a,1),Sd(b,2),c&&Xd(c,"object","settings");var d=Zd(b);return b=$d(b),new Wf(a,d,b,null,c)},Jf.prototype.createMarker=Jf.prototype.ic,Jf.prototype.Zl=function(a,b,c,d,e,f,g,h,i,j){return new Tf(a,b,c,d,e,f,g,h,i,j)},Jf.prototype.createMarkerImage=Jf.prototype.Zl,Jf.prototype.hc=function(a,b,c,d,e,f,g,h,i){return new Tf(a,null,b,c,d,e,f,g,h,i)},Jf.prototype.createHtmlMarkerImage=Jf.prototype.hc,Jf.prototype.wg=function(a){if(Qf(a),this.n(a)||!this.c)return!1;this.e.push(a);var b=this.a.f.ca,c=this,d=a.j(),e=a.c();return null!=e&&(e*=pp),b.Bo([a.latitude,a.longitude,null],d,a,0,"",a.n(),a.o(),a.p(),a.g(),e,a.d(),a.a?a.a.a:null,function(a,b,d,e){return Lf(c,a,b,d,e)},function(){return kg(c.c,a.lf)}),!0},Jf.prototype.registerMarker=Jf.prototype.wg,Jf.prototype.Ph=function(){this.a.f.Gd()},Jf.prototype.updateMarkers=Jf.prototype.Ph,Jf.prototype.n=function(a){return 0<=this.e.indexOf(a)},Jf.prototype.hasMarker=Jf.prototype.n,Jf.prototype.Jh=function(a){var b=null;return Sd(a,1),a instanceof Wf||a instanceof fg||Pd(typeof a,typeof Wf,"",1),b=a instanceof fg?a.qb():a,b&&b instanceof Wf?((a=b.e())&&(b.b(),1>a.b.length&&this.p(a)),a=this.e.indexOf(b),a>=0?(this.e.splice(a,1),this.a.f.ca.mg(b),!0):!1):!1},Jf.prototype.unregisterMarker=Jf.prototype.Jh,Jf.prototype.p=function(a){var b=this.b.indexOf(a);b>=0&&(a.clear(),this.b.splice(b,1))},Jf.prototype.removeMarkerSurface=Jf.prototype.p,Jf.prototype.Sc=function(){return this.e.length},Jf.prototype.getNumMarkers=Jf.prototype.Sc,Jf.prototype.lm=function(){return this.e.slice(0)},Jf.prototype.getAllMarkers=Jf.prototype.lm,Jf.prototype.Rc=function(){return this.b.length},Jf.prototype.getNumMarkerSurfaces=Jf.prototype.Rc,Jf.prototype.H=function(){return this.b.slice(0)},Jf.prototype.getAllMarkerSurfaces=Jf.prototype.H,Jf.prototype.In=function(a){if(a instanceof eg||a instanceof fg){var b=a.a();if(!b||a instanceof fg&&!b.rh(a)||a instanceof eg&&!b.Jh(a))return!1;var c=b.s.c(a);if(!c)return!1;b.sk(),jg(this.c,a,c.w,c.h,function(a,d){var e=b.cc();e&&e.Df(0,d,c.x,c.y)},function(){})}else this.a.f.ca.Tj(a,-1,!0);return!0},Jf.prototype.updateMarkerImage=Jf.prototype.In,Jf.prototype.s=function(){this.a&&this.a.f&&this.a.f.u()},Jf.prototype.requestUpdate=Jf.prototype.s,Jf.prototype.cd=function(a){return this.a.f.ca.nm(a.buildingId)},Jf.prototype.getSurfaceDistance=Jf.prototype.cd,Jf.prototype.Td=function(a){return this.a.f.ca.fj(a.buildingId)},Jf.prototype.isBuildingVisible=Jf.prototype.Td,Jf.prototype.dd=function(a,b,c,d,e,f,g){return(a=this.a.f.ca.jj(a.buildingId,b,a.selectedFace?a.selectedFace.vb:void 0,c,d,e,f,g))?(b=Bp.distance(a.ab,a.zb),c=new bg(a,b,a.distance,a.viewingAngle,c,a.distanceFactor,a.pixelFactor,f,g),c.distanceScale=e,c.distanceFactor=a.distanceFactor,c):null},Jf.prototype.getSurfaceInfo=Jf.prototype.dd,Jf.prototype.cp=function(a,b,c,d,e,f){if(a=this.a.f.ca.jj(a.buildingId,b,a.selectedFace?a.selectedFace.vb:void 0,c,1,d,e,f)){var g=Bp.distance(a.ab,a.zb);return c=new bg(a,g,a.distance,a.viewingAngle,c,a.distanceFactor,a.pixelFactor,e,f),a=1+Math.max(0,d*(c.distance-0)),b=b*a/c.distance/c.pixelFactor,g=1,e>b?g=e/b:b>f&&(g=f/b),c.distanceScale=d,c.distanceFactor=a*g,c}return null},Jf.prototype.getSurfaceInfoForIconStrip=Jf.prototype.cp,Jf.prototype.Bd=function(a,b,c,d,e,f){if(a=this.a.f.ca.jj(a.buildingId,.1,a.selectedFace?a.selectedFace.vb:void 0,c,1,0,0,Number.MAX_VALUE)){var g=Bp.distance(a.ab,a.zb);return c=new bg(a,g,a.distance,a.viewingAngle,c,a.distanceFactor,a.pixelFactor,e,f),a=1+Math.max(0,d*(c.distance-0)),b=b*a/c.distance/c.pixelFactor,g=1,e>b?g=e/b:b>f&&(g=f/b),c.distanceScale=d,c.distanceFactor=a*g,c}return null},Jf.prototype.getSurfaceInfoForBorderIconStrip=Jf.prototype.Bd,Jf.prototype.M=function(a){for(var b=0;b<this.b.length;b++)if(this.b[b].buildingId==a)return this.b[b];return null},Jf.prototype.getMarkerSurfaceForBuilding=Jf.prototype.M,Jf.prototype.Vo=function(a){for(var b=0;b<this.b.length;b++)this.b[b].dd(a)},Jf.prototype.forceOpacityOnAllMarkerSurfaces=Jf.prototype.Vo,Jf.prototype.Va=function(a){var b=this;Kf(this);var c=this.a.f.k.eh,d=this.a.f.ca;d.Hn();for(var e=0;e<this.b.length;e++){var f=this.b[e];f.va=!1}var g=void 0!=a?a:!1;for(a=d.om(),e=0;e<a.length;e++){var h=a[e],i=Ef(d.Wc,h),j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p=!1,q=!1,r=!1,q=0,q=null,f=this.M(h);if(i&&0<i.length){for(q=null,f?q=f.xa():(f=new Xf(this,h),j=!0),h=0;h<i.length;h++){var s=Mf(this,i[h]);s&&!f.Bd(s)&&(l=!0,s=new fg(s),f.Td(s),g=!0)}if(q)for(var t=0;t<q.length;t++){for(var u=q[t],v=!1,h=0;h<i.length;h++)if(s=Mf(this,i[h]),s===u.qb()){v=!0;break}v||(f.yi(u),g=!0)}hg(this.c,f)?(f.selectedFace&&f.ub?(k=f.Qc,m=f.selectedFace.vb!=f.Sc,q=null!=f.Va&&25<Bp.X(f.ub,f.Va),n=2==f.n&&q,f.H&&(q=f.H.Dc[0],i=$f(f,f.selectedFace.distance),q=Math.abs(q/i),r=.95>q||q>mr),o=f.Rc!=f.n,f.tb&&f.Kb&&(p=.1<1-Bp.L(f.Kb,f.tb)),f.va=!0):(f.Sc=null,f.Va=null,f.tb=null,f.nk=-1,f.Rc=-1,f.distance=-1),k||l||m||n||o||r||f.hc&&p?(Zf(f),f.distance=f.selectedFace.distance,ig(this.c,f,function(a,c,d,e){c&&d&&e&&(b.a.f.k&&a&&a.selectedFace&&Of(b,a,a.Xj,c),g=!0)},function(){}),f.Sc=f.selectedFace.vb,f.Rc=f.n,f.nk=f.distance,f.Va=f.ub,f.tb=f.Kb,j&&this.b.push(f)):(f.dd(1),f.c&&c.add(f.c))):f.clear()}else f&&(f.va=!1)}for(c=this.H(),e=0;e<c.length;e++)f=c[e],f.va||(Zf(f),this.p(f),g=!0);return d.lm().forEach(function(a,b){b.Sa.distance=b.Sa.Re?b.Sa.Re.rd?b.Sa.Re.rd.distance:-1:b.R}),g&&this.s(),g},Jf.prototype.updateMarkerView=Jf.prototype.Va,Jf.prototype.Nh=function(a){Kf(this),Zf(a),hg(this.c,a)&&this.va(a)},Jf.prototype.updateMarkerSurface=Jf.prototype.Nh,Jf.prototype.va=function(a,b){var c=this;ig(this.c,a,function(a,d,e,f){d&&e&&f&&(b&&b(a),c.a.f.k&&a&&a.selectedFace&&Of(c,a,a.Xj,d))},function(){}),this.a.f.u()},Jf.prototype.updateMarkerSurfaceContent=Jf.prototype.va,Jf.prototype.lh=function(a,b){if(Pf(this,a)&&this.a&&this.a.f){var c=this.a.f.ca;c&&c.lh(a,b)}},Jf.prototype.showMarker=Jf.prototype.lh,Jf.prototype.li=function(a,b){if(Pf(this,a)&&this.a&&this.a.f){var c=this.a.f.ca;c&&c.li(a,b)}},Jf.prototype.hideMarker=Jf.prototype.li,Jf.prototype.Kh=function(a,b){if(Pf(this,a)&&this.a&&this.a.f){var c=this.a.f.ca;c&&c.Kh(a,b)}},Jf.prototype.activateMarker=Jf.prototype.Kh,Jf.prototype.Uh=function(a,b){if(Pf(this,a)&&this.a&&this.a.f){var c=this.a.f.ca;c&&c.Uh(a,b)}},Jf.prototype.deactivateMarker=Jf.prototype.Uh,Jf.prototype.bi=function(a){if(Pf(this,a)&&this.a&&this.a.f){var b=this.a.f.ca;b&&b.bi(a)}},Jf.prototype.freezeMarker=Jf.prototype.bi,Jf.prototype.Oh=function(a,b){if(Pf(this,a)&&this.a&&this.a.f){var c=this.a.f.ca;c&&c.Oh(a,b)}},Jf.prototype.bringMarkerToFront=Jf.prototype.Oh,Jf.LayoutRect=Rf,Rf.prototype.offset=function(a,b){return new Rf(this.x+a,this.y+b,this.w,this.h)},Rf.prototype.offset=Rf.prototype.offset,Jf.MarkerProperties=Sf;var or=!0;Sf.defaultAllowedInBuilding=or;var pr=!0;Sf.defaultFadingEnabled=pr;var qr=!0;Sf.defaultOcclusionEnabled=qr;var rr=!0;Sf.defaultAllowedToAlignToBuilding=rr;var sr=!1;Sf.defaultPositionIsFixed=sr,Sf.prototype.H=function(a){this.d=a},Sf.prototype.setPositionIsFixed=Sf.prototype.H,Sf.prototype.n=function(a){this.c=a},Sf.prototype.setFixedRotation=Sf.prototype.n,Sf.prototype.j=function(){return this.b},Sf.prototype.getHeightOverGround=Sf.prototype.j,Sf.prototype.o=function(a){this.b=a},Sf.prototype.setHeightOverGround=Sf.prototype.o,Sf.prototype.v=function(a){this.a=a},Sf.prototype.setGroundAngle=Sf.prototype.v,Sf.prototype.g=function(){return this.a},Sf.prototype.getGroundAngle=Sf.prototype.g,Jf.MarkerImage=Tf,Tf.prototype.a=function(){return this.Ec instanceof HTMLElement},Tf.prototype.isHtmlImage=Tf.prototype.a,Jf.MarkerRenderInfo=Uf,Jf.ClientDataHolder=Vf,Vf.prototype.je=function(){},Vf.prototype.getClientObject=Vf.prototype.je,Jf.isClientDataHolder=function(a){return null!=a&&void 0!=a.je},Jf.Marker=Wf,Wf.prototype.b=function(){this.Re&&this.Re.b()},Wf.prototype.detach=Wf.prototype.b,Wf.prototype.s=function(){return this.lf},Wf.prototype.getClientMarker=Wf.prototype.s,Wf.prototype.je=function(){return this.lf},Wf.prototype.getClientObject=Wf.prototype.je,Wf.prototype.v=function(){return this.Re},Wf.prototype.getMarkerSurfaceMarker=Wf.prototype.v,Wf.prototype.e=function(){return this.Re?this.Re.a():null},Wf.prototype.getMarkerSurface=Wf.prototype.e,Wf.prototype.H=function(){return null!=this.Re},Wf.prototype.isSurfaceMarker=Wf.prototype.H,Wf.prototype.j=function(){return this.a?this.a.buildingId:null},Wf.prototype.getBuildingId=Wf.prototype.j,Wf.prototype.n=function(){return this.a?this.a.e:!1},Wf.prototype.isAllowedInBuilding=Wf.prototype.n,Wf.prototype.o=function(){return this.a?this.a.p:!0},Wf.prototype.isAllowedToAlignToBuilding=Wf.prototype.o,Wf.prototype.p=function(){return this.a?this.a.ag:!0},Wf.prototype.isFading=Wf.prototype.p,Wf.prototype.di=function(){return this.a?this.a.s:tr},Wf.prototype.getBubbleType=Wf.prototype.di,Wf.prototype.g=function(){return this.a?this.a.d:sr},Wf.prototype.isPositionFixed=Wf.prototype.g,Wf.prototype.c=function(){return this.a?this.a.c:null},Wf.prototype.getFixedRotation=Wf.prototype.c,Wf.prototype.d=function(){return this.a?this.a.b:null},Wf.prototype.getHeightOverGround=Wf.prototype.d;var tr=-1,ur=0,vr=1;Jf.MarkerBubbleType={vq:tr,NONE:ur,Ns:vr,Is:2};var wr=2;Jf.MarkerBubbleState={hq:1,OPEN:wr,qs:3},Jf.MarkerSurface=Xf,Xf.fadeInDuration=100,Xf.fadeOutDuration=100,Xf.isSurfaceObject=function(a){return a instanceof fg||a instanceof eg},Xf.prototype.clear=function(){this.o&&(this.o.stop(),this.o=null),this.s=this.selectedFace=this.buildingId=null,Yf(this),this.Xj=null,this.za(null),this.v(),this.d&&this.cd(),this.c&&(ab(this.c),this.c=null),this.p&&(ab(this.p),this.p=null)},Xf.prototype.clear=Xf.prototype.clear,Xf.prototype.gn=function(){return this.s},Xf.prototype.getLayoutManager=Xf.prototype.gn,Xf.prototype.Fk=function(a,b,c,d,e){return this.s=new cg(a,b),e?this.Ka=this.ca.a.f.Vb.createTexture(c,d,Os):this.za(null),this.s},Xf.prototype.setupLayoutManager=Xf.prototype.Fk,Xf.prototype.Ym=function(){return this.n},Xf.prototype.getAnchorPosition=Xf.prototype.Ym,Xf.prototype.Bd=function(a){for(var b=this.b,c=this.b.length-1;c>=0;){if(a==b[c].qb())return!0;c--}return!1},Xf.prototype.hasMarker=Xf.prototype.Bd,Xf.prototype.rh=function(a){return 0<=this.b.indexOf(a)},Xf.prototype.hasSurfaceMarker=Xf.prototype.rh,Xf.prototype.Td=function(a){a.a()!=this&&(a.rd&&a.rd.yi(a),this.b.push(a),a.We(this))},Xf.prototype.addSurfaceMarker=Xf.prototype.Td,Xf.prototype.yi=function(a){var b=this.b.indexOf(a);b>=0&&(a.We(null),this.b.splice(b,1),this.Ph())},Xf.prototype.removeSurfaceMarker=Xf.prototype.yi,Xf.prototype.xa=function(){return this.b.slice(0)},Xf.prototype.getSurfaceMarkers=Xf.prototype.xa,Xf.prototype.hn=function(){return this.b.length},Xf.prototype.getNumSurfaceMarkers=Xf.prototype.hn,Xf.prototype.Gn=function(a){for(var b=this.b,c=this.b.length-1;c>=0;){var d=b[c];d.d(!1),c--}for(c=a.length-1;c>=0;)d=a[c],d.d(!0),c--},Xf.prototype.setActiveMarkerSet=Xf.prototype.Gn,Xf.prototype.Wm=function(){for(var a=[],b=this.b,c=this.b.length-1;c>=0;){var d=b[c];d.c&&a.push(d),c--}return a},Xf.prototype.getActiveMarkerSet=Xf.prototype.Wm,Xf.prototype.Un=function(a){for(var b=this.b,c=this.b.length-1,d=void 0;c>=0;){if(d=a(b[c]),void 0!=d)return d;c--}},Xf.prototype.visitSurfaceMarkers=Xf.prototype.Un,Xf.prototype.Jh=function(a){return!!this.g.forEach(function(b,c){return c==a?!0:void 0})},Xf.prototype.hasSurfaceUIObject=Xf.prototype.Jh,Xf.prototype.pn=function(a){return this.g.get(a)},Xf.prototype.getSurfaceUIObject=Xf.prototype.pn,Xf.prototype.zn=function(){var a=[];return this.g.forEach(function(b){a.push(b)}),a},Xf.prototype.getSurfaceUIObjectKeys=Xf.prototype.zn,Xf.prototype.kl=function(a){this.g.forEach(a)},Xf.prototype.visitSurfaceUIObjects=Xf.prototype.kl,Xf.prototype.Ln=function(a,b){b.a()!=this&&(b.a()&&b.a().rk(a),this.g.set(a,b),b.We(this))},Xf.prototype.setSurfaceUIObject=Xf.prototype.Ln,Xf.prototype.rk=function(a){var b=this.g.get(a);b&&(this.g.remove(a),b.We(null))},Xf.prototype.removeSurfaceUIObject=Xf.prototype.rk,Xf.prototype.Rm=function(a){this.height=a},Xf.prototype.setHeight=Xf.prototype.Rm,Xf.prototype.Ek=function(a){this.Xj=a},Xf.prototype.setBgColor=Xf.prototype.Ek,Xf.prototype.uk=function(a,b,c,d,e,f,g,h){var i;if((i=b)&&(i=a))a:{if(a.a.f.k&&b.selectedFace){if(i=b.selectedFace,rf(kf(),i,e,d),null==i.ab||null==i.zb||null==i.j||null==i.qh){i=!1;break a}this.ab=i.ab,this.zb=i.zb,this.j=i.j,this.aa=i.aa,this.Ab=i.qh;var j={},k=a.a.f.Ca.S;if(this.ub=a=Bp.Ta(i.ab,i.zb,k,j)){var l,m,n,o;n=Bp.distance(i.ab,i.zb);var p=Bp.sub(i.j,i.ab),k=Bp.normalize(Bp.sub(k,a));f?(m=Bp.normalize(Bp.pa(k,p)),0>Bp.L(m,i.qh)?(Bp.vp(m,m),j=a,l=Bp.cb(a,m,c),n=j,o=0):(l=a,j=Bp.cb(a,m,c),n=l,o=1)):(o=2,m=Bp.normalize(Bp.sub(i.zb,i.ab)),l=c/n,n=a,0>j.Hb-.5*l?(j=i.ab,l=Bp.cb(j,m,c)):1<j.Hb+.5*l?(l=i.zb,j=Bp.cb(l,m,-c)):(j=Bp.cb(a,m,-.5*c),l=Bp.cb(a,m,.5*c))),this.ab=j,this.zb=l,this.j=Bp.add(j,p),this.aa=Bp.add(l,p),this.Ab=i.qh,this.Kb=k,this.anchor=n,this.n=o,this.hc=f,i=!0;break a}}i=!1}i?(this.height=d,this.Xb=c,this.zd=d,this.M=b.distanceFactor,this.selectedFace=b.selectedFace,this.wg=g,this.ic=e,this.distanceScale=b.distanceScale,this.maxDistance=b.maxDistance,this.minPixelWidth=b.minPixelWidth,this.maxPixelWidth=b.maxPixelWidth,this.Qc=void 0!=h?h:!1):this.selectedFace=null},Xf.prototype.selectSurfaceInfo=Xf.prototype.uk,Xf.prototype.Zm=function(){return this.wg},Xf.prototype.getClientLayout=Xf.prototype.Zm,Xf.prototype.Ph=function(){this.Qc=!0},Xf.prototype.invalidateLayout=Xf.prototype.Ph,Xf.prototype.cc=function(){return this.Ka},Xf.prototype.za=function(a){this.Ka=a},Xf.prototype.eg=function(){return this.Qa},Xf.prototype.getVisibility=Xf.prototype.eg,Xf.prototype.F=function(a){if(a!=this.Qa&&(this.Qa=a,this.a)){this.a.F(this.Qa);var b=this.a.opacity;ga(b)||(b=0),this.o&&this.o.stop();var c=null;(this.o=c=a?_f(this,b,1):_f(this,b,0))&&c.start()}},Xf.prototype.setVisibility=Xf.prototype.F,Xf.prototype.vd=function(a){if(this.opacity=a,this.a){this.a.opacity=a;for(var b=0;b<this.a.ea.length;b++)this.a.ea[b].opacity=a}},Xf.prototype.setOpacity=Xf.prototype.vd,Xf.prototype.dd=function(a){if(this.ie=a,this.a){this.a.ie=a;for(var b=0;b<this.a.ea.length;b++)this.a.ea[b].ie=a}},Xf.prototype.setForcedOpacity=Xf.prototype.dd,Xf.prototype.Sm=function(){if(this.ie=null,this.a){this.a.ie=null;for(var a=0;a<this.a.ea.length;a++)this.a.ea[a].ie=null}},Xf.prototype.clearForcedOpacity=Xf.prototype.Sm,Xf.prototype.sk=function(){this.p&&this.p!==this.c&&ab(this.p),this.p=this.c},Xf.prototype.saveCurrentModel=Xf.prototype.sk,Xf.prototype.On=function(a,b){this.v();var c;if(c=a)a:{c=this.b;for(var d=this.b.length-1;d>=0;){if(a==c[d].qb()){c=c[d];break a}d--}c=null}return c?(this.d&&(this.v(),
this.cd()),this.d=b,!0):!1},Xf.prototype.setVideoMarker=Xf.prototype.On,Xf.prototype.cd=function(){this.d=null,this.v()},Xf.prototype.removeVideo=Xf.prototype.cd,Xf.prototype.Jk=function(){if(this.d&&this.a&&this.Ka){this.Ka.re(0,this.d,{he:!1});var a=this.ca.a.f;if(a)return a.u(),!0}return!1},Xf.prototype.updateVideoFrame=Xf.prototype.Jk,Xf.prototype.Rn=function(){this.d&&(this.e||(this.e=ag(this)),this.e&&!this.e.qa&&(this.e.start(),this.ca.s()))},Xf.prototype.startPlayback=Xf.prototype.Rn,Xf.prototype.v=function(){this.e&&(this.e&&this.e.qa&&this.e.stop(),this.e=null)},Xf.prototype.stopPlayback=Xf.prototype.v,Xf.prototype.cn=function(){return this.d},Xf.prototype.getCurrentVideo=Xf.prototype.cn,Xf.prototype.Nh=function(){return!!this.d},Xf.prototype.hasVideo=Xf.prototype.Nh,Xf.prototype.Tn=function(){var a=null!=this.d.error&&0<this.d.error.code;return this.d&&!this.d.paused&&this.d.currentTime<this.d.duration&&!a},Xf.prototype.videoIsRunning=Xf.prototype.Tn,Xf.SurfaceInfo=bg,Xf.LayoutManager=cg,cg.prototype.Kj=function(a,b){this.width=a,this.height=b,this.markerRenderInfos=[]},cg.prototype.setup=cg.prototype.Kj,cg.prototype.a=function(a,b,c){this.markerRenderInfos.push(new Uf(a,b,c))},cg.prototype.addSurfaceObject=cg.prototype.a,cg.prototype.b=function(){return this.markerRenderInfos},cg.prototype.getMarkerRenderInfos=cg.prototype.b,cg.prototype.c=function(a){for(var b=0;b<this.markerRenderInfos.length;b++){var c=this.markerRenderInfos[b];if(c.a==a)return c.c}return null},cg.prototype.getSrcRect=cg.prototype.c,cg.prototype.d=function(a){for(var b=0;b<this.markerRenderInfos.length;b++){var c=this.markerRenderInfos[b];if(c.a==a)return c.b}return null},cg.prototype.getDestRect=cg.prototype.d,Xf.SurfaceObject=dg,dg.prototype.b=function(){},dg.prototype.detach=dg.prototype.b,dg.prototype.a=function(){},dg.prototype.getMarkerSurface=dg.prototype.a,dg.prototype.We=function(){},dg.prototype.setMarkerSurface=dg.prototype.We,dg.prototype.je=function(){},dg.prototype.getClientObject=dg.prototype.je,Xf.UIObject=eg,eg.prototype.b=function(){this.rd&&this.rd.yi(this)},eg.prototype.detach=eg.prototype.b,eg.prototype.a=function(){return this.rd},eg.prototype.getMarkerSurface=eg.prototype.a,eg.prototype.We=function(a){this.rd=a},eg.prototype.setMarkerSurface=eg.prototype.We,eg.prototype.je=function(){return this.clientObject},eg.prototype.getClientObject=eg.prototype.je,eg.prototype.e=function(){return this.clientObject},eg.prototype.getUIObject=eg.prototype.e,Xf.Marker=fg,fg.prototype.b=function(){this.rd&&this.rd.yi(this)},fg.prototype.detach=fg.prototype.b,fg.prototype.a=function(){return this.rd},fg.prototype.getMarkerSurface=fg.prototype.a,fg.prototype.We=function(a){this.rd=a},fg.prototype.setMarkerSurface=fg.prototype.We,fg.prototype.je=function(){return this.marker?this.marker.lf:null},fg.prototype.getClientObject=fg.prototype.je,fg.prototype.qb=function(){return this.marker},fg.prototype.getMarker=fg.prototype.qb,fg.prototype.e=function(){return this.c},fg.prototype.isOnSurface=fg.prototype.e,fg.prototype.d=function(a){this.c=a},fg.prototype.setIsOnSurface=fg.prototype.d,Jf.ClientHandler=lg,lg.prototype.Ac=function(){},lg.prototype.shutdown=lg.prototype.Ac,lg.prototype.Fp=function(){},lg.prototype.renderMarker=lg.prototype.Fp,lg.prototype.Jp=function(){},lg.prototype.selectMarkerSurface=lg.prototype.Jp,lg.prototype.Xn=function(){},lg.prototype.setupMarkerSurface=lg.prototype.Xn,lg.prototype.Vp=function(){},lg.prototype.updateMarkerInSurface=lg.prototype.Vp,lg.prototype.Ko=function(){},lg.prototype.computeGraphicsHash=lg.prototype.Ko,Jf.SimpleClientHandler=mg,mg.distanceScale=.01,mg.prototype.Ac=function(){this.ca=null},mg.prototype.shutdown=mg.prototype.Ac,Ro=mg.prototype,Ro.vh=function(a,b){var c=document.createElement("canvas"),d=c.getContext("2d");return c.width=a,c.height=b,d.clearRect(0,0,a,b),c.getContext("2d")},Ro.Fp=function(a,b){var c=a.lf,d=this.ca,e=this;if(c.iconImage){var f=og(this,a,c.iconImage,c.hilighted);b(c,f)}else c.iconImageFailure?(f=ng(this,c.hilighted),b(c,f)):c.iconUrl&&(c.iconImageLoading=!0,nh(mh(),c.iconUrl,function(f,g){if(c.iconImageLoading=!1,g.Ub()){c.iconImage=f;var h=og(e,a,c.iconImage,c.hilighted);b(c,h),c.showOnCreate&&d.lh(a,"number"==typeof c.showAnimTime?c.showAnimTime:void 0)}else c.iconImageFailure=!0,h=ng(e,c.hilighted),b(c,h)}))},Ro.Jp=function(a){var b=this.ca,c=b.cp(a,1,150,mg.distanceScale,50,2e3);return c?(a.uk(b,c,1*c.distanceFactor,1*c.distanceFactor,3,!1,{}),!0):!1},Ro.Xn=function(a,b,c){var d=a.xa();if(0!=d.length&&d[0]){var e=this,f=1,g=1,h=c=1,g=f=64,h=c=72;a.Ek([.3,.3,.3,.5]);var i=a.Fk(c,h,f,g,!0),j=document.createElement("canvas");j.width=f,j.height=g,j=j.getContext("2d"),j.clearRect(0,0,f,g);var k=new Rf(0,0,64,64),l=new Rf(4,4,64,64),d=d[0];qg(j,d,k,function(a){e.ca.In(a)},function(a){e.ca.In(a)}),i.a(d,k,l),d=j.getImageData(0,0,f,g),a.F(!0),b(a,d,c,h)}else c(a)},Ro.Vp=function(a,b,c,d,e){e(a)},Ro.Ko=function(a){return a.ID.toString()+a.hilighted.toString()},c(sg,i),sg.prototype.p=function(){},sg.prototype.t=function(){this.e=this.q=null,i.prototype.t.call(this)},c(tg,sg),tg.prototype.Mc=function(a,b){this.g=a||0,this.c=b||this.e.ia(),this.a=this.g-this.c},tg.prototype.p=function(a){this.e.Cb(this.c+a*this.a),this.q.u()},c(ug,sg),ug.prototype.Mc=function(a,b){this.g=a||0,this.c=b||this.e.fa(),this.a=this.g-this.c,180<this.a?this.a=-(360-this.a):-180>this.a&&(this.a=360+this.a)},ug.prototype.p=function(a){this.e.sb(this.c+a*this.a),this.q.u()},c(vg,sg),vg.prototype.Mc=function(a,b){this.g=a||115,this.c=b||this.e.ka(),this.a=this.g-this.c},vg.prototype.p=function(a){this.e.Ja(this.c+a*this.a),this.q.u()},c(wg,sg),wg.prototype.Mc=function(a,b){this.c=b||this.e.Ua().get(),this.g=a,this.a=Bp.sub(this.g,this.c)},wg.prototype.p=function(a){a=Bp.add(this.c,Bp.scale(this.a,a)),Fk(this.e,mi([a[0],a[1],a[2]])),this.q.u()},Ro=xg.prototype,Ro.kd=function(a,b){if(this.b=null,b&&(this.b=b),Zt)(a||0===a)&&this.q.N().sb(a),this.ao();else{this.d.Mc(-90),a||0===a||(a=this.q.N().fa()),this.n.Mc(a),this.c.Mc();var c=Tg(this.q.k.r);this.e.Mc([c[0],c[1],c[2]+52],c),this.j.start()}},Ro.gb=function(a,b){var c=Tg(this.q.k.r);if(!c)return!1;if(this.a=null,b&&(this.a=b),(a||0===a)&&this.q.N().sb(a),Zt)this.$n();else{this.d.Mc(0,-90),this.c.Mc();var d=[c[0],c[1],c[2]+15];this.e.Mc(d,[c[0],c[1],c[2]+52]),this.s.Mc(c,d),this.q.N().Cb(-90),this.g.start()}},Ro.Cq=function(){this.q.k.Lc(!0),this.p()},Ro.ao=function(){this.o(),this.b&&(ma(this.b),this.b=null)},Ro.Bq=function(){this.q.k.Lc(!0),this.p()},Ro.$n=function(){this.q.k.Lc(!1),this.o(),this.a&&(ma(this.a),this.a=null)},Ro.Ac=function(){for(var a in this)this.hasOwnProperty(a)&&(this[a]=null);return!0},Ag.prototype.log=function(a){window.console.log.apply(window.console,a)},Cg.prototype.enable=function(a){this.b=a};var xr=null;Ig.prototype.a=function(a){return String(a)},Mg.prototype=Object.create(Ig.prototype),Mg.prototype.a=function(a){return a},Ng.prototype=Object.create(Ag.prototype),Ng.prototype.log=function(a,b){a[0]=la(new Date-this.c,8)+": "+a[0],fa(b)?this.a.log.apply(this.a,a):0==b?this.d.apply(this.a,a):(this.a.log.apply(this.a,a),this.a.groupEnd())},Object.create(Ag.prototype),Object.create(Ag.prototype),Sg.prototype.ib=function(){return Dj(this.ta)},Sg.prototype.eb=function(){return Dj(this.ta)},Ro=Ug.prototype,Ro.set=function(a,b,c,d,e,f,g,h){this.index[a]=a,this.id[a]=b,this.origin[a]=c,this.Me[a]=d,this.Ve[a]=e,this.a[a]=[d[0]*pp,d[1]*pp,d[2]],this.b[a]=f,this.ve[a]=g,this.jf[a]=h},Ro.yk=function(a){for(var b=0,c=this.id.length,d=-1;c>b;b++)if(this.id[b]==a){d=b;break}return 0>d?null:new Sg(this.Rb,this.index[d],this.id[d],this.origin[d],this.Me[d],0,this.b[d],this.ve[d],this.jf[d])},Ro.ib=function(){return this.Ve},Ro.xk=function(a,b,c){b=b||500,c=c||0,a=[a[0]*pp,a[1]*pp];for(var d=0,e=this.index.length,f=this.a,g=[];e>d;d++){var h=hi(f[d],a);h>=c&&b>=h&&(h=new Sg(this.Rb,this.index[d],this.id[d],this.origin[d],this.Me[d],0,this.b[d],this.ve[d],this.jf[d],h),g.push(h))}return g},Ro.vj=function(a,b){for(var c=[a[0]*pp,a[1]*pp],d=0,e=this.index.length,f=this.a;e>d;d++)if(hi(f[d],c)<=b)return!0;return!1},Ro.pm=function(a,b,c,d){var e=0,f=this.index.length,g=[],h=this.a;for(a=[a[0]*pp,a[1]*pp,a[2]];f>e;e++){var i,j=h[e],k=a;i=d;var l=hi(j,k);2<j.length&&2<k.length&&!fa(j[2])&&!fa(k[2])&&0!=j[2]&&0!=k[2]&&(j=Math.abs(k[2]-j[2]),l=Math.sqrt(l*l+(fa(i)?1:i)*j*j)),i=l,i>=c&&b>=i&&(i=new Sg(this.Rb,this.index[e],this.id[e],this.origin[e],this.Me[e],0,this.b[e],this.ve[e],this.jf[e],i),g.push(i))}return g},b("H.PanoramaUtil.checkCORSTextureSupport",Wg);var yr=void 0;b("H.PanoramaUtil.checkWebGl",Xg),b("H.PanoramaUtil.getLibraryVersion",function(){return"1.0.4.0"}),b("H.PanoramaUtil.getLibraryRevision",function(){return"02e17f97bd822772cfcfa8779cdbb8251ef39843"}),b("H.PanoramaUtil.getLibraryBuildTime",function(){return"2014-07-16_10-48-39"}),b("H.PanoramaUtil.prefetchImages",function(a){Ud(a),Ph(a)}),b("H.PanoramaUtil.prefetchPanorama",function(a){Sd(a,1),a=a.uj,Ud(a),Ph(a)}),b("H.PanoramaUtil.getRequestStatistic",function(){return Er}),Yg.prototype.clear=function(){this.m=[],this.a=[]},Yg.prototype.Ol=function(a,b){this.m.push(a),this.a.push(b)};var zr=e();Zg.prototype.clear=function(){this.Tb=[]},ah.prototype.M=function(a,b,c){if(b){var d=this.tb;if(a=bh(a,c),d[a]){if(0<=d[a].indexOf(b))return}else d[a]=[];d[a].push(b)}},ah.prototype.Rc=function(a,b,c){var d=this.tb;a=bh(a,c),d[a]&&(b=d[a].indexOf(b),0>b||d[a].splice(b,1))},ah.prototype.dispatchEvent=function(a,b){var c=a.type;if(!c)return!1;var d=this.tb,c=bh(c,!1);return d[c]?(a.target=this,d[c].forEach(b||this.cn?function(b){b(a)}:function(b){ma(function(){b(a)})}),!0):!1};var Ar={b:0,d:1,LOADING:3,c:4,ERROR:5,a:6},Br=0;Ro=ch.prototype,Ro.toString=function(){return"DataRequestProxy: id="+this.ga+" status="+this.a},Ro.lj=function(){return this.b},Ro.Om=function(){return!0},Ro.Ne=function(){return this.b.Ne()},Ro.xb=function(){return this.b.xb()},Ro.mj=function(){return this.b.mj()},Ro.Np=function(){},Ro.Da=function(){return this.ga},Ro.ii=function(){return this.a},Ro.cancel=function(){var a=this.lj().ra;void 0===a||1!=this.a&&3!=this.a||(a.kk(this),this.a=6)},Ro.Ub=function(){return 4==this.a},Ro.ad=function(a){this.e=!0,this.lj().ad(a)},Ro.Bj=function(){this.a=1},Ro.Pk=function(){this.a=3},Ro.kg=function(a){this.a=4,this.d(a,this)},Ro.ti=function(a){this.a=Ar.ERROR,this.c=a,this.d(a,this)},Ro=dh.prototype,Ro.Ne=function(){return this.d},Ro.xb=function(){return this.b},Ro.mj=function(){return this.c},Ro.Np=function(a){this.c=a},Ro.Da=function(){return this.ga},Ro.ii=function(){return this.a},Ro.toString=function(){return"DataRequestImpl: id="+this.ga+" status="+this.a+" "+this.b},Ro.Ub=function(){return 4==this.a},Ro.cancel=function(){void 0===this.ra||1!=this.a&&3!=this.a||(this.ra.kk(this),this.a=6)},Ro.Bj=function(){this.a=1;for(var a=0;a<this.$b.length;a++)this.$b[a].Bj()},Ro.Pk=function(){this.a=3;for(var a=0;a<this.$b.length;a++)this.$b[a].Pk()},Ro.kg=function(a){this.a=4;for(var b=0;b<this.$b.length;b++)this.$b[b].kg(a)},Ro.ti=function(a){this.a=Ar.ERROR,this.c=a;for(var b=0;b<this.$b.length;b++)this.$b[b].ti(a)},Ro.lj=function(){return null},Ro.Om=function(){return!1},Ro.ad=function(a){var b=this.ra;if(b){for(var c=!0,d=0;d<this.$b.length;d++)if(!this.$b[d].e){c=!1;break}c&&b.ad(a)}};var Cr=e();Cr.isEnabled=!1;var Dr=[];eh.prototype.kb=Cr;var Er={total:{requests:0,failed:0,canceled:0,succeeded:0,timeOut:0},image:{requests:0,succeeded:0,failed:0,canceled:0,timeOut:0},xmlHttp:{requests:0,succeeded:0,failed:0,canceled:0,timeOut:0}};eh.prototype.U=function(){for(;this.b<this.d;){var a=this.c();if(!a)break;switch(a.Hr=this,a.Ne()){case 2:hh(this,a);break;case 0:case 1:case 4:case 5:ih(this,a)}}},eh.prototype.kk=function(a){if(a.Om()){var b=a.lj();b.$b.splice(b.$b.indexOf(a),1),0==b.$b.length&&(gh(this,b),Er.total.canceled++)}else gh(this,a),Er.total.canceled++},eh.prototype.ad=function(a){a.removeAttribute("src"),Dr.push(a)};var Fr=null,Gr=e();Gr.isEnabled=!1,lh.prototype.kb=Gr,lh.prototype.ad=function(a){this.b.ad(a)},lh.prototype.t=function(){this.clear(),Fr=this.b=this.d=null},lh.deleteInstance=function(){Fr&&(Fr.t(),Fr=null)},lh.prototype.e=function(){return 0<this.a.length?this.a.shift():null},lh.prototype.clear=function(){for(;0<this.a.length;)this.a.pop().cancel()},lh.prototype.kk=function(a){if(1!=a.ii())this.b&&this.b.kk(a);else if(a.Om()){var b=a.lj(),c=this.a.indexOf(b);c>=0&&(b.$b.splice(b.$b.indexOf(a),1),0==b.$b.length&&this.a.splice(c,1))}else c=this.a.indexOf(a),c>=0&&this.a.splice(c,1)},Ro=sh.prototype,Ro.Da=function(){},Ro.Vg=function(){},Ro.Am=function(){},Ro.oj=function(){},Ro.Ck=function(){},Ro.$l=function(){},Ro.Ob=function(){},Ro.Je=function(){},Ro.nf=function(){},Ro.createTexture=function(){},Ro.Yf=function(){},th.prototype=Object.create(nb.prototype),th.prototype.le=function(a){return 0<=Mb(a,this.min,this.max)},th.prototype.nl=function(a){return Mb(a,this.min,this.max)},th.prototype.sc=function(){return this.a||(this.a=new Db(this.min,this.max)),this.a};var Hr=null,Ir=[1,3,0,2,5,4];vh.prototype=Object.create(th.prototype),vh.prototype.od=function(){return this.da},vh.prototype.sg=function(a,b){var c,d=this.b;for(c in d)wh(this,a,d[c].face,0,0,0,b)};var Jr="",Kr="",Lr=!1,Mr={},Nr="http://sli.data.here.com/metacells/",Or="http://1.pano.maps.api.here.com/maptile/2.1/rcdistonlytile/newest/normal.day/",Pr=!0;yh.prototype.xb=function(){switch(this.dataType){case 4:var a="http://1.3dac.maps.data.here.com/data/sl/"+Eh(this.G[0],this.G[1],this.G[2])+"road-geometry-"+this.G[0]+"-"+O(this.G[1],5)+"-"+O(this.G[2],5)+".csgz";return Ch(a,!1);case 0:return"http://maps3d.svc.nokia.com/data4/"+Eh(this.G[0],this.G[2],this.G[1])+"map_"+this.G[0]+"_"+this.G[2]+"_"+this.G[1]+".n3m";case 5:return a=Lh(17,this.a[0],this.a[1]),a=Nr+a.substr(0,2)+"/"+a.substr(2,3)+"/"+a.substr(5,3)+"/"+a+"bin.cstgz",Ch(a,!0);case 8:return a=Dh(this,"http://1.sli.data.here.com/cov-img/"),a=a+Fh(this.G[0],this.G[1],this.G[2])+"cov_z"+this.G[0]+"_c"+this.G[1]+"_r"+this.G[2]+".png",Ch(a,!0);case 9:return a="http://navteq-maps-stg.ovi.com.edgesuite.net/cov-img/"+Fh(this.G[0],this.G[1],this.G[2])+"cov_z"+this.G[0]+"_c"+this.G[1]+"_r"+this.G[2]+".png";case 10:return a="http://navteq-maps-dev.ovi.com.edgesuite.net/cov-img/"+Fh(this.G[0],this.G[1],this.G[2])+"cov_z"+this.G[0]+"_c"+this.G[1]+"_r"+this.G[2]+".png";case 6:return a=Dh(this,Or),a=a+this.G[0]+"/"+this.G[1]+"/"+this.G[2]+"/256/png",Ch(a,!1);default:return null}};var Qr;a(Nh.prototype,ah.prototype),a(Nh.prototype,{d:function(){return this.Ch},e:function(){return this.cf},b:function(){return this.ed},cancel:function(){this.ko.clear(),this.Qi=this.Bl()},c:function(a){this.Ch=a,this.Qi=this.Bl(),this.fk=!0,this.ek=0,this.Ig={};for(var b in this.zg)a=this.zg[b],a.Th.ad(a.Im);this.zg.length=0;var c=this,d=this.cf,e=1<<d;Ir.forEach(function(a){for(var b=0;e>b;++b)for(var f=0;e>f;++f)c.qp(a,d,f,b)})},qp:function(a,b,c,d){var e=this.Ri(a,b,c,d);if(this.Ch&&!this.Rq(e)){var f=this,g=this.Ch,h=this.Qi,i=Oh(g,a,b,c,d);this.Xq(e),this.Sq(i,function(e,i){if(i.Ub()||(e=null),!f.no)if(h!==f.Qi&&i.Ub())i.ad(e);else{var j={type:"TileReady",location:g,rp:h,status:e&&e.width&&e.height?!0:!1,face:a,me:b,x:c,y:d,Im:e,Th:i};f.io&&b==f.cf?f.zg.push(j):(f.yo(a,b,c,d),f.dispatchEvent(j)),f.Oq(j)}})}},ad:function(a){a.Th.ad(a.Im)},g:function(a,b,c,d){return 0<=this.dp(a,b,c,d)},dp:function(a,b,c,d){return a=this.Ri(a,b,c,d),a=this.Ig[a],void 0!==a?a:-(1/0)},Oq:function(a){if(!(a.me>this.cf)){var b=a.rp;if(!(b!==this.Qi||this.no||(this.fk=this.fk&&a.status,this.ek+=1,this.ek<this.ar))){if(this.io){for(var c in this.zg)a=this.zg[c],this.yo(a.face,a.me,a.x,a.y),this.dispatchEvent(a);this.zg.length=0}this.dispatchEvent({type:"LocationReady",location:location,rp:b,status:this.fk})}}},yo:function(a,b,c,d){var e=this.Ri(a,b,c,d);this.Ig[e]=b;for(var f=Array(4);b>this.cf;){var g=b-1;c>>=1,d>>=1;for(var h=c<<1,i=d<<1,j=0;2>j;++j)for(var k=0;2>k;++k)e=this.Ri(a,b,h+k,i+j),f[k+2*j]=this.Ig[e];for(b=f[0],k=1;4>k;++k)if(b!=f[k])return;if(void 0===b)break;e=this.Ri(a,g,c,d),this.Ig[e]=b,b=g}},Rq:function(a){return-1<=this.Ig[a]},Xq:function(a){this.Ig[a]=-1},Sq:function(a,b,c){return nh(this.ko,a,function(a,d){b(a,d,c)})},a:function(a){return 6*(1<<(a<<1))},Ri:function(a,b,c,d){return a=""+a+la(b,2),a+=la(c,2),a+=la(d,2)},Bl:function(){return++Sr}});var Rr,Sr=0,Tr="metacell";Rr=function(a,b,c){this.Wl=new Uint8Array(a,b||0,c||a.byteLength),this.yf=0},Ro=Rr.prototype,Ro.Tr=function(){for(var a=0,b=this.yf+4-1;b>=this.yf;)a<<=8,a|=this.Wl[b],--b;return a},Ro.Sr=function(a){0>=a||"number"!=typeof a||(this.yf+=a)},Ro.Uk=function(a){this.Sr(a)},Ro.Ur=function(a){if(0>=a||"number"!=typeof a)return 0;var b="",c=this.yf;for(a=this.yf+a;a>c;++c)b+=String.fromCharCode(this.Wl[c]);return b},Ro.Zr=function(a){var b=this.Ur(a);return this.yf+=a,b};var Ur;!function(){function a(a){if(this.$a=!1,this.name=b(a,100),b(a,8),b(a,8),b(a,8),this.size=parseInt(b(a,12),8),b(a,12),b(a,8),this.Dn=b(a,1),b(a,100),this.c=b(a,6),"ustar"==this.c){if(b(a,2),b(a,32),b(a,32),b(a,8),b(a,8),this.a=b(a,155),this.a.length&&(this.name=this.a+this.name),a.Uk(12),this.b=this.name,this.Sg=null,0==this.Dn||"x"==this.Dn){this.Sg=new Uint8Array(a.Wl.buffer,a.yf,this.size),0<this.name.length&&0<this.size&&this.Sg&&this.Sg.buffer&&(this.$a=!0),a.Uk(this.size);var c=512-this.size%512;c>0&&512>c&&a.Uk(c)}}else a.Uk(255)}function b(a,b){var c=a.Zr(b),d=c.indexOf(String.fromCharCode(0));return-1!=d?c.substr(0,d):c}Ur=function(b){b=new Rr(b,0,b.byteLength);for(var c=null;0!=b.Tr();){var d=new a(b);if(!d||!d.$a)break;c||(c={}),c[d.b]=d}return c}}(),Wh.prototype.xk=function(a,b,c){return this.Bb.xk(a,b,c)},Wh.prototype.vj=function(a,b){return this.Bb.vj(a,b)},Wh.prototype.yk=function(a){return this.Bb.yk(a)},Wh.prototype.pm=function(a,b,c,d){return this.Bb.pm(a,void 0!=b?b:500,void 0!=c?c:0,d)};var Vr=20,Wr=!0,Xr=25,Yr=200,Zr=1,$r=2,_r=e();_r.isEnabled=!1,Yh.prototype.kb=_r,Yh.prototype.t=function(){this.c.clear(),this.clear(),this.c=this.b=this.a=null},Yh.prototype.clear=function(){this.a.clear(),this.b.clear()},Yh.prototype.vj=function(a,b){var c=!1,d=ki(a);return Ac(this.a,function(e,f){var g=parseInt(f.id,10),h=Math.floor(g/262144)-262144,h=[h,g-262144*(h+262144)],g=Mh(h),h=Mh([h[0]+1,h[1]+1]),h=Bp.ma(g,h,.5),h=ki(h),g=hi(ki(g),h);return hi(d,h)-g>b||!(c=f.vj(a,b))?void 0:!0}),c};var as,bs=.0066943799901413165,cs=13,ds=25,es=cs-2,fs=e();fs.isEnabled=!1,zi.prototype.kb=fs,zi.deleteInstance=function(){as&&(as.clear(),as=null)},zi.prototype.clear=function(){this.j.clear(),this.d.clear()};var gs=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]],hs=e();hs.isEnabled=!1,Oi.prototype.kb=hs;var is=!1;Oi.useCoverageOptimizerResult=!0,b("pano.DistanceFieldLocationManager.useCoverageOptimizerResult",Oi.useCoverageOptimizerResult),Oi.prototype.t=function(){this.clear(),this.a.t(),this.a=null},Oi.prototype.clear=function(){this.a.clear()},Oi.prototype.isUsingPssService=function(){return!1},Ro=Oi.prototype,Ro.dn=function(a){return Zh(this.a,a)},Ro.Zo=function(a,b,c,d,e){d=d||R(0,99),this.Gj(a,function(a){b(fa(a)?void 0:null==a||0==a.length?null:a[0])},1,d,0,!is&&(e||d>100),c),e&&Ei(this.b,a)},Ro.Gj=function(a,b,c,d,e,f,g){var h=c||1,i=e||0,j=this;Rh(this.d,function(a,c){fa(a)?b(void 0):Pi(a,c,function(d){if(!1===d)window.setTimeout(function(){Sh(j.d),b(jp)},0);else{var e=!is&&(f||c>100);j.Bh(a,null,function(c){if(Oi.useCoverageOptimizerResult&&c&&0<c.length){var d=Tg(c[0]);wi(j.c,a[0],a[1],hi(ki(a),ki(d)))}window.setTimeout(function(){Sh(j.d),b(c),e&&Ei(j.b,a)},0)},h,c,i,!e,e,g)}})},[a,d||500])},Ro.Bh=function(a,b,c,d,e,f,g,h,i){function j(){l=!0,Fi(k.b,a,e,function(b){null==b?c(jp):(hi(ki(a),ki(b)),k.Bh(a,b,c,d,e,f,!0,!1,i))})}var k=this,l=!1;g?(null===b&&(b=a),$h(this.a,a,b,function(a){0<a.length?c(a):h&&!l?j():c(jp)},d,e,f,i)):j()},Ro.zp=function(a,b,c,d){return ai(this.a,a,b,c,d)},Ro.en=function(a,b){return bi(this.a,a,b)},Ro.Bp=function(a,b,c){is?c&&"function"==typeof c&&c():Ci(Ai(),a,function(){b&&"function"==typeof b&&b()},function(){c&&"function"==typeof c&&c()})},Ro.Ap=function(a,b,c,d,e){var f=this;e=[a,b,c,e];var g=void 0;return Oi.useCoverageOptimizerResult&&(g=xi(this.c,a,b,c),!0===g||!1===g)?void window.setTimeout(function(){d(!0===g)},0):void(this.a.vj([a,b],c)?window.setTimeout(function(){d(!0)},0):Rh(this.e,function(a,b,c,e){fa(a)?d(void 0):Di(Ai(),a,b,c,function(c,e){!fa(e)&&wi(f.c,a,b,e),window.setTimeout(function(){Sh(f.e),d(c)},0)},e)},e))},Ro.Cp=function(a){a&&gi(this.a,a)};var js=e();js.isEnabled=!1,Qi.prototype.kb=js;var ks=null,ls="http:aivmpss001.dv.ber01.locn.s.nokia.com/1/";b("pano.PssService.getInstance",Ri),Qi.deleteInstance=function(){ks&&(ks.clear(),ks=null)},b("pano.PssService.deleteInstance",Qi.deleteInstance),Qi.prototype.clear=function(){},b("pano.PssService.overwriteBaseUrl",function(a){"/"!=a.substr(-1)&&(a+="/"),ls=a,ks&&ks.clear()});var ms=e();ms.isEnabled=!1,Ti.prototype.kb=ms,Ti.useCoverageOptimizerResult=!0,b("pano.PssLocationManager.useCoverageOptimizerResult",Ti.useCoverageOptimizerResult),Ti.prototype.t=function(){this.clear(),this.a.t(),this.a=null},Ti.prototype.clear=function(){this.a.clear()},Ti.prototype.isUsingPssService=function(){return!0},Ro=Ti.prototype,Ro.dn=function(a){return Zh(this.a,a)},Ro.Zo=function(a,b,c,d,e){d=d||R(0,99),this.Gj(a,function(a){b(fa(a)?void 0:null==a||0==a.length?null:a[0])},15,d,0,e||d>100,c)},Ro.Gj=function(a,b,c,d,e,f,g){var h=c||1;c=d||500;var i=this;Rh(this.c,function(a,c,d,e,f){fa(a)?b(void 0):this.Bh(a,null,function(c){if(Ti.useCoverageOptimizerResult&&c&&0<c.length){var d=Tg(c[0]);wi(i.b,a[0],a[1],hi(ki(a),ki(d)))}window.setTimeout(function(){Sh(i.c),b(c)},0)},h,c,d,e,f)},[a,c,e||0,!f&&100>=c,g])},Ro.Bh=function(a,b,c,d,e,f,g,h){function i(){k=!0,Si(Ri(),a[0],a[1],e,function(b){b&&1<b.length&&!fa(a[2])&&Ui(b,a),b&&0<b.length?(b=b[0].km,null==b?c(jp):(hi(ki(a),ki(b)),j.Bh(a,b,c,d,e,f,!0,h))):c(jp)},function(){c(jp)},d)}var j=this,k=!1;g?(null===b&&(b=a),$h(this.a,a,b,function(a){0<a.length?c(a):(To(),k?c(jp):i())},d,e,f,h)):i()},Ro.zp=function(a,b,c,d){return ai(this.a,a,b,c,d)},Ro.en=function(a,b){return bi(this.a,a,b)},Ro.Bp=function(a,b){b&&"function"==typeof b&&window.setTimeout(function(){b()},0)},Ro.Ap=function(a,b,c,d){var e=void 0;return Ti.useCoverageOptimizerResult&&(e=xi(this.b,a,b,c),!0===e||!1===e)?void window.setTimeout(function(){d(!0===e)},0):void Vi(this,[a,b],c,d)},Ro.Cp=function(a){a&&gi(this.a,a)};var ns;Wi.usePssService=!1,b("pano.LocationManagerFactory.usePssService",Wi.usePssService),Wi.deleteInstance=function(){ns&&(ns.t(),ns=null)},b("pano.LocationManagerFactory.deleteInstance",Wi.deleteInstance),Wi.prototype.isUsingPssService=function(){return Wi.usePssService},b("pano.LocationManagerFactory.prototype.isUsingPssService",Wi.prototype.isUsingPssService),Yi.prototype.Db=function(){return new this.constructor(this)},Yi.prototype.A=function(a){this.xa=a.xa,this.b=a.b,this.a=a.a,this.p=a.p,this.v=a.v,this.n=a.n,this.o=a.o,this.g=a.g,this.d=a.d,this.j=a.j,this.e=a.e,this.H=a.H,this.va=a.va,this.aa=a.aa,this.M=a.M,this.c=N(a.c),this.s=N(a.s)};var os=function(){var a=1;return function(){return a++}}(),ps={BUILDING:0,PLACE:1,TERRAIN:2,PANORAMA:3,ROAD:4,ROUTE:5},qs=!0;pj.prototype.start=function(){if(this.b)return this;var a=this.c;return this.b=!0,this.a.call(window,a),this},pj.prototype.stop=function(){return this.b=!1,this};var rs=window.performance?function(){return window.performance.now()}:function(){return Date.now()};Object.create(nb.prototype),Object.create(nb.prototype),Bp.create(0,0,0);var ss={pr:function(a){a.save(),a.translate(0,0),a.beginPath(),a.moveTo(0,0),a.lineTo(256,0),a.lineTo(256,256),a.lineTo(0,256),a.closePath(),a.clip(),a.translate(0,0),a.translate(0,0),a.scale(1,1),a.translate(0,0),a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,a.save(),a.save(),a.fillStyle="#ffffff",a.globalAlpha=.5,a.beginPath(),a.moveTo(2.5,2.5),a.lineTo(253.5,2.5),a.quadraticCurveTo(253.5,2.5,253.5,2.5),a.lineTo(253.5,253.5),a.quadraticCurveTo(253.5,253.5,253.5,253.5),a.lineTo(2.5,253.5),a.quadraticCurveTo(2.5,253.5,2.5,253.5),a.lineTo(2.5,2.5),a.quadraticCurveTo(2.5,2.5,2.5,2.5),a.closePath(),a.fill(),a.stroke(),a.restore(),a.save(),a.fillStyle="#ffffff",a.beginPath(),a.moveTo(251,5),a.lineTo(251,251),a.lineTo(5,251),a.lineTo(5,5),a.lineTo(251,5),a.moveTo(256,0),a.lineTo(0,0),a.lineTo(0,256),a.lineTo(256,256),a.lineTo(256,0),a.lineTo(256,0),a.closePath(),a.fill(),a.stroke(),a.restore(),a.restore(),a.restore()},or:function(a){a.save(),a.translate(0,0),a.beginPath(),a.moveTo(0,0),a.lineTo(256,0),a.lineTo(256,256),a.lineTo(0,256),a.closePath(),a.clip(),a.translate(0,0),a.translate(0,0),a.scale(1,1),a.translate(0,0),a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,a.save(),a.save(),a.fillStyle="#ffffff",a.globalAlpha=.5,a.beginPath(),a.moveTo(128,253.5),a.bezierCurveTo(58.8,253.5,2.5010000000000048,197.199,2.5010000000000048,127.999),a.bezierCurveTo(2.501,58.798,58.8,2.5,128,2.5),a.bezierCurveTo(197.2,2.5,253.499,58.798,253.499,127.999),a.bezierCurveTo(253.499,197.199,197.2,253.5,128,253.5),a.closePath(),a.fill(),a.stroke(),a.restore(),a.save(),a.fillStyle="#ffffff",a.beginPath(),a.moveTo(128,5),a.bezierCurveTo(160.85399999999998,5,191.74099999999999,17.794,214.973,41.025),a.bezierCurveTo(238.205,64.256,250.99900000000002,95.145,250.99900000000002,127.99799999999999),a.bezierCurveTo(250.99900000000002,160.85299999999998,238.205,191.73999999999998,214.973,214.97199999999998),a.bezierCurveTo(191.741,238.205,160.854,251,128,251),a.bezierCurveTo(95.146,251,64.25800000000001,238.205,41.025999999999996,214.973),a.bezierCurveTo(17.794999999999995,191.74300000000002,5.000999999999998,160.854,5.000999999999998,127.99900000000001),a.bezierCurveTo(5.000999999999998,95.14500000000001,17.794999999999998,64.257,41.025999999999996,41.02600000000001),a.bezierCurveTo(64.25699999999999,17.795000000000016,95.146,5,128,5),a.moveTo(128,0),a.bezierCurveTo(57.308,0,.001,57.307,.001,127.999),a.bezierCurveTo(.001,198.691,57.308,256,128,256),a.bezierCurveTo(198.69,256,255.999,198.691,255.999,127.999),a.bezierCurveTo(255.999,57.307,198.69,0,128,0),a.lineTo(128,0),a.closePath(),a.fill(),a.stroke(),a.restore(),a.restore(),a.restore()},nr:function(a){a.save(),a.beginPath(),a.moveTo(0,0),a.lineTo(256,0),a.lineTo(256,256),a.lineTo(0,256),a.closePath(),a.clip(),a.translate(0,0),a.translate(0,0),a.scale(1,1),a.translate(0,0),a.strokeStyle="rgba(0,0,0,0)",a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,a.save(),a.restore(),a.save(),a.transform(0,1,-1,0,245.993,-10.007),a.save(),a.fillStyle="#ffffff",a.globalAlpha=.5,a.beginPath(),a.moveTo(68.862,204.919),a.lineTo(13.863,204.919),a.lineTo(128,32.863),a.lineTo(251.137,204.919),a.lineTo(187.138,204.919),a.lineTo(128,122.29),a.lineTo(68.862,204.919),a.closePath(),a.fill(),a.stroke(),a.restore(),a.save(),a.fillStyle="#ffffff",a.beginPath(),a.moveTo(128,37.159),a.lineTo(246.273,202.41899999999998),a.lineTo(188.422,202.41899999999998),a.lineTo(132.066,123.67499999999998),a.lineTo(128,117.99399999999999),a.lineTo(123.934,123.67499999999998),a.lineTo(67.577,202.41899999999998),a.lineTo(18.727,202.41899999999998),a.lineTo(128,37.159),a.moveTo(128,28.567),a.lineTo(9,207.419),a.lineTo(70.147,207.419),a.lineTo(128,126.585),a.lineTo(185.853,207.419),a.lineTo(256,207.419),a.lineTo(128,28.567),a.lineTo(128,28.567),a.closePath(),a.fill(),a.stroke(),a.restore(),a.restore(),a.restore()}};sj.prototype.U=function(a){for(var b=Array.prototype.slice.call(arguments),c=b.shift(),d=this.a,e=0,f=d.length;f>e;++e)for(var g=d[e],h=g.yn,i=0,j=h.length;j>i;++i){var k=h[i];c===k.type&&k.Eb.apply(g.$m,b)}},sj.prototype.jh=function(){this.a=[]},wj.prototype.constructor=wj,wj.prototype.Db=function(){return new wj(this.x,this.y,this.z)},wj.prototype.A=function(a){this.x=a.x,this.y=a.y,this.z=a.z},wj.prototype.toString=function(){return window.JSON.stringify(this)},xj.prototype.Db=function(){return new xj(this.x,this.y,this.width,this.height)},xj.prototype.A=function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},xj.prototype.set=function(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0},xj.prototype.toString=function(){return window.JSON.stringify(this)};var ts=0;zj.prototype.Gb=function(a,b){for(var c=0,d=this.a.length;d>c;c++)this.a[c].start(b)},zj.prototype.Ic=function(){for(var a=0,b=this.a.length;b>a;a++)this.a[a].end()},zj.prototype.handleEvent=function(a){for(var b=0,c=this.a.length;c>b;b++)this.a[b].handleEvent.apply(this.a[b],arguments)},Aj.prototype.e=function(a){var b=Array.prototype.slice.call(arguments),c=b.shift();this.c=!0;try{this.a&&this.a.Ic&&"function"==typeof this.a.Ic&&this.a.Ic.apply(this.a,arguments);var d=this.a?this.a.id:void 0;(this.a=this.d[c])&&this.a.Gb&&"function"==typeof this.a.Gb&&this.a.Gb.apply(this.a,[d].concat(b))}catch(e){throw this.c=!1,e}this.c=!1},Aj.prototype.start=function(a){this.a=null,this.e(this.g,a)},Aj.prototype.end=function(){this.e()},Aj.prototype.handleEvent=function(a){var b=Array.prototype.slice.call(arguments);if(this.b||this.c){var c=this;window.setTimeout(function(){c.handleEvent.apply(c,b)},0)}else{this.b=!0;try{var d=b.shift(),e=null;this.a&&(this.a.wb&&d in this.a.wb?e=this.a.wb[d].apply(this.a,b):this.a.handleEvent&&this.a.handleEvent.apply(this.a,arguments)),e&&e in this.d&&this.e.apply(this,[e].concat(b))}catch(f){throw this.b=!1,f}this.b=!1}},Cj.prototype.set=function(a,b){return 1===b?(this.a=ti(a),this.b=7===a.length?a.slice(0,7):pi(this.a)):2===a.length||void 0===a[2]?(this.a=a.slice(0,2),this.b=pi(this.a.concat([0]))):(this.a=a.slice(0,3),this.b=pi(this.a)),this},Cj.prototype.get=function(a){return 1===a?this.b:this.a},Cj.prototype.normalize=function(){var a=li(this.get()||[]);return this.set(a),this},Cj.prototype.$a=function(){return!(isNaN(this.a[0])||isNaN(this.a[1])||2<this.a.length&&isNaN(this.a[2]))};var us={HEADING:"heading",uq:"tilt",eq:"fov"};Ro=Hj.prototype,Ro.set=function(a,b,c,d,e,f){return this.b=this.a=null,this.e=this.d=this.c=0,this.j=Yt,a instanceof Hj?(this.g=ka(a.g),c=b=null,a.Ua()&&a.Ua().get()&&(b=new Cj(a.Ua())),Lj(a)&&Lj(a).get()&&(c=new Cj(Lj(a))),this.set(b,c,a.fa(),a.ia(),Mj(a),a.ka())):(f&&this.Ja(f),a&&a.get()&&this.wd(new Cj(a)),b&&b.get()&&Ij(this,new Cj(b),!0),a&&b?this.e=null:("number"==typeof c&&this.sb(c,!!b),"number"==typeof d&&this.Cb(d,!!b),"number"==typeof e&&Jj(this,e,!!b))),this},Ro.wd=function(a,b){b&&!Gj(a,this.b)?(this.b=Lj(this,!0),this.e=this.d=this.c=null):(this.c=this.fa(!0),this.d=this.ia(!0),this.b=null),this.a=a},Ro.sb=function(a,b){this.b&&this.a&&(this.e=Mj(this,!0)),this.d=this.ia(!0),b?(this.b=Lj(this,!0),this.a=null):(this.a=this.Ua(!0),this.b=null),a=Nj(this,us.HEADING,a),this.c=Pj(a)},Ro.Cb=function(a,b){this.b&&this.a&&(this.e=Mj(this,!0)),this.c=this.fa(!0),b?(this.b=Lj(this,!0),this.a=null):(this.a=this.Ua(!0),this.b=null),a=Nj(this,"tilt",a),this.d=.001*Math.round(a/.001)},Ro.Ja=function(a){this.j=a=Nj(this,"fov",a)},Ro.Ua=function(a){return!this.a&&this.$a()?a&&Dj(this.b)?Oj(this.b.get(1),(this.c||0)-180,-this.d||0,this.e||0):null:this.a},Ro.fa=function(a){if(a&&this.a&&this.b){a=this.a,a=(a.b?qi(a.b):null)||[];var b=Bp.create(0,1,0),c=Ej(this.a)||[],d=Dj(this.b)||[],e=Dj(this.a)||[];return Bp.sub(d,e,b),Bp.normalize(b,b),1e-5>Math.abs(Math.abs(Bp.L(c,b))-1)?0:(a=W(Math.atan2(Bp.L(c,Bp.pa(b,a)),Bp.L(b,a))),a=Pj(a))}return this.c},Ro.ia=function(a){if(a&&this.a&&this.b){a=Ej(this.a)||[];var b=Bp.create(0,1,0),c=Dj(this.b)||[],d=Dj(this.a)||[];return Bp.sub(d,c,b),Bp.normalize(b,b),a=W(Math.acos(S(Bp.L(b,a),-1,1))),a=.001*Math.round((a-90)/.001)}return this.d},Ro.ka=function(){return this.j},Ro.$a=function(){return!!this.a&&!!this.b||(!!this.a||!!this.b)&&"number"==typeof this.c&&"number"==typeof this.d};var vs=-90,ws=90,xs=40,ys=150;Ro=Rj.prototype,Ro.size=function(){return this.a.length},Ro.push=function(a){
var b=this.a;b.push(a),a=this.b;for(var c=b.length-1;c>0;){var d=c-1>>1;if(!a(b[c],b[d]))break;var e=b[d];b[d]=b[c],b[c]=e,c=d}},Ro.top=function(){var a=this.a;if(0===a.length)throw Error("underflow");return a[0]},Ro.pop=function(){var a=this.a;if(0===a.length)throw Error("underflow");var b=a[0],c=a.pop();if(0<a.length){a[0]=c;for(var c=this.b,d=0,e=1<a.length?a.length-2>>1:0;e>=d;){var f=(d<<1)+1,g=(d<<1)+2,h=d;if(f<a.length&&c(a[f],a[d])&&(h=f),g<a.length&&c(a[g],a[h])&&(h=g),h==d)break;f=a[h],a[h]=a[d],a[d]=f,d=h}}return b},Ro.valid=function(){for(var a=this.a,b=this.b,c=1,d=a.length;d>c;++c)if(b(a[c],a[c-1>>1]))return!1;return!0};var zs={};Sj.deleteInstance=function(){As&&(As.pause(!0),As.b=null,As=As.a=null)},Sj.prototype.pause=function(a){a!==this.d&&((this.d=a)?this.c&&(clearTimeout(this.e),this.e=0,this.c=!1):Uj(this))},Sj.prototype.paused=function(){return this.d};var As=null,Bs=null;Xj.prototype=Object.create(nb.prototype),Yj.prototype.t=function(){this.b=this.d=this.n=this.M=this.K=this.j=null},Yj.prototype.N=function(){return this.K},Yj.prototype.update=function(){if(this.o){var a=this.g-this.v,b=this.c-0,c=this.K;c.sb(this.e-this.s),c.Cb(a),c.Ja(b),this.o=!1}},ak.prototype.set=function(a,b,c,d,e){this.Sk=a,this.a=b,this.b=c,this.vg=d,this.ye=e,this.gf=this.ff=0},ck.prototype.set=function(a,b,c,d,e,f,g,h){this.ff=e,this.gf=f,this.a=h},c(dk,i),dk.prototype.t=function(){i.prototype.t.call(this),this.K=this.M=this.va=null},dk.prototype.tb=function(){var a=this.K;this.e=a.fa(),this.g=a.ia(),this.c=a.ka(),this.va(),this.M.u()},dk.prototype.Va=function(a){var b=a*this.duration,c=fk(this.s,this.a,b),d=fk(this.v,this.a,b),b=fk(this.p,this.a,b),d=this.g-d,b=this.c-b,e=this.K;e.sb(this.e-c)||(this.e=e.fa(),this.s=0),e.Cb(d)||(this.g=e.ia(),this.v=0),e.Ja(b)||(this.c=e.ka(),this.p=0),.4<fk(1,this.a,a)&&(this.p=this.v=this.s=0),this.s||this.v||this.p||this.stop(),this.M.u()},gk.prototype=Object.create(i.prototype),gk.prototype.t=function(){i.prototype.t.call(this),this.K=this.v=null},gk.prototype.Va=function(){this.M=Date.now(),this.v.u()},gk.prototype.va=function(){var a=Date.now(),b=a-this.M;this.M=a,a=this.K,this.e=a.fa(),this.g=a.ia(),this.c=a.ka();var c=this.g-this.s*b,d=this.c-this.a*b;a.sb(this.e-this.p*b)||(this.p=0),a.Cb(c)||(this.s=0),a.Ja(d)||(this.a=0),this.p||this.s||this.a||this.stop(),this.v.u()},hk.prototype.t=function(){this.a.N()&&this.a.N().$c&&this.a.N().$c.disconnect(),this.c=this.a=null};var Cs=qs?[ps.PLACE,ps.BUILDING,ps.TERRAIN,ps.ROAD]:[ps.PLACE,ps.BUILDING,ps.TERRAIN];hk.prototype.j=function(){this.d=!0,this.a.u()},hk.prototype.update=function(){if(this.d&&this.c.n&&this.b){var a=jk(this),b=yt,c=this.a.cursor,d=this.a.Ca;if(this.b&&c&&d&&a.object){var e=c.qb(),f=c.Jd,g=a.object,h=a.point,b=a.Ab,i=d.S,j=Bp.distance(i,h),k=1+0*j,j=1+0*j;c.F(this.b),eb(c,h),hb(c.qb(),[k,k,k]),hb(c.Jd,[j,j,j]);var j=St.BUILDING,l=Gt,m=g.sa,k=Ba(),g=oa();j===m||l===m?(h=ni(h),i=Bp.pa(h,b),Bp.pa(b,i,h),Ha(i,h,b,k),wa(k,g),a=ib(d),h=Bp.create(a[8],a[9],a[10]),b=Bp.pa(b,h),b=Bp.L(gc(d),b),b=Math.acos(b),b>-sp&&sp>b?(f.d=3,f.ob(),b=Dt):(f.d=1,f.ob(),b=Ct),f.g=2,f.ob()):!qs||Ht!==m&&It!==m?!qs||Kt!==m&&Lt!==m&&Nt!==m&&Mt!==m?(h=qi(h),i=Bp.pa(b,h),Bp.pa(i,b,h),Ha(h,i,b,k),wa(k,g),f.d=2,f.ob(),f.g=1,f.ob(),b=At):b=zt:a.info&&a.info.Oc&&a.info.Oc.Y?(j=a.info.Oc.Y.start,l=a.info.Oc.Y.end,j&&l?(a=ib(this.a.k.bd),j=Bp.I(a,j),a=Bp.I(a,l),(h=Hc(j,a,i,h))&&(i=Bp.pa(b,h),Bp.pa(i,b,h),Ha(h,i,b,k),wa(k,g)),f.d=2,f.ob(),f.g=1,f.ob(),b=Et.ROAD):b=zt):b=zt,lb(e,g),lb(f,kb(d))}else b=zt;c&&(d=b,d!==c.c&&(c.c=d,c.an.call({target:c,state:d}))),d=this.c,c=this.e,(c=lj(d.b,c[0],c[1],!0,Cs))&&(e=ti(c.point),d.C.U("cursorChanged",e),d.o=e),c?(d=ps.BUILDING,f=e=ti(c.point),b=Xi().zp(f,1,50),e=null,g=Number.MAX_VALUE,b&&0<b.length&&(e=b[0],f=mi(f),g=Bp.distance(f,e.eb())),e={distance:g,r:e},e.r&&(f=!0,(10>e.distance||c.type===d)&&(g=e.r.eb(),e=d=!0,f=this.a.gh,b=this.a.Ca,(g=lo(this.a,g,!0))?(eb(f,g),lb(f.qb(),g.slice(3,7)),k=c.point,i=h=1,c.type!==ps.BUILDING?(c=Bp.distance(k,g),i=h=Math.min(1,(10-c)/10),h*=1+0*c,i*=1+0*c):e=!1,hb(f.qb(),[h,h,h]),hb(f.Jd,[i,i,i]),lb(f.Jd,kb(b))):d=!1,g&&d&&f.F(d),f=!e),f&&kk(this))):kk(this),this.d=!1}},hk.prototype.g=function(a){var b=a.target,c=b.qb(),d=b.Jd,e=this.a.gh,f=e.qb(),e=e.Jd,g=this.c;switch(c.F(!0),d.F(!1),f.F(!1),e.F(!1),a.state){case yt:case zt:b.F(!1),c.F(!1);break;case At:case Bt:b.F(!0),c.za(g.d.cursor_ground);break;case Ct:case Dt:b.F(!0),c.za(g.d.cursor_wall);break;case Et.ROAD:qs&&(b.F(!0),c.za(g.d.cursor_road))}},lk.prototype.t=function(){this.e.aa.disconnect(this.g),this.a.t(),this.d.t(),this.d=this.a=this.e=this.g=null},lk.prototype.update=function(){this.a.update(),this.d.update()},nk.prototype.t=function(){this.c=!0,this.b=this.a=this.f=null},nk.prototype.sb=function(a,b){this.a.handleEvent("HEADING",a,!0,b)},nk.prototype.Cb=function(a){this.a.handleEvent("TILT",a,!0)},rk.prototype.qc=function(a,b){if(a){var c=b||null,d=this.b;this.a.push(a),d.push(c),(d=this.d)&&d(a,c)}},rk.prototype.disconnect=function(a,b){if(a)for(var c=b||null,d=this.a,e=this.b,f=0;f<d.length;)if(d[f]===a&&e[f]===c){d.splice(f,1),e.splice(f,1);var g=this.e;g&&g(a,c)}else++f;else this.a.length=0,this.b.length=0},rk.prototype.call=function(a){var b=this.a.slice(),c=this.b.slice(),d=this.c;if(d){for(var e=[],f=0,g=b.length;g>f;++f)e.push(b[f].apply(c[f],arguments));return 0===e.length?void 0:e.reduce(d)}for(f=0,g=b.length;g>f;++f)e=b[f].apply(c[f],arguments);return e};var Ds=null,Es="undefined",Fs={},Gs={},Hs=[];tk.deleteInstance=function(){Ds&&(Ds=null)},tk.prototype.t=function(){Ck(this),this.c=this.b=null,this.g={},this.j={},this.C.jh(),this.d=this.C=null,Fs={},Gs={},Hs=[],Es=null},tk.prototype.measureText=function(a,b){"loaded"===Es||Uo();var c=0,d=a+b.font+b.size+b.a+b.b;void 0!=this.j[d]?c=this.j[d]:(xk(this),this.c.font=vk(b),c=this.c.measureText(a).width,0===c&&To(),c=c+2*b.outlineWidth+2*b.Ff,this.j[d]=c);var e,d=vk(b);return void 0!=this.g[d]?e=this.g[d]:(e=b.size+2*b.outlineWidth+2*b.Ff,this.g[d]=e),{width:c,height:1.25*e}};var Is={Yn:0,POSITION:1,HEADING:2,uq:4,Ys:8,eq:16,zs:32};Ro=Dk.prototype,Ro.Ua=function(){return new Cj(this.K.S,1)},Ro.fa=function(){return Hk(this,Is.HEADING)},Ro.sb=function(a){return Ik(this,Is.HEADING,a)},Ro.ia=function(){return Hk(this,4)},Ro.Cb=function(a){return Ik(this,4,a)},Ro.ka=function(){return Hk(this,16)},Ro.cg=function(){return Hk(this,32)},Ro.Ja=function(a){return Ik(this,16,a)},Mk.prototype.clear=function(){this.on=[]},Ro=Nk.prototype,Ro.clear=function(){this.b=0},Ro.ue=function(a,b,c,d){return this.b++,d&&(d.Id=[0],d.ua=[this.height],d.minHeight=d.maxHeight=this.height),this.height},Ro.mh=function(a,b,c,d){return this.b++,d.ua=[this.height],d.Id=[0],d.minHeight=this.height,d.maxHeight=this.height},Ro.kf=function(){return!0},Ro.Xk=function(){},Ro.Hj=function(){return this.height},Ro.qi=function(){return 1},Ro.Qb=function(){return!1},Ro=Ok.prototype,Ro.Na=function(){},Ro.Da=function(){},Ro.Fb=function(){},Ro.pl=function(){},Ro.od=function(){},Ro=Pk.prototype,Ro.Na=function(){},Ro.Da=function(){},Ro.Fb=function(){},Ro.Yj=function(){},Ro.od=function(){},Ro.ml=function(){},Ro=Qk.prototype,Ro.Pa=function(){},Ro.Je=function(){},Ro.pk=function(){},Ro.nf=function(){},Ro.dm=function(){};var Js=function(){var a=0;return function(b,c,d){var e=b.Pa().getContext();this.B=e,this.ga=a++,this.ra=b,this.da=c,this.Jg=d,this.Lf=e.createBuffer(),this.nb=!1}}();Js.prototype=Object.create(Ok.prototype),Ro=Js.prototype,Ro.Na=function(){this.ra.pk(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){return this.da},Ro.pl=function(a){var b=J(b,0),c=a.byteLength;b+c>this.da&&H("buffer overflow");var d=this.B;this.ra.Pa().Lg(this),this.nb?d.bufferSubData(d.ARRAY_BUFFER,b,a):(0===b&&c===this.da?d.bufferData(d.ARRAY_BUFFER,a,this.Jg):(d.bufferData(d.ARRAY_BUFFER,this.da,this.Jg),d.bufferSubData(d.ARRAY_BUFFER,b,a)),this.nb=!0)},Ro.od=function(){return this.da};var Ks=function(){var a=0;return function(b,c,d){var e=b.Pa().getContext();this.B=e,this.ga=a++,this.ra=b,this.da=c,this.Jg=d,this.Lf=e.createBuffer(),this.nb=!1}}();Ks.prototype=Object.create(Pk.prototype),Ro=Ks.prototype,Ro.Na=function(){this.ra.dm(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){return this.da},Ro.Yj=function(a,b){var c=J(b,0),d=a.byteLength;c+d>this.da&&H("buffer overflow");var e=this.B;this.ra.Pa().Kg(this),this.nb?e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,c,a):(0===c&&d===this.da?e.bufferData(e.ELEMENT_ARRAY_BUFFER,a,this.Jg):(e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.da,this.Jg),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,c,a)),this.nb=!0)},Ro.od=function(){return this.da},Ro.ml=function(){return this.Jg},Rk.prototype=Object.create(Qk.prototype),Ro=Rk.prototype,Ro.Pa=function(){return this.ba},Ro.Je=function(a,b){var c=Sk(this.B,J(b,Fp)),d=0,e=null;return"number"==typeof a?d=a:0<=a.byteLength&&(d=a.byteLength,e=a),c=new Js(this,d,c),e&&c.pl(e),e=this.a,e.hl+=1,e.jg+=c.Fb(),c},Ro.nf=function(a,b){var c=Sk(this.B,J(b,Fp)),d=0,e=null;return"number"==typeof a?d=a:0<=a.byteLength&&(d=a.byteLength,e=a),c=new Ks(this,d,c),e&&c.Yj(e),e=this.a,e.Gk+=1,e.jg+=c.Fb(),c},Ro.pk=function(a){this.B.deleteBuffer(a.Lf),a.Lf=null;var b=this.a;b.hl-=1,b.jg-=a.Fb()},Ro.dm=function(a){this.B.deleteBuffer(a.Lf),a.Lf=null;var b=this.a;b.Gk-=1,b.jg-=a.Fb()},Ro.Lg=function(a){this.ba.Lg(a)},Ro.Kg=function(a){this.ba.Kg(a)},Ro=Tk.prototype,Ro.sm=function(){},Ro.zm=function(){},Ro.qm=function(){},Ro.mm=function(){},Ro.rm=function(){},Ro.Bk=function(){},Ro.wm=function(){},Ro.xm=function(){},Ro.um=function(){},Ro.ym=function(){},Ro.vm=function(){},Ro.gi=function(){},Ro.nj=function(){},Ro.fi=function(){},Ro.Fm=function(){},Ro.Em=function(){},Ro.Cm=function(){},Ro.ei=function(){},Ro.toString=function(){},Uk.prototype=Object.create(Tk.prototype),Ro=Uk.prototype,Ro.sm=function(){return this.jo},Ro.zm=function(){return this.uo},Ro.qm=function(){return this.co},Ro.mm=function(){return this.bo},Ro.rm=function(){return this.eo},Ro.Bk=function(){return this.fo},Ro.wm=function(){return this.so},Ro.xm=function(){return this.to},Ro.um=function(){return this.po},Ro.ym=function(){return this.El},Ro.vm=function(){return this.qo},Ro.gi=function(){return this.ro},Ro.nj=function(){return this.Dd},Ro.fi=function(){return this.Fh},Ro.Fm=function(){return this.mo},Ro.Em=function(){return this.lo},Ro.Cm=function(){return this.yl},Ro.ei=function(){return this.Ui},Ro.toString=function(){return this.zo},Ro.xl=function(a){for(var b=this.dk(),c=0,d=b.length;d>c;++c){var e=b[c];if(0<e.indexOf(a))return e}return null},Ro.dk=function(){var a=this.B;return this.zh||(this.zh=a.getSupportedExtensions()),this.zh},Ro=Vk.prototype,Ro.Na=function(){},Ro.Da=function(){},Ro.Fb=function(){},Ro.pd=function(){},Ro.md=function(){},Ro.Cf=function(){},Ro.re=function(){},Ro.Df=function(){},Ro.ci=function(){},Ro.sn=function(){};var Ls=function(){var a=0;return function(b,c,d,e,f){e=J(e,Os);var g=b.Pa().getContext();this.B=g,this.ga=a++,this.ra=b,this.Ge=c,this.Vd=d,this.ck=c,this.bk=d,this.Of=e,this.gd=f?f.gd:new _k,this.Xa=f?f.Xa:g.createTexture(),this.nb=f?f.nb:[0],this.Rf=f?!1:!0,this.ed=0|ca(R(this.ck,this.bk)),this.Ag=!1,this.Cf(this.gd),_t&&(this.La=document.createElement("canvas"),this.lc=this.La.getContext("2d"),this.La.width=c,this.La.height=d)}}();Ls.prototype=Object.create(Vk.prototype),Ro=Ls.prototype,Ro.Na=function(){this.ra.ok(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){var a=0;return this.Rf&&(a=Xk(this.Of),a*=this.Ge*this.Vd,this.Ag&&(a+=a/3)),a},Ro.pd=function(){return this.Ge},Ro.md=function(){return this.Vd},Ro.Cf=function(a){this.gd.A(a);var b=this.B;this.Kf(),el(b,b.TEXTURE_2D,a)},Ro.sn=function(a){if(this.gd.Mh=a,a=this.B,this.gd.Mh&&this.ra&&this.ra.th){var b=this.gd;0<b.Mh&&a.texParameterf(a.TEXTURE_2D,this.ra.th.TEXTURE_MAX_ANISOTROPY_EXT,b.Mh)}},Ro.re=function(a,b,c){this.Df(a,b,0,0,c)},Ro.Df=function(a,b,c,d,e){this.Xi(a,b,c,d,Zk(b),$k(b),Yk(b),e)},Ro.ci=function(){var a=this.B;this.Kf(),a.generateMipmap(a.TEXTURE_2D),this.Ag=!0},Ro.Xi=function(a,b,c,d,e,f,g,h){b&&e&&f&&"undefined"!=typeof g||H("invalid args");var i=this.B,j=this.Ge>>a|0,k=this.Vd>>a|0;(0>c||0>d||c+e>j||d+f>k)&&H("invalid args"),_t&&(b instanceof ImageData?this.lc.putImageData(b,c,d):this.lc.drawImage(b,c,d,e,f),j=this.La,this.La=document.createElement("canvas"),this.La.width=j.width,this.La.height=j.height,this.lc=this.La.getContext("2d"),this.lc.save(),this.lc.scale(1,-1),this.lc.drawImage(j,0,-j.height),this.lc.restore()),j=i.TEXTURE_2D,g=hl(i,g),g=k=il(i,this.Of);var l=0!==(this.nb[0]&1<<a),m=null;this.Kf(),dl(i,h),l||(h=this.ck>>a|0,l=this.bk>>a|0,0==c&&0==d&&h===e&&l===f&&(m=b),fl(i,j,a,m,h,l,g,k),this.nb[0]|=1<<a),m||gl(i,j,a,c,d,b,e,f,g)},Ro.Kf=function(){this.ra.Pa().bindTexture(0,this)};var Ms={Us:1,Ks:2,Vs:3,Ls:4,Ws:5,Ms:6};Ro=Wk.prototype,Ro.Na=function(){},Ro.Da=function(){},Ro.Fb=function(){},Ro.od=function(){},Ro.Cf=function(){},Ro.re=function(){},Ro.Df=function(){},Ro.ci=function(){},Ro.clear=function(){};var Ns=function(){var a=0;return function(b,c,d){d=J(d,Os);var e=b.Pa().getContext();this.B=e,this.ga=a++,this.ra=b,this.da=c,this.Of=d,this.gd=new _k,this.Xa=e.createTexture(),this.nb=Array(6),this.Rf=!0,this.ed=0|ca(c),this.Ag=!1,this.Cf(this.gd)}}();Ns.prototype=Object.create(Wk.prototype),Ro=Ns.prototype,Ro.Na=function(){this.ra.cm(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){var a=Xk(this.Of),a=6*this.da*this.da*a;return this.Ag&&(a+=a/3),a},Ro.od=function(){return this.da},Ro.Cf=function(a){this.gd.A(a);var b=this.B;this.Kf(),el(b,b.TEXTURE_CUBE_MAP,a)},Ro.re=function(a,b,c,d){this.Df(a,b,c,0,0,d)},Ro.Df=function(a,b,c,d,e,f){this.Xi(a,b,c,d,e,Zk(c),$k(c),Yk(c),f)},Ro.clear=function(){this.Kf();var a,b=il(this.B,this.Of),c=this.da;for(a in Ms){var d=Ns.a(this.B,Ms[a]);fl(this.B,d,0,null,c,c,b,b),this.nb[Ns.b(Ms[a])]|=1}},Ro.ci=function(){var a=this.B;this.Kf(),a.generateMipmap(a.TEXTURE_CUBE_MAP),this.Ag=!0},Ro.Xi=function(a,b,c,d,e,f,g,h,i){c&&f&&g&&!I(h)||H("invalid args");var j=this.B,k=this.da,l=k>>b|0;(0>d||0>e||d+f>l||e+g>l)&&H("invalid args"),l=Ns.a(j,a),a=Ns.b(a),h=hl(j,h);var m=il(j,this.Of);h=m;var n=0!==(this.nb[a]&1<<b),o=null;this.Kf(),dl(j,i),n||(0==d&&0==e&&f===k&&g===k&&(o=c),fl(j,l,b,o,k,k,h,m),this.nb[a]|=1<<b),o||gl(j,l,b,d,e,c,f,g,h)},Ns.a=function(a,b){switch(b){case 1:return a.TEXTURE_CUBE_MAP_POSITIVE_X;case 2:return a.TEXTURE_CUBE_MAP_NEGATIVE_X;case 3:return a.TEXTURE_CUBE_MAP_POSITIVE_Y;case 4:return a.TEXTURE_CUBE_MAP_NEGATIVE_Y;case 5:return a.TEXTURE_CUBE_MAP_POSITIVE_Z;case 6:return a.TEXTURE_CUBE_MAP_NEGATIVE_Z;default:return 0}},Ns.b=function(a){return a-1},Ns.prototype.Kf=function(){this.ra.Pa().bindTexture(0,this)};var Os=5,Ps=2;_k.prototype.Db=function(){return new this.constructor(this)},_k.prototype.A=function(a){this.b=a.b,this.a=a.a,this.c=a.c,this.d=a.d,this.Mh=a.Mh},Ro=al.prototype,Ro.Pa=function(){},Ro.createTexture=function(){},Ro.ok=function(){},Ro.Yf=function(){},Ro.cm=function(){},bl.prototype=Object.create(al.prototype),Ro=bl.prototype,Ro.Pa=function(){return this.ba},Ro.createTexture=function(a,b,c){return(a>this.Dd||b>this.Dd)&&H("invalid args"),a=new Ls(this,a,b,c),this.a.yd+=1,a},Ro.Oo=function(a,b,c,d){return(a>this.Dd||b>this.Dd)&&H("invalid args"),a=new Ls(this,a,b,c,d),this.a.yd+=1,a},Ro.ok=function(a){var b=this.B;a.Rf&&(b.deleteTexture(a.Xa),a.Xa=null,this.a.yd-=1)},Ro.Yf=function(a,b){a>this.Fh&&H("invalid args");var c=new Ns(this,a,b);return this.a.of+=1,c},Ro.cm=function(a){var b=this.B;a.Rf&&(b.deleteTexture(a.Xa),a.Xa=null,this.a.of-=1)};var Qs=function(){function a(){this.a=[]}return a.prototype.kr=function(a){var b=this.a[a.Ne()];return b||H("Unknown render device type"),new b(a)},a.prototype.Ep=function(a,b){this.a[a]=b},new a}();ll.prototype.Pa=function(){},ll.prototype.Ob=function(){},ll.prototype.em=function(){},Ro=ol.prototype,Ro.Na=function(){},Ro.Da=function(){},Ro.Fb=function(){},Ro.Xo=function(){},Ro.bp=function(){},Ro.Lp=function(){},Ro.Mp=function(){},Ro.Yo=function(){},Ro.ap=function(){};var Rs=function(){var a=0;return function(b,c,d,e){var f=b.Pa().getContext();for(this.B=f,this.ga=a++,this.ra=b,this.Il={},this.$j={},this.er=c,this.Wq=d,this.$i=f.createShader(f.VERTEX_SHADER),pl(this,this.$i,this.er),this.Wi=f.createShader(f.FRAGMENT_SHADER),pl(this,this.Wi,this.Wq),this.fd=f.createProgram(),f.attachShader(this.fd,this.$i),f.attachShader(this.fd,this.Wi),b=this.fd,c=this.B,c.linkProgram(b),c.getProgramParameter(b,c.LINK_STATUS)||H("Program Linking Error\n"+c.getProgramInfoLog(b)),b=this.B,c=b.getProgramParameter(this.fd,b.ACTIVE_ATTRIBUTES),d={},f=0;c>f;++f){var g=b.getActiveAttrib(this.fd,f),h=g.name,i=Rs.a(b,g.type),g=new nl(h,i,g.size);g.ga=b.getAttribLocation(this.fd,h),d[h]=g}for(this.Jl=d,b=this.B,c=b.getProgramParameter(this.fd,b.ACTIVE_UNIFORMS),d={},f=0;c>f;++f)g=b.getActiveUniform(this.fd,f),h=g.name,i=Rs.b(b,g.type),g=new ml(h,i,g.size),g.ga=b.getUniformLocation(this.fd,h),d[h]=g;this.Gg=d;for(var j in this.Jl)this.$j[j]={};e&&this.Mp(e)}}();Rs.prototype=Object.create(ol.prototype),Ro=Rs.prototype,Ro.Na=function(){this.ra.em(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){return 0},Ro.Xo=function(a){return this.Il[a]},Ro.bp=function(a){return this.$j[a]},Ro.Lp=function(a,b){var c=this.Jl[b];if(c){var d=this.Il[a];d!==c&&(d&&(d=this.$j[d.name],d[a]&&delete d[a]),this.Il[a]=c,d=this.$j[b],d[a]=!0)}},Ro.Mp=function(a){for(var b in a)this.Lp(b,a[b])},Ro.Yo=function(){return this.Jl},Ro.ap=function(){return this.Gg},Rs.a=function(a,b){switch(b){case a.FLOAT:return 9;case a.FLOAT_VEC2:return 10;case a.FLOAT_VEC3:return 11;case a.FLOAT_VEC4:return 12;default:return 0}},Rs.b=function(a,b){switch(b){case a.BOOL:return 1;case a.BOOL_VEC2:return 2;case a.BOOL_VEC3:return 3;case a.BOOL_VEC4:return 4;case a.INT:return 5;case a.INT_VEC2:return 6;case a.INT_VEC3:return 7;case a.INT_VEC4:return 8;case a.FLOAT:return 9;case a.FLOAT_VEC2:return 10;case a.FLOAT_VEC3:return 11;case a.FLOAT_VEC4:return 12;case a.FLOAT_MAT2:return 13;case a.FLOAT_MAT3:return 14;case a.FLOAT_MAT4:return 15;case a.SAMPLER_2D:return 16;case a.SAMPLER_CUBE:return 17;default:return 0}},ql.prototype=Object.create(ll.prototype),ql.prototype.Pa=function(){return this.ba},ql.prototype.Ob=function(a,b,c){return a=new Rs(this,a,b,c),this.a.Ef+=1,a},ql.prototype.em=function(a){var b=this.B;b.deleteProgram(a.fd),b.deleteShader(a.$i),b.deleteShader(a.Wi),a.fd=null,a.$i=null,a.Wi=null,this.a.Ef-=1};var Ss=function(){var a=0;return function(b){this.B=this.vh(b.kj()),this.ga=a++,this.uh={},this.Ki=new Uk(this),this.ef=this.wl(),this.Kl=new ql(this),this.Dg=new Rk(this),this.Hg=new bl(this),b=this.Ki.gi(),this.sl=this.vl=this.Ji=null,this.ul=Array(b),this.tl=null}}();Ss.prototype=Object.create(sh.prototype),Ro=Ss.prototype,Ro.Da=function(){return this.ga},Ro.Vg=function(){return this.Ki},Ro.Am=function(){return this.uh},Ro.oj=function(){return this.Dg},Ro.Ck=function(){return this.Hg},Ro.$l=function(){return new rl(this)},Ro.Ob=function(a,b,c){return this.Kl.Ob(a,b,c)},Ro.Je=function(a,b){return this.Dg.Je(a,b)},Ro.nf=function(a,b){return this.Dg.nf(a,b)},Ro.createTexture=function(a,b,c){return this.Hg.createTexture(a,b,c)},Ro.Yf=function(a,b){return this.Hg.Yf(a,b)},Ro.getContext=function(){return this.B},Ro.Lg=function(a){if(a!==this.vl){var b=this.B;b.bindBuffer(b.ARRAY_BUFFER,a.Lf),this.vl=a}},Ro.Kg=function(a){if(a!==this.sl){var b=this.B;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.Lf),this.sl=a}},Ro.bindTexture=function(a,b){var c=this.B;(b!==this.ul[a]||b!==this.tl)&&(this.tl=this.ul[a]=b,c.activeTexture(c.TEXTURE0+a),b instanceof Ls?c.bindTexture(c.TEXTURE_2D,b.Xa):b instanceof Ns?c.bindTexture(c.TEXTURE_CUBE_MAP,b.Xa):null===b&&(c.bindTexture(c.TEXTURE_2D,null),c.bindTexture(c.TEXTURE_CUBE_MAP,null)))},Ro.vh=function(a){for(var b=null,c=["webgl","experimental-webgl","moz-webgl","webkit-3d"],d=0,e=c.length;e>d;++d){var f=c[d];try{if(b=a.getContext(f,{stencil:!0}))break}catch(g){}}if(b||H("unable to create WebGL context"),"WebGLDebugUtils"in window)var h=window.WebGLDebugUtils.glEnumToString,b=window.WebGLDebugUtils.makeDebugContext(b,function(a,b){window.console.warn(h(a)+" in "+b)});return b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.enable(b.CULL_FACE),b.cullFace(b.BACK),b},Ro.wl=function(){var a=new Yi;Zi(a,!0),$i(a),ej(a,!0),a.a=Q(a.a,9,2,0),gj(a),a.a=Q(a.a,7,1,0),gj(a),a.a=Q(a.a,6,1,1),gj(a),_i(a,!1),aj(a,7,0,65535),bj(a,1),cj(a,!1),dj(a,1,0);var b=J(void 0,0);return a.a=Q(a.a,14,2,0),a.a=Q(a.a,12,2,b),gj(a),fj(a,0,0),a.H=1,gj(a),b=J(0,0),a.M=0,a.aa=b,gj(a),a.p=15,gj(a),a.v=!0,gj(a),b=J(void 0,65535),a.n=65535,gj(a),a.o=b,gj(a),a},Qs.Ep("webgl",Ss),rl.prototype=Object.create(xa.prototype),Ro=rl.prototype,Ro.Pa=function(){return this.ba},Ro.tc=function(){return this.ba.ef},Ro.pg=function(a){var b=this.B,c=this.tc();if(c.xa!==a.xa){if((4026531840&c.b)!==(4026531840&a.b)){var d=0!==P(a.b,31,1);0!==P(c.b,31,1)!==d&&(d?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)),d=P(a.b,30,3),P(c.b,30,3)!==d&&b.depthFunc(tl(b,d))}if(this.e.Bk()&&((33554431&c.b)!==(33554431&a.b)||c.n!==a.n||c.o!==a.o||c.g!==a.g||c.d!==a.d||c.j!==a.j||c.e!==a.e)){var e,f,d=0!==P(a.b,24,1);0!==P(c.b,24,1)!==d&&(d?b.enable(b.STENCIL_TEST):b.disable(b.STENCIL_TEST)),d=P(a.b,23,3),e=a.g,f=a.d,P(c.b,23,3)===d&&c.g===e&&c.d===f||b.stencilFuncSeparate(b.BACK,wl(b,d),e,f),d=P(a.b,11,3),e=a.j,f=a.e,P(c.b,11,3)===d&&c.j===e&&c.e===f||b.stencilFuncSeparate(b.FRONT,wl(b,d),e,f),(2093056&c.b)!==(2093056&a.b)&&(d=P(a.b,20,3),e=P(a.b,17,3),f=P(a.b,14,3),b.stencilOpSeparate(b.BACK,xl(b,d),xl(b,e),xl(b,f))),(511&c.b)!==(511&a.b)&&(d=P(a.b,8,3),e=P(a.b,5,3),f=P(a.b,2,3),b.stencilOpSeparate(b.FRONT,xl(b,d),xl(b,e),xl(b,f)))}if((4294965248&c.a)!==(4294965248&a.a)||c.c[0]!==a.c[0]||c.c[1]!==a.c[1]||c.c[2]!==a.c[2]||c.c[3]!==a.c[3]){d=0!==P(a.a,31,1),0!==P(c.a,31,1)!==d&&(d?b.enable(b.BLEND):b.disable(b.BLEND)),d=P(a.a,30,4),e=P(a.a,26,4),f=P(a.a,22,4);var g=P(a.a,18,4);P(c.a,30,4)===d&&P(c.a,26,4)===e&&P(c.a,22,4)===f&&P(c.a,18,4)===g||b.blendFuncSeparate(ul(b,d),ul(b,e),ul(b,f),ul(b,g)),d=P(a.a,14,2),e=P(a.a,12,2),P(c.a,14,2)===d&&P(c.a,12,2)===e||b.blendEquationSeparate(vl(b,d),vl(b,e)),d=a.c,U(d,c.c)||ju||b.blendColor(d[0],d[1],d[2],d[3])}d=0!==P(a.a,10,1),0!==P(c.a,10,1)!==d&&(d?b.enable(b.CULL_FACE):b.disable(b.CULL_FACE)),d=P(a.a,9,2),P(c.a,9,2)!==d&&b.cullFace(zl(b,d)),d=P(a.a,7,1),P(c.a,7,1)!==d&&b.frontFace(yl(b,d)),d=0!==P(a.a,6,1),0!==P(c.a,6,1)!==d&&(d?b.enable(b.DITHER):b.disable(b.DITHER)),d=a.H,c.H!==d&&b.lineWidth(d),d=a.va,c.va!=d&&(d?b.enable(b.POLYGON_OFFSET_FILL):b.disable(b.POLYGON_OFFSET_FILL)),d&&(d=a.M,e=a.aa,c.M===d&&c.aa===e||b.polygonOffset(e,d)),d=a.p,c.p!==d&&b.colorMask(!!(1&d),!!(2&d),!!(4&d),!!(8&d)),d=a.v,c.v!==d&&b.depthMask(d),d=a.n,e=a.o,(c.n!==d||c.o!==e)&&(b.stencilMaskSeparate(b.BACK,d),b.stencilMaskSeparate(b.FRONT,e)),d=a.s[0],e=a.s[1],c.s[0]===d&&c.s[1]===e||b.depthRange(d,e),c.A(a)}},Ro.ol=function(){return this.ba.Ji},Ro.vn=function(a,b){b=b||{};var c=this.ba;a!==c.Ji&&(c.B.useProgram(a.fd),c.Ji=a);var d,c=this.B,e=a.ap();for(d in e){var f=e[d],g=f.ga,f=f.type,h=b[d];if(!I(h))switch(f){case 1:case 5:case 16:case 17:c.uniform1i(g,h);break;case 9:c.uniform1f(g,h);break;case 2:case 6:c.uniform2i(g,h[0],h[1]);break;case 3:case 7:c.uniform3i(g,h[0],h[1],h[2]);break;case 4:case 8:c.uniform4i(g,h[0],h[1],h[2],h[3]);break;case 10:c.uniform2f(g,h[0],h[1]);break;case 11:c.uniform3f(g,h[0],h[1],h[2]);break;case 12:c.uniform4f(g,h[0],h[1],h[2],h[3]);break;case 13:h instanceof Float32Array?c.uniformMatrix2fv(g,!1,h):(f=this.g,f[0]=h[0],f[2]=h[2],f[1]=h[1],f[3]=h[3],c.uniformMatrix2fv(g,!1,f));break;case 14:h instanceof Float32Array?c.uniformMatrix3fv(g,!1,h):(f=this.j,f[0]=h[0],f[3]=h[3],f[6]=h[6],f[1]=h[1],f[4]=h[4],f[7]=h[7],f[2]=h[2],f[5]=h[5],f[8]=h[8],c.uniformMatrix3fv(g,!1,f));break;case 15:h instanceof Float32Array?c.uniformMatrix4fv(g,!1,h):(f=this.d,f[0]=h[0],f[4]=h[4],f[8]=h[8],f[12]=h[12],f[1]=h[1],f[5]=h[5],f[9]=h[9],f[13]=h[13],f[2]=h[2],f[6]=h[6],f[10]=h[10],f[14]=h[14],f[3]=h[3],f[7]=h[7],f[11]=h[11],f[15]=h[15],c.uniformMatrix4fv(g,!1,f))}}},Ro.cc=function(a){return(0>a||a>=this.a.length)&&H("texture unit out of range"),this.a[a]},Ro.za=function(a,b){(0>a||a>=this.a.length)&&H("texture unit out of range"),this.c=Z(this.c,a),this.a[a]=b},Ro.Wk=function(a,b,c,d){this.B.clearColor(a,b,c,d)},Ro.clear=function(a){var b=this.B,c=0;fa(a)?c=b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT:(1&a&&(c|=b.COLOR_BUFFER_BIT),2&a&&(c|=b.DEPTH_BUFFER_BIT),4&a&&(c|=b.STENCIL_BUFFER_BIT)),b.clear(c)},Ro.Bi=function(a,b,c,d){this.B.viewport(a,b,c,d)},Ro.Yk=function(a){var b=this.B;a?b.enable(b.SCISSOR_TEST):b.disable(b.SCISSOR_TEST)},Ro.un=function(a,b,c,d){this.B.scissor(a,b,c,d)},Ro.na=function(a,b,c,d,e){var f=this.B,g=this.ol();g||H("no shader program bound");var h,i=g.Yo(),j=b.j,k=j.b,l=j.a.length;for(h in i){var m,i=g.bp(h),n=!1,o=!1;for(m in i)n=!0,k[m]&&(o=!0);n||H("missing role for attrib '"+h+"'"),o||H("missing vertex attrib for shader attrib '"+h+"'")}for(h=0;l>h;++h)for(m in k=j.a[h],i=b.a[h],this.ba.Lg(i),k)(n=g.Xo(m))&&(i=k[m],n=n.ga||0,o=sl(f,i.type),f.vertexAttribPointer(n,i.size,o,i.normalize,i.xn,i.offset),f.enableVertexAttribArray(n));for(b=this.ba,f=0,g=this.c;g>=f;++f)b.bindTexture(f,this.a[f]);c?(b=this.B,a=Al(b,a),f=b.UNSIGNED_SHORT,d*=2,this.ba.Kg(c),b.drawElements(a,e,f,d)):(c=this.B,a=Al(c,a),c.drawArrays(a,d,e))},Bl.prototype.b=["Webkit","Moz","ms","O"],Bl.prototype.uh=function(a,b){this.a[a]=b};var Ts=new Bl;El.prototype=Object.create(Tk.prototype),Ro=El.prototype,Ro.sm=function(){return this.jo},Ro.zm=function(){return this.uo},Ro.qm=function(){return this.co},Ro.mm=function(){return this.bo},Ro.rm=function(){return this.eo},Ro.Bk=function(){return this.fo},Ro.wm=function(){return this.so},Ro.xm=function(){return this.to},Ro.um=function(){return this.po},Ro.ym=function(){return this.El},Ro.vm=function(){return this.qo},Ro.gi=function(){return this.ro},Ro.nj=function(){return this.Dd},Ro.fi=function(){return this.Fh},Ro.Fm=function(){return this.mo},Ro.Em=function(){return this.lo},Ro.Cm=function(){return this.yl},Ro.ei=function(){return this.Ui},Ro.toString=function(){return this.zo},Ro.xl=function(a){for(var b=this.dk(),c=0,d=b.length;d>c;++c){var e=b[c];if(0<e.indexOf(a))return e}return null},Ro.dk=function(){var a=this.B;return this.zh||(this.zh=a.getSupportedExtensions()),this.zh},Fl.prototype=Object.create(ol.prototype),Gl.prototype=Object.create(ll.prototype),Gl.prototype.Pa=function(){return this.ba},Gl.prototype.Ob=function(){var a=new Fl;return this.a.Ef+=1,a},Gl.prototype.em=function(a){a.fd=null,a.$i=null,a.Wi=null,this.a.Ef-=1};var Us=function(){var a=0;return function(b,c,d,e,f){e=J(e,Os),this.B=b.Pa().getContext(),this.ga=a++,this.ra=b,this.Ge=c,this.Vd=d,this.ck=c,this.bk=d,this.he=!0,this.Of=e,this.gd=f?f.gd:new _k,this.La=document.createElement("canvas"),this.lc=this.La.getContext("2d"),this.La.width=c,this.La.height=d,this.nb=f?f.nb:[0],this.Rf=f?!1:!0,this.ed=0|ca(R(this.ck,this.bk)),this.Ag=!1,this.Cf(this.gd)}}();Us.prototype=Object.create(Vk.prototype),Ro=Us.prototype,Ro.Na=function(){this.lc=this.La=null,this.ra.ok(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){var a=0;return this.Rf&&(a=Xk(this.Of),a*=this.Ge*this.Vd,this.Ag&&(a+=a/3)),a},Ro.pd=function(){return this.Ge},Ro.md=function(){return this.Vd},Ro.Cf=function(a){fa(a.he)||(this.he=a.he)},Ro.sn=function(){},Ro.re=function(a,b,c){this.Df(a,b,0,0,c)},Ro.Df=function(a,b,c,d,e){this.Xi(a,b,c,d,Zk(b),$k(b),Yk(b),e)},Ro.ci=function(){},Ro.Xi=function(a,b,c,d,e,f,g){b&&e&&f&&"undefined"!=typeof g||H("invalid args"),a=0,g=this.Ge>>a|0;var h=this.Vd>>a|0;(0>c||0>d||c+e>g||d+f>h)&&H("invalid args"),b instanceof ImageData?this.lc.putImageData(b,c,d):this.lc.drawImage(b,c,d,e,f),this.he&&(b=this.La,this.La=document.createElement("canvas"),this.La.width=b.width,this.La.height=b.height,this.lc=this.La.getContext("2d"),this.lc.save(),this.lc.scale(1,-1),this.lc.drawImage(b,0,-b.height),this.lc.restore()),this.nb[0]|=1<<a},Hl.prototype=Object.create(Wk.prototype),Il.prototype=Object.create(al.prototype),Ro=Il.prototype,Ro.Pa=function(){return this.ba},Ro.createTexture=function(a,b,c){return(a>this.Dd||b>this.Dd)&&H("invalid args"),a=new Us(this,a,b,c),this.a.yd+=1,a},Ro.Oo=function(a,b){(a>this.Dd||b>this.Dd)&&H("invalid args"),H("NOT IMPLEMENTED"),this.a.yd+=1},Ro.ok=function(a){a.Rf&&(a.Xa=null,this.a.yd-=1)},Ro.Yf=function(a){return H("NOT IMPLEMENTED"),a>this.Fh&&H("invalid args"),a=new Hl,this.a.of+=1,a},Ro.cm=function(a){a.Rf&&(a.Xa=null,this.a.of-=1)};var Vs=function(){var a=0;return function(b,c,d){this.B=b.Pa().getContext(),this.ga=a++,this.ra=b,this.da=c,this.Jg=d,this.Lf=void 0,this.nb=!1}}();Vs.prototype=Object.create(Ok.prototype),Ro=Vs.prototype,Ro.Na=function(){this.ra.pk(this)},Ro.Da=function(){return this.ga},Ro.Fb=function(){return this.da},Ro.pl=function(){},Ro.od=function(){return this.da},Object.create(Pk.prototype),Jl.prototype=Object.create(Qk.prototype),Ro=Jl.prototype,Ro.Pa=function(){return this.ba},Ro.Je=function(){},Ro.nf=function(){},Ro.pk=function(){},Ro.dm=function(){},Ro.Lg=function(a){this.ba.Lg(a)},Ro.Kg=function(a){this.ba.Kg(a)};var Ws=function(){var a=0;return function(b){this.B=this.vh(b.kj()),this.ga=a++,this.uh={},this.Ki=new El(this),this.ef=this.wl(),this.Kl=new Gl(this),this.Dg=new Jl(this),this.Hg=new Il(this),b=this.Ki.gi(),this.sl=this.vl=this.Ji=null,this.ul=Array(b),this.tl=null}}();Ws.prototype=Object.create(sh.prototype),Ro=Ws.prototype,Ro.Da=function(){return this.ga},Ro.Vg=function(){return this.Ki},Ro.Am=function(){return this.uh},Ro.oj=function(){return this.Dg},Ro.Ck=function(){return this.Hg},Ro.$l=function(){return new Kl(this)},Ro.Ob=function(a,b,c){return this.Kl.Ob(a,b,c)},Ro.Je=function(a,b){return this.Dg.Je(a,b)},Ro.nf=function(a,b){return this.Dg.nf(a,b)},Ro.createTexture=function(a,b,c){return this.Hg.createTexture(a,b,c)},Ro.Yf=function(a,b){return this.Hg.Yf(a,b)},Ro.getContext=function(){return this.B},Ro.Lg=function(){},Ro.Kg=function(){},Ro.bindTexture=function(){},Ro.vh=function(a){return a.getContext("2d")},Ro.wl=function(){},Qs.Ep("software",Ws),Kl.prototype=Object.create(xa.prototype),Ro=Kl.prototype,Ro.Pa=function(){return this.ba},Ro.tc=function(){return this.ba.ef},Ro.pg=function(){},Ro.ol=function(){return this.ba.Ji},Ro.vn=function(){},Ro.cc=function(){},Ro.za=function(){},Ro.Wk=function(){},Ro.clear=function(){},Ro.Bi=function(){},Ro.Yk=function(){},Ro.un=function(){};var Xs=0;Ro=Pl.prototype,Ro.kj=function(){return this.La},Ro.Ne=function(){return this.d},Ro.Pa=function(){return this.ba},Ro.Pb=function(){return this.b},Ro.Ik=function(){var a=!1;return this.a.forEach(function(b){a|=b.Ik()}),a},Yl.prototype={cc:function(a,b){var c;if(0>=a||null>=b)c=null;else{c=$l(this,a);var d=Zl(this,b),e=this.a[d];void 0==e&&(e=this.a[d]={});var f=null,g=null;if(void 0==e[c])e[c]=new Xl;else for(var h=e[c].Wh,g=0;g<h.length;g++)if(!h[g].Uj){f=h[g];break}null==f&&(f=this.d.createTexture(c,d),f=new Wl(c,d,f),e[c].Wh.push(f)),f.Uj=!0,c=f}return c},kn:function(){var a=0,b=null,c=null;for(b in this.a){var d=this.a[b];for(c in d){var e=d[c].Wh;e.forEach(function(b){b.Uj||(b.Ka.Na(),b.Ka=null,a++)}),d[c].Wh=e.filter(function(a){return a.Uj})}}Wo()},jh:function(){var a=null,b=null;for(a in this.a){var c=this.a[a];for(b in c)c[b].Wh.forEach(function(a){null!=a.Ka&&a.Ka.Na()});this.a={}}}},_l.prototype={createTexture:function(a,b){return this.Vb.createTexture(a,b)}},am.prototype={Xl:function(){this.a&&this.a.jh()},kn:function(){this.a&&this.a.kn()},measureText:function(a,b){var c=Ds.measureText(a,b);return c.width+=6,c.height+=6,{width:c.width,height:c.height}},create:function(a,b,c){if(yk(Ds,b.font)){var d,e=this.measureText(a,b),f=$l(this.a,e.width),g=Zl(this.a,e.height),h=this.a;if(0>=f||null>=g)d=null;else{d=$l(h,f);var i=Zl(h,g),j=h.a[i];if(void 0==j&&(j=h.a[i]={}),h=j[d],void 0==h&&(j[d]=new Xl,h=j[d]),null==h.canvas){
var j=h,k=document.createElement("canvas");k.width=d,k.height=i,j.canvas=k}d=h.canvas}i=d.getContext("2d"),i.font=vk(b),i.clearRect(0,0,f,g),0<b.outlineWidth&&(0<b.Ff&&null!==b.shadowColor?(i.shadowColor="rgba("+255*b.shadowColor[0]+","+255*b.shadowColor[1]+","+255*b.shadowColor[2]+",1)",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=b.Ff):(i.shadowColor="rgba(0, 0, 0, 0)",i.shadowBlur=0),i.lineWidth=b.outlineWidth,i.strokeStyle="rgba("+parseInt(255*b.outlineColor[0],10)+","+parseInt(255*b.outlineColor[1],10)+","+parseInt(255*b.outlineColor[2],10)+","+b.outlineColor[3]+")",i.strokeText(a,3+b.outlineWidth+b.Ff,b.size+b.outlineWidth+b.Ff+2+3)),i.fillStyle="rgba("+parseInt(255*b.color[0],10)+","+parseInt(255*b.color[1],10)+","+parseInt(255*b.color[2],10)+","+b.color[3]+")",i.fillText(a,3+b.outlineWidth+b.Ff,b.size+b.outlineWidth+b.Ff+2+3),b={canvas:d,ee:i,width:e.width,height:e.height}}else Uo(),b=null;return b?(e=this.a.cc(b.width,b.height),f=e.Ka,this.a.b?f.re(0,b.canvas,{he:!0}):(g=new _k,g.b=6,g.a=Ps,f.Cf(g),f.re(0,b.canvas,{he:!0}),f.ci()),c.text=a,c.Ka=f,c.ls=e,c.width=b.width,c.height=b.height,c.el=b.canvas.width,c.dl=b.canvas.height,!0):!1},remove:function(a){if(null!=a&&void 0!=a.Ka&&null!=a.Ka){var b=this.a,c=a.ls;if(null!=c){var d,e=c.width,f=Zl(b,c.height);d=null,void 0==b.a[f]?d=null:(d=b.a[f],b=$l(b,e),d=d[b]),null!=d&&0<=d.Wh.indexOf(c)&&(c.Uj=!1)}a.Ka=null}}};var Ys={Aa:null,Mg:3,ke:function(){return Ys.Aa||(Ys.Aa=new Fm(Ys.bs,Ys.cs,Ys.Mg),Ys.Aa.Vm=function(a,b,c){var d=Ys.Aa;a=zh(4,14,a,b,c),b=a.xb(),d.a.Jj(1,!1),null===d.a.get(b)&&(c=new bm(b),c.Pl=a,d.a.set(b,c)),Hm(d,[b],!1)},tj(Ys.Aa)),Ys.Aa},deleteInstance:function(){Ys.Aa&&(Ys.Aa.clear(),Ys.Aa=null)},bs:function(a){return new bm(a)},cs:function(a,b,c,d){oh(mh(),b.id,function(a,e){if(e.Ub()&&a)try{var f=window.JSON.parse(a);b.Ia=new lm;var g=b.Pl;Vo();var h=b.Ia,i=g.G;h.clear(),h.g=i;var j=f.roadElement,k=f.label,l=f.roadElementName,m=f.attributeSet,n=f.attributes,o=f.formOfWay,p=i[0],q=i[1],r=i[2];h.a=[[0,0],[0,0]],h.a[0]=Jh(p,q,r),h.a[1]=Jh(p,q+1,r-1),h.Ah=Ap.ma(h.a[0],h.a[1],.5),h.Tf=pi(h.Ah),h.Nf=si(h.Tf),f=[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],mi([h.a[0][0],h.a[0][1],0],f[0]),mi([h.a[1][0],h.a[0][1],0],f[1]),mi([h.a[0][0],h.a[1][1],0],f[2]),mi([h.a[1][0],h.a[1][1],0],f[3]),h.j=Bp.sub(f[1],f[0]),h.n=Bp.sub(f[2],f[0]);var s,t=Bp.length(h.j),u=Bp.length(h.n),f=-.5*t,g=-.5*u,v=j.length,i=1/16384,p=[];if(v>0){var w=new qm(0,null);h.bb[w.Ra]=w}for(s=0;v>s;s++){var x,y,z,A=Number.MAX_VALUE,B=Number.MAX_VALUE,C=-Number.MAX_VALUE,D=-Number.MAX_VALUE,q=[],E=j[s],F=E.length,G=Number.MAX_VALUE,H=Number.MAX_VALUE;for(x=0;F>x;x+=2)G=E[x],H=E[x+1],y=f+i*G*t,z=g+i*(16383-H)*u,A=A>y?y:A,B=B>z?z:B,C=y>C?y:C,D=z>D?z:D,q.push([G,H]);if(1<q.length){var I,J=h.bb.length,r=null,K=-1;for(I in l[s]){var L=k[l[s][I]];0<L.length&&(r=r||{},r[I]=L)}var K=l[s]._,M=null;if(-1===l[s])w=new qm(J,r),h.bb[w.Ra]=w,M=wm(h,w,h.ng++,q,A,B,C,D);else{var N=-1;void 0!=K&&(N=p[K]),N>=0?M=wm(h,h.bb[N],h.ng++,q,A,B,C,D):(w=new qm(J,r),h.bb[w.Ra]=w,M=wm(h,w,h.ng++,q,A,B,C,D),K>=0&&(p[K]=h.bb.length-1))}r&&null!=r&&(M.labels=r),o&&(M.Tg=o[s],M.attributes=m[n[s]])}}zm(h),c(b.id,a)}catch(O){d(b.id,O.toString())}else d(b.id,e.mj())})}},Zs=2;a(cm.prototype,{Ac:function(){delete this.df,delete this.ba,delete this.ze,delete this.hk,delete this.wo,delete this.xo},n:function(){return this.ze},b:function(){return this.ed},a:function(a,b,c,d,e){var f=this.ze;a=this.Lq(a),b=this.ze.od()>>b,c*=b,d*=b;var g=e.width,h=e.height;b===g&&b===h?f.Df(a,0,e,c,d):(f=this.ba.Ck().createTexture(g,h,4),f.re(0,e),this.hk.za(0,f),Na(this.hk,"u_texunit0",0),this.hk.Kj(this.df),this.Dq(a),this.df.Bi(c,d,b,b),this.df.na(Cp.TRIANGLE,this.xo,null,0,6),this.br(),f.Na())},p:function(a){a=void 0!==a?a:Zs;var b=ca(this.ba.Vg().fi())-8;return a>b?b:a},s:function(a,b){var c=a.Yf(1<<b+8,4);return c.clear(),c},Lq:function(a){switch(a){case 1:return 1;case 3:return 2;case 0:return 5;case 2:return 6;case 5:return 3;case 4:return 4;default:return 1}},Dq:function(a){var b=this.ba.getContext();a=Ns.a(b,a),b.bindFramebuffer(b.FRAMEBUFFER,this.wo),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,a,this.ze.Xa,0)},br:function(){var a=this.ba.getContext();a.bindFramebuffer(a.FRAMEBUFFER,null)},d:function(a){return a=a.Ob("precision highp float;\nattribute vec2 a_position;\nvarying vec2 v_texcoord;\nvoid main() {\n  gl_Position = vec4(a_position, 0, 1);\n  v_texcoord = vec2(a_position.x + 1.0, a_position.y + 1.0) * 0.5;\n}","precision highp float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texunit0;\nvoid main() {\n  gl_FragColor = texture2D(u_texunit0, v_texcoord);\n}",{position:"a_position"}),a=new Ma(a,{u_texunit0:0}),a.fb("rttMaterial"),a},c:function(a){return a.getContext().createFramebuffer()},e:function(a){var b=new pb({position:new ob(7,2,0)}),c=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);return a=a.Je(c),b=new qb(b),rb(b,a),b}});var $s={};dm.prototype.Xg=function(){if(this.b)return this.b;var a=Dj(this.ta),b=a.slice(3,7),c=Ba();va(b,c),Ea(c,c);var b=a[0],d=a[1],a=a[2];return c[12]=-(c[0]*b+c[4]*d+c[8]*a),c[13]=-(c[1]*b+c[5]*d+c[9]*a),c[14]=-(c[2]*b+c[6]*d+c[10]*a),this.b=c},dm.prototype.bg=function(a){if(this.Rh&&fm(this),!this.a)return!1;for(var b=this.a,c=b.Oa.length,d=Bp.create(),e=Bp.create(),f=Bp.create(),g=0;c>g;g+=3){var h=6*b.Oa[g+0],i=6*b.Oa[g+1],j=6*b.Oa[g+2];d[0]=b.O[h],d[1]=b.O[h+1],d[2]=b.O[h+2],e[0]=b.O[i],e[1]=b.O[i+1],e[2]=b.O[i+2],f[0]=b.O[j],f[1]=b.O[j+1],f[2]=b.O[j+2],a(d,e,f)}return!0},dm.prototype.nd=function(a){if(this.Gc)return this.Gc;if(this.Rh&&fm(this),!this.a||!a)return null;for(var b=this.a,c=b.O.length/6,d=[],e=[],f=Bp.create(),g=b.Ir[2],h=b.Oa.length,i=0;h>i;i+=3){var j=6*b.Oa[i+0],k=6*b.Oa[i+1],l=6*b.Oa[i+2];_s&&(1>=Math.abs(b.O[j+2]-g)&&(b.O[j+2]-=at),1>=Math.abs(b.O[k+2]-g)&&(b.O[k+2]-=at),1>=Math.abs(b.O[l+2]-g)&&(b.O[l+2]-=at)),d[0]=b.O[j]-b.O[k],d[1]=b.O[j+1]-b.O[k+1],d[2]=b.O[j+2]-b.O[k+2],e[0]=b.O[j]-b.O[l],e[1]=b.O[j+1]-b.O[l+1],e[2]=b.O[j+2]-b.O[l+2],Bp.pa(d,e,f),1e-6<=Bp.length(f)&&Bp.normalize(f,f),b.O[j+3+0]=f[0],b.O[j+3+1]=f[1],b.O[j+3+2]=f[2],b.O[k+3+0]=f[0],b.O[k+3+1]=f[1],b.O[k+3+2]=f[2],b.O[l+3+0]=f[0],b.O[l+3+1]=f[1],b.O[l+3+2]=f[2]}return d=new pb({position:new ob(7,3,0),normal:new ob(7,3,12)}),b=new Nb(d,c,new Uint8Array(b.O.buffer),b.Oa),this.Gc=new ya(a,b)},dm.prototype.compact=function(){this.Rh?Uo():this.c?(this.Rh=!0,this.sd=this.Gc=this.a=null):Uo()};var _s=!0,at=5;gm.prototype.Um=function(){this.la=!1},gm.prototype.Tm=function(){this.la=!0},$s.Mg=15,$s.Aa=null,$s.ke=function(){return $s.Aa||($s.Aa=new Fm($s.Fq,$s.Gq,$s.Mg),tj($s.Aa)),$s.Aa},$s.deleteInstance=function(){$s.Aa&&($s.Aa.t(),$s.Aa=null)},$s.Fq=function(a){return new gm(a)},$s.Gq=function(a,b,c,d){a=b.id.replace(".zip",".cs3d.cstgz"),"http://navteq-maps.ovi.com.edgesuite.net/"!==$s.xg&&(a=a.split("/").slice(-3).join("/"),a=$s.xg+a),Pr&&(a=a.replace("://sli.data.here.com","://6.sli.data.here.com")),a=Ch(a,!0),Wo(),ph(mh(),a,function(a,e){e.Ub()&&a?c(b.id,a):d(b.id,e.mj())})},$s.xg="http://sli.data.here.com/",$s.bn=function(a){"/"!=a.substr(-1)&&(a+="/"),$s.xg=a,$s.Aa&&it.Aa.clear()},$s.Ro=function(){};var bt=25;Ro=im.prototype,Ro.clear=function(){this.a.clear()},Ro.t=function(){this.a.clear(),this.a=null},Ro.get=function(a){return this.a.get(a)},Ro.set=function(a,b){this.a.set(a,b)},Ro.fl=function(a){this.a.get(a)},Ro.Jj=function(a,b){this.a.Jj(a,b)},Ro.Ro=function(){},Ro=jm.prototype,Ro.clear=function(){this.b=0,this.a.length=0,this.c=null},Ro.ue=function(a,b,c){var d;if(this.b++,d=this.Hj(a,b),null===d)for(var e=1;c>e;){d=a;var f=b,g=e;this.b+=4;for(var h=0,i=0,j=void 0,k=void 0,k=-1;2>k;k+=2)for(j=-1;2>j;j+=2){var l=this.Hj(d+j*g,f+k*g);null!==l&&(h+=l,i++)}if(d=i>0?h/i:null,null!=d)break;e*=2}return d},Ro.mh=function(a,b,c,d){var e;if(this.b++,e=this.Ij(a,b,d),null===e)for(var f=1;c>f;){e=a;var g=b,h=f,i=d;this.b+=4;for(var j=0,k=0,l=void 0,m=void 0,m=-1;2>m;m+=2)for(l=-1;2>l;l+=2){var n=this.Ij(e+l*h,g+m*h,i);null!==n&&(j+=n,k++)}if(e=k>0?j/k:null,null!=e)break;f*=2}return e},Ro.kf=function(){var a,b=this.a.length;for(a=0;b>a;a++)if(!this.a[a].kf())return!1;return!0},Ro.Xk=function(a){a=si(a);var b,c=this.a.length;for(b=0;c>b;b++)this.a[b].Xk(a)},Ro.Hj=function(a,b){var c,d=this.a.length;for(c=0;d>c;c++){var e=this.a[c].Hj(a,b);if(null!==e)return e}return null},Ro.Ij=function(a,b,c){if(this.c){var d=this.c.Ij(a,b,c);if(null!==d)return d}var e,f=this.a.length;for(e=0;f>e;e++)if(this.c!==this.a[e]&&(d=this.a[e].Ij(a,b,c),null!==d))return this.c=this.a[e],d;return null},Ro.qi=function(a,b){var c,d=Number.MAX_VALUE,e=this.a.length;for(c=0;e>c;c++){var f=this.a[c].qi(a,b);d>f&&(d=f)}return d},Ro.Qb=function(){var a,b=!1,c=this.a.length;for(a=0;c>a;a++)if(this.a[a].Qb){b=!0;break}return b};var ct=2,dt=3,et=e();qm.prototype.tm=function(a){return this.labels?this.labels[a]?this.labels[a]:this.labels._?this.labels._:(So(),""):""},rm.prototype.tm=function(a){return this.labels?this.labels[a]?this.labels[a]:this.labels._?this.labels._:(So(),""):""},um.prototype={},lm.prototype.kb=et,lm.prototype.clear=function(){this.bb=[],this.b={},this.$=[],this.d=1,this.P=[],this.c=[],this.ng=0,this.Ya=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE],this.Tf=[0,0,0,0,0,0,0]},lm.prototype.eb=function(){return this.Tf},lm.prototype.Db=function(a){this.clear(),this.Ah=a.Ah,this.Tf=a.Tf,this.bb=a.bb,this.ng=a.ng,this.Ya=a.Ya.slice();var b,c=a.$.length,d=0,e=0;if(c>0){var f=new qm(0,null);this.bb[f.Ra]=f}for(b=0;c>b;b++){var g=a.$[b],h=g.m,i=h.length,g=sm(g);this.e[g.V]=g,this.$.push(g);var j=g.labels;if(j){for(void 0===this.b[g.Ra]&&(f=new qm(g.Ra,j),this.b[g.Ra]=f,e++),this.b[g.Ra].og.push(g.V),i=[0,i-1],f=0;2>f;f++){var k=h[i[f]],l=k[0],m=k[1],n=Math.round(l),o=Math.round(m),k=null,p=this.c[o];p?(k=p[n],k||(k=p[n]=new um(this.d++,l,m),this.P.push(k))):(this.c[o]=p=[],k=p[n]=new um(this.d++,l,m),this.P.push(k)),k.$.push(g),ym(k,g.Ra)||k.bb.push(g.Ra),g.P[f]=k}g.labels=j}else d++}for(a=0;a<this.P.length;a++)k=this.P[a],k.Pe=1===k.$.length,k.Yc=1===k.bb.length&&2===k.$.length};var ft=20;Fm.prototype.t=function(){this.c=this.b=null,this.a.clear(),this.a=null},Fm.prototype.clear=function(){Wo(),this.a.clear()},Fm.prototype.Zg=function(a){return this.a.get(a)};var gt=function(){var a,b=[0,0,0],c=[0,0,0],d=[0,0,0],e=[0,0,0],f=[0,0,0],g=[0,0,0];return function(h,i,j){Jm(h.origin,i.J,b),Jm(i.W,i.J,c),Jm(i.Ye,i.J,d),i=c[0];var k=c[1],l=c[2],m=d[0],n=d[1],o=d[2];if(e[0]=k*o-l*n,e[1]=l*m-i*o,e[2]=i*n-k*m,i=Km(h.direction,e),i>1e-6)a=1;else{if(!(-1e-6>i))return j.np=0,!1;a=-1,i=-i}var k=b[0],l=b[1],m=b[2],n=d[0],o=d[1],p=d[2];if(f[0]=l*p-m*o,f[1]=m*n-k*p,f[2]=k*o-l*n,k=a*Km(h.direction,f),k>=0){var l=c[0],m=c[1],n=c[2],o=b[0],p=b[1],q=b[2];if(g[0]=m*q-n*p,g[1]=n*o-l*q,g[2]=l*p-m*o,h=a*Km(h.direction,g),h>=0&&i>=k+h&&(l=-a*Km(b,e),l>=0))return i=1/i,j.uu=l*i,j.tg=k*i,j.ug=h*i,j.Gi=1-j.tg-j.ug,j.np=1,!0}return j.np=0,!1}}();Ro=Lm.prototype,Ro.ud=null,Ro.Hk=function(a){this.ud.Hk(a,this.a)},Ro.clear=function(){this.ud.clear()},Ro.sort=function(){this.ud.sort()},Ro.tj=function(a,b,c){a<this.ud.x||b<this.ud.y||a>this.ud.vg||b>this.ud.ye||this.ud.tj(a,b,c)},Ro.qi=function(a,b){var c=a-this.ud.n,d=b-this.ud.c;return c*c+d*d-this.ud.ih},Ro.forEach=function(a){this.ud.forEach(a,null)},Ro=Nm.prototype,Ro.Hk=function(a,b){if(this.o>=b)null===this.b&&(this.b=[]),this.b.push(a);else{var c=-1;if(a.x>=this.x&&a.vg<=this.n?a.y>=this.y&&a.ye<=this.c?c=this.g:a.y>=this.c&&a.ye<=this.ye&&(c=this.d):a.x>=this.n&&a.vg<=this.vg&&(a.y>=this.y&&a.ye<=this.c?c=this.j:a.y>=this.c&&a.ye<=this.ye&&(c=this.e)),-1!=c){null===this.a&&(this.a=[null,null,null,null]);var d=this.a[c];if(null===d){var d=this.o+1,e=this.x,f=this.y,g=.5*(this.vg-this.x),h=.5*(this.ye-this.y),i=.5*g,j=.5*h,k=e+g,l=f+h;switch(null===this.a&&(this.a=[null,null,null,null]),c){case this.g:this.a[this.g]=new Nm(e,f,e+g,f+h,e+i,f+j,d);break;case this.j:this.a[this.j]=new Nm(k,f,k+g,f+h,k+i,f+j,d);break;case this.d:this.a[this.d]=new Nm(e,l,e+g,l+h,e+i,l+j,d);break;case this.e:this.a[this.e]=new Nm(k,l,k+g,l+h,k+i,l+j,d)}d=this.a[c]}d.Hk(a,b)}else null===this.b&&(this.b=[]),this.b.push(a)}},Ro.sort=function(){if(null!==this.b&&this.b.sort(this.gr),this.a)for(var a=0,b=this.a.length;b>a;a++)this.a[a]&&this.a[a].sort()},Ro.gr=function(a,b){return a.x-b.x},Ro.tj=function(a,b,c){var d;if(null!==this.b)for(var e=0,f=this.b,g=f.length;g>e;)d=f[e],a>=d.x&&b>=d.y&&a<=d.vg&&b<=d.ye&&c(d),e++;this.a&&(d=a<=this.n?b<=this.c?this.g:this.d:b<=this.c?this.j:this.e,this.a[d]&&this.a[d].tj(a,b,c))},Ro.forEach=function(a,b){a(this,b),this.a&&(this.a[0]&&this.a[0].forEach(a,this),this.a[1]&&this.a[1].forEach(a,this),this.a[2]&&this.a[2].forEach(a,this),this.a[3]&&this.a[3].forEach(a,this))},Ro.clear=function(){if(null!==this.b&&(this.b.length=0),this.a){var a=this.a.length;if(a){for(var b=0;a>b;b++)this.a[b]&&this.a[b].clear();this.a=null}}},Ro=Om.prototype,Ro.clear=function(){this.Qg=this.ph=null},Ro.eb=function(){return this.Ve},Ro.kf=function(){return null!==this.c&&null!==this.a},Ro.Xk=function(a){this.a=Bp.I(a,this.eb())},Ro.Hj=function(a,b){var c=a-this.a[0],d=b-this.a[1],e=null,f={origin:[c,d,-1e6],direction:[0,0,1e6]},g={},h=this,i=this.g,j=null;return this.c.tj(c,d,function(a){i[0].id===a.Nc?(h.e++,j=i[0]):i[1].id===a.Nc?(h.e++,j=i[1]):(j=i[1-h.d],h.d=1-h.d,h.j++,Pm(h,a.Nc,j),j.id=a.Nc),gt(f,j,g)&&(a=g.Gi*j.J[2]+g.tg*j.W[2]+g.ug*j.Ye[2],e=null===e?a:Math.min(e,a))}),e};var ht={origin:[0,0,-1e6],direction:[0,0,1e6]};Om.prototype.Ij=function(a,b,c){a-=this.a[0],b-=this.a[1];var d=null,e=null;ht.origin[0]=a,ht.origin[1]=b;var f={},g=this,h=this.g,i=null,j=this.Zh,k=c.ua,l=c.Id,m=Number.MAX_VALUE,n=Number.MIN_VALUE;return this.c.tj(a,b,function(a){if(h[0].id===a.Nc?(g.e++,i=h[0]):h[1].id===a.Nc?(g.e++,i=h[1]):(i=h[1-g.d],g.d=1-g.d,g.j++,Pm(g,a.Nc,i),i.id=a.Nc),gt(ht,i,f)){var b=f.Gi*i.J[2]+f.tg*i.W[2]+f.ug*i.Ye[2];null!=d&&(0==k.length&&(k.push(d),l.push(e)),k.push(b),l.push(j[a.Nc/3])),e=j[a.Nc/3],0==e&&(c.Og=b),m>b&&(m=b),b>n&&(n=b),d=null===d?b:Math.min(d,b)}}),c.minHeight=m,c.maxHeight=n,d},Om.prototype.qi=function(a,b){return this.c.qi(a-this.a[0],b-this.a[1])};var it={};Qm.prototype.getData=function(a,b,c){function d(a,b){var c=g[a];c?c[b]||(c[b]=!0):(c=[],c[b]=!0,g[a]=c),(c=g[b])?c[a]||(c[a]=!0):(c=[],c[a]=!0,g[b]=c)}if(c=c||!1,this.la)return null;var e=this.ve[a];if(e)return e.la?null:(c&&Tm(e),e);if(!this.a&&(Wo(),this.a=Ur(this.data),Wo(),!this.a))return this.la=!0,null;var f=this.a[a+".cs3d"];if(!f)return So(),null;if(e={Bn:a,tr:null,ta:null,Ya:null,ph:null,Qg:null,Fi:null,la:!1,Zh:null,Qb:!1},this.ve[a]=e,a=Th(f.Sg,0),!a)return e.la=!0,null;var f=a.O.length/3,g=[];if(it.$r){for(var h=a.O,i={},j={},k=0,l=0;l<a.O.length-1;l+=3){var m=h[l].toString()+h[l+1].toString()+h[l+2].toString(),n=i[m];void 0==n?(i[m]=k,j[k]=k):j[k]=n,k++}for(h=a.Oa.length,l=0;h>l;l+=3)a.Oa[l+0]=j[a.Oa[l+0]],a.Oa[l+1]=j[a.Oa[l+1]],a.Oa[l+2]=j[a.Oa[l+2]]}for(h=a.Oa.length,l=0;h>l;l+=3){var o=a.Oa[l+0],p=a.Oa[l+1],q=a.Oa[l+2];d(o,p),d(p,q),d(q,o)}if(Wo(),j=new pb({position:new ob(7,3,0)}),l=Sm(f,a.Oa,g),k=e.Zh=l.Zh,l=l.Nr,l>1){for(e.Qb=!0,i=Array(l),l=m=0;h>l;l+=3)o=k[m],o>0&&((n=i[o])||(n=i[o]=[]),o=a.Oa[l+0],p=a.Oa[l+1],q=a.Oa[l+2],n.push(o),n.push(p),n.push(q)),m++;for(e.Lr=[],e.Mr=[],l=0;l<i.length;l++)(n=i[l])&&0<n.length&&(h=new Nb(j,f,new Uint8Array(a.O.buffer),new Uint16Array(n)),h=new ya(b,h),k=new nb(h,null),_a(k,St.TERRAIN),e.Lr.push(h),e.Mr.push(k))}return f=new Nb(j,f,new Uint8Array(a.O.buffer),a.Oa),b=new ya(b,f),e.Gc=b,e.Ya=b.Ug(),e.ta=new Cj(Kh(a.Wj)),e.ph=a.O,e.Qg=a.Oa,c&&Tm(e),e},Qm.prototype.Um=function(){this.la=!1},Qm.prototype.Tm=function(){this.la=!0},it.Aa=null,it.Mg=16,it.$r=!1,it.ke=function(){return it.Aa||(it.Aa=new Fm(it.Zq,it.$q,it.Mg),tj(it.Aa)),it.Aa},it.deleteInstance=function(){it.Aa&&(it.Aa.t(),it.Aa=null)},it.Zq=function(a){return new Qm(a)},it.$q=function(a,b,c,d){a=b.id.replace(".zip",".cs3d.cstgz"),"http://navteq-maps.ovi.com.edgesuite.net/"!==it.xg&&(a=a.split("/").slice(-3).join("/"),a=it.xg+a),Pr&&(a=a.replace("://sli.data.here.com","://7.sli.data.here.com")),a=Ch(a,!0),Wo(),ph(mh(),a,function(a,e){e.Ub()&&a?c(b.id,a):d(b.id,e.mj())})},it.xg="http://sli.data.here.com/",it.bn=function(a){"/"!=a.substr(-1)&&(a+="/"),it.xg=a,it.Aa&&it.Aa.clear()};var jt=50,kt=75,lt=50,mt=!1,nt=!0,ot=!1,pt=75,qt=10,rt=!1,st=Bp.create(),tt=Bp.create();Ro=Um.prototype,Ro.clear=function(){this.a=[],this.dd=[],this.va.clear(),this.Xf.clear(),this.g=!1,this.b=[],this.Bd=[],this.s.clear(),this.Kb.clear(),this.Qc=this.H=this.Va=this.v=this.hc=this.j=!1,this.Ia=null,uj(this.cd.C,this),uj(this.tb.C,this),uj(this.xa.C,this),en(this.ce),en(this.n),en(this.bd),en(this.dc),en(this.eh)},Ro.t=function(){0!==this.p&&(window.clearTimeout(this.p),this.p=0),0!==this.d&&(window.clearTimeout(this.d),this.d=0),0!==this.c&&(window.clearTimeout(this.c),this.c=0),this.clear(),Vc(this.Kc,this.f),Vc(this.Kc,this.f),this.Hc.length=0,this.Nd.length=0,en(this.dc),this.M=this.Fa=this.f=this.aa=this.Kc=this.Nd=this.Hc=this.cd=this.xa=this.tb=this.Ci=this.rg=this.e=null,this.ic=!0},Ro.Vm=function(){if(du)if(null===this.r)Vo();else{var a=Tg(this.r);this.cd.Vm(a[0],a[1],a[2])}else Xm(this,!0)},Ro.Br=function(a){if(null===this.r)Vo();else{if(null===this.Ia){this.Ia=new lm;var b=jn(this)?250:60;Dm(this.Ia,a[0].Ia,this.r.eb(),b,function(a){var b;return b=a.Tg?a.Tg:a.label?3:8,(0>b||b>=fq.length)&&(b=3),!fq[b].na}),this.hc=!0}if(!Xm(this,!1)){var c=this;this.p=window.setTimeout(function(){Wo(),c.ic||Xm(c,!0)},3e4)}}},Ro.gp=function(a){if(null===this.r)So();else{for(var b=0;b<a.length;b++)for(var c=a[b],d=0;d<this.b.length;d++)if(this.b[d].URL==c.id&&!this.s.get(this.b[d].Ii)){var e;c.la?e={la:!0}:(e=c.getData(this.b[d].Ii,this.f.mb,!0),(!e||c.la)&&(e={la:!0})),this.s.set(this.b[d].Ii,e)}$m(this)}},Ro.fp=function(a){if(null===this.r)So();else{for(var b=0;b<a.length;b++)for(var c=a[b],d=null,e=0;e<this.a.length;e++)this.a[e].URL!=c.id||this.va.get(this.a[e].If)||(c.la?(d=new dm(this.a[e].If,null),d.la=!0):(d=hm(c,this.a[e].If),(!d||c.la)&&(d=new dm(this.a[e].If,null),d.la=!0)),this.va.set(this.a[e].If,d));bn(this)}},Ro.Xe=function(a){this.vf!==a&&(this.vf=a,this.e.F(a),this.dc.F(a),this.bd.F(a),this.f.u())},Ro.Lc=function(a){if(this.Rc!==a){this.Rc=a;var b=this;this.ce.forEach(function(c){c.M?c.Ha=b.Rc?b.f.Hf:b.f.Hd:c.F(a)})}},Ro.Pd=function(a){this.Td!==a&&(this.Td=a,this.n.forEach(function(b){b.F(a)}))},Ro.Bf=function(a){this.o.forEach(function(b){b.F(a)})},Ro.Md=function(){en(this.eh)},Ro.u=function(){this.f.u()},Ro.Mq=function(a){var b=this.f,c=this.r;Zt&&this.f.k.r&&Vm(this.f.k),a.status?b.Za.Ga.handleEvent("PANORAMA_LOADED",c):b.Za.Ga.handleEvent("PANORAMA_NOT_FOUND",c),(a=Xi())&&a.Cp(c.ta.get(0)),b.u()},Ro.Nq=function(a){this.ic||(a.status?(this.Ci.a(a.face,a.me,a.x,a.y,a.Im),this.rg.ad(a),this.f.u()):So("Unable to load skybox tile: "+a.Th.xb()))},Ro.uf=function(){if(this.dc.Qa()&&this.Ia&&0<this.Hc.length){var a=[this.Hc,this.Nd],b=this.Ia;null!==b&&gd(this.Kc,this,a,b,!1)}this.f.Za.pj().uf()},Ro.ah=function(){this.f.ca.ah(this)},Ro.Gd=function(){this.r&&this.g&&this.j?this.f.ca.Gd(this)&&(this.Qc=!1,this.f.u()):this.Qc=!0},Ro=pn.prototype,Ro.Db=function(){return new this.constructor(this)},Ro.clear=function(){this.a={},this.da=0},Ro.size=function(){return this.da},Ro.get=function(a){return this.a[a]},Ro.set=function(a,b){var c=this.a;return c[a]?(c[a]=b,!1):(c[a]=b,++this.da,!0)},Ro.remove=function(a){var b=this.a,c=b[a];return I(c)?void 0:(delete b[a],--this.da,c)},Ro.forEach=function(a){var b,c=this.a;for(b in c){var d=a(b,c[b]);if(!I(d))return d}},Ro=qn.prototype,Ro.clear=function(){},Ro.dg=function(){},Ro.sc=function(){},Ro.update=function(){},Ro.sg=function(){},rn.prototype=Object.create(qn.prototype),Ro=rn.prototype,Ro.clear=function(){this.ea=new pn},Ro.dg=function(){return this.ea.size()},Ro.sc=function(){return null},Ro.update=function(a,b){var c=this.ea;a.forEach(function(a,b){c.set(a,b)}),b.forEach(function(a){c.remove(a)})},Ro.sg=function(a){this.ea.forEach(function(b,c){a(c)})},sn.prototype=Object.create(Ep.prototype),sn.prototype.sc=function(){return this.ra.sc()},sn.prototype.update=function(){var a=this.ra,b=this.a,c=this.b,d=this.c;(0<d.size()||0<b.size())&&bb(this,null,function(a){var c=a.Da();return d.get(c)||b.get(c)?(mb(a),!1):!0}),a.update(b,c,d),b.clear(),c.clear(),d.clear()},sn.prototype.clear=function(){for(;0<this.ea.length;)this.remove(this.ea[0]);this.ra.clear(),this.a.clear(),this.b.clear(),this.c.clear()},sn.prototype.sg=function(a,b){this.update(),b&&!b(this.sc())||this.ra.sg(a,b)};var ut=2;a(yn.prototype,{Ac:function(){delete this.df,delete this.ba,delete this.ze},n:function(){return this.ze},b:function(){return this.ed},a:function(a,b,c,d,e){b=Math.pow(2,b);var f=this.ho[a];a=f.getContext("2d");var g=f.width,f=f.height;a.drawImage(e,c*g/b,d*f/b,g/b,f/b)},o:function(a){a=void 0!==a?a:ut;var b=ca(2048)-8;return a>b?b:a},v:function(){},g:function(a){var b=[],c=$t?wt:2048;for(a=a?a:c,c=0;6>c;c++){var d=document.createElement("canvas");d.width=vt,d.height=vt,d.style.width=a+"px",d.style.height=a+"px",d.style.display="block",this.gk&&(d.style.padding=this.gk+"px"),b[c]=d}return b},j:function(){for(var a=new zn,b=2*this.gk+wt,c=0;6>c;c++){var d=new Bn(c,b);d.de.appendChild(this.ho[c]),a.de.appendChild(d.de),a.To.push(d)}return a}});var vt=1024,wt=Math.floor(1024/(window.devicePixelRatio||1)),xt=[[0,0],[0,270],[0,180],[0,90],[90,0],[-90,0]],yt=0,zt=1,At=2,Bt=3,Ct=4,Dt=5,Et={Yn:yt,hq:zt,Bs:At,As:Bt,rs:Ct,ss:Dt,ROAD:6};Cn.prototype=Object.create(Ep.prototype),Cn.prototype.qb=function(){return this.a},Cn.prototype.aa=function(){return this.Jd},Cn.prototype.vd=function(a){this.b=S(a,0,1),this.a.vd(this.b),this.Jd.vd(this.b)},Dn.prototype.Pb=function(){return ka(this.b)},Dn.prototype.Qa=function(){return this.Vf},Dn.prototype.Ik=function(){return this.a},In.prototype=Object.create(qn.prototype);var Ft=2,Gt=4,Ht=5,It=6,Jt=10,Kt=11,Lt=12,Mt=13,Nt=14,Ot=20,Pt=21,Qt=22,Rt=1014,St={Yn:0,TERRAIN:1,us:Ft,BUILDING:3,Ds:Gt,Hs:Ht,Zs:It,ROUTE:8,Qs:Jt,Ps:Kt,Rs:Lt,Ts:Mt,Ss:Nt,Js:Ot,ts:Pt,Es:Qt,ws:Rt,xs:9999,Cs:1e4};Ro=In.prototype,Ro.dg=function(){var a=0;return this.ak.forEach(function(b,c){c.forEach(function(){a++})}),a},Ro.clear=function(){this.ak=new pn,this.Gh=[]},Ro.sc=function(){return null},Ro.update=function(a,b,c){var d=this.ak;a.forEach(function(a,b){var c=b.sa,e=d.get(c);I(e)&&(e=new pn,d.set(c,e)),e.set(a,b)}),c.forEach(function(a,b){var c=b.sa,e=d.get(c),f=void 0;I(e)?(e=new pn,d.set(c,e)):f=e.get(a),I(f)&&(d.forEach(function(b,c){var d=c.get(a);return I(d)?void 0:(c.remove(a),!0)}),e.set(a,b))}),b.forEach(function(a,b){var c=d.get(b.sa);c&&c.remove(a)})},Ro.sg=function(a){for(var b=0,c=this.Gh.length;c>b;++b){var d=this.ak.get(this.Gh[b]);!I(d)&&d.forEach(function(b,c){a(c)})}};var Tt="precision highp float;\nattribute vec3 a_position;\nattribute vec2 a_texcoord0;\nuniform mat4 u_mat_proj;\nuniform mat4 u_mat_view;\nuniform mat4 u_mat_model;\nvarying vec2 v_texcoord0;\nvoid main() {\nvec4 position = vec4(a_position, 1.0);\nv_texcoord0 = a_texcoord0;\ngl_Position = u_mat_proj * u_mat_view * u_mat_model * position;\n}",Ut="precision highp float;\nuniform sampler2D u_texunit0;\nuniform mat3 u_mat_tex;\nuniform float u_opacity;\nuniform float u_fadeFactor;\nvarying vec2 v_texcoord0;\nvoid main() {\nvec3 texcoord0 = u_mat_tex * vec3(v_texcoord0, 1.0);\nvec4 color = texture2D(u_texunit0, texcoord0.xy);\ncolor.a *= u_opacity * u_fadeFactor;\ngl_FragColor = color;\n}",Vt={position:"a_position",texcoord:"a_texcoord0"},Wt={Bc:{u_texunit0:0}},Xt={Bc:{u_texunit0:0,u_ambient_color:[.4,.4,.4,1],u_directional_light_direction:[-1,1,0],u_directional_light_color:[.9,.9,.9,1],u_point_light_position:[0,0,0],u_point_light_color:[1,1,1,1]}},Yt=115;Ro=Un.prototype,Ro.kb=e(),Ro.pd=function(){var a=this.Ea.Pb();return a.width-a.x},Ro.md=function(){var a=this.Ea.Pb();return a.height-a.y},Ro.mr=function(){io(this)},Ro.t=function(){uj(uk().C,this),this.Ea.c.disconnect(this.p),this.cursor.an.disconnect(),this.K&&this.K.$c&&this.K.$c.disconnect(),this.ej.t(),this.l.t(),this.ca.t(),this.j.Ac(),this.cursor=this.j=this.ca=this.l=null,this.Z.t(),this.k.t(),this.Ca=this.b=this.ya=this.K=this.e=this.k=this.Z=null,this.Fa.clear(),this.Fa=null,this.nh.Xl(),this.p=this.Ea=this.Nd=this.Hc=this.nh=null,this.Kc.t(),this.Za=this.Kc=null},Ro.$g=function(){return this.Fa},Ro.N=function(){return this.K},Ro.Xe=function(a){this.vf=a,this.e.forEach(function(b){b.Xe(a)})},Ro.Lc=function(a){this.wi=a,this.e.forEach(function(b){b.Lc(a)})},Ro.Bf=function(a){this.lg=a,this.e.forEach(function(b){b.Bf(a)})},Ro.Pd=function(a){this.xi=a,this.e.forEach(function(b){b.Pd(a)})},Ro.u=function(){this.g=!0,this.Za&&this.Za.Af()},Ro.na=function(a){var b;b=this.l.l,b.timestamp=a.timestamp,a=!1;for(var c in b.i){var d=b.i[c];d.qa()&&(d.Dh(b.timestamp),a=!0)}return b=b.a=a,this.g&&(this.Ea.a=!0),Ul(this.c),this.g||b},Ro.Ar=function(a){Uo(),a==sq&&(I(window.WebFontConfig)&&(Uo(),wk("loaded")),this.k&&on(this.k))},Ro.zr=function(a){Uo(),a==sq&&(I(window.WebFontConfig)&&(Uo(),wk("loaded")),a=this.Kc,sq="Arial, Helvetica, Sans-serif",Wc(a),this.k&&on(this.k))},Ro.xr=function(){this.k.uf(),this.ca.oh(),this.u()},Ro.Gd=function(){this.k.Gd()};var Zt=!1,$t=!1,_t=!1,au=!1,bu=!0,cu=!0,du=!0;Ro=ro.prototype,Ro.na=function(a){return this.f.na(a)},Ro.kj=function(){return this.f.c.kj()},Ro.pj=function(){return this.j},Ro.wr=function(){var a=this.f,b=a.cursor;b.qb().za(a.Za.d.cursor),b.qb().vd(.65),b.Jd.za(a.Za.d.cursor),a=a.Za.a.d,b.an.qc(a.g.bind(a)),b=this.f,a=b.gh,a.fb("panoramaMarker"),_a(a,Ot),a.qb().za(b.Za.d.cursor_ground),a.Jd.F(!1)},Ro.t=function(a){vo(),this.f.t(),this.j.Ac(),this.c.stop(),this.c=null,this.C.jh(),$s.ke().clear(),$s.ke().C.jh(),it.ke().clear(),it.ke().C.jh(),Ys.ke().clear(),Ys.ke().C.jh(),Xi().clear(),a&&Ai().clear(),this.Ga=null,this.a.t(),this.a=null,this.navigation.t(),this.e=this.b=this.navigation=null,this.g.disconnect(),Ds&&Ds.t(),it.deleteInstance(),$s.deleteInstance(),Ys.deleteInstance(),hf.deleteInstance(),cf.deleteInstance(),tk.deleteInstance(),a&&(zi.deleteInstance(),Wi.deleteInstance(),mh()&&mh().t(),lh.deleteInstance()),Bs=Hr=null,Sj.deleteInstance()},Ro.pause=function(){this.c&&this.c.stop()},Ro.Af=function(){this.c&&this.c.start()},b("H.PanoramaSearchService.isCovered",function(a,b,c,d){var e=yo();wo.a&&(c=zg(c,"<callback isCovered()>")),Rd(a,1),e.g.Ap(Zd(a),$d(a),b,c,d)}),b("H.PanoramaSearchService.getClosestPanoramas",function(a,b,c,d,e){return xo(yo(),a,b,c,d,e)}),b("H.PanoramaSearchService.getImageUrl",function(a,b,c,d,e){return yo(),Oh(a.uj,b||0,c||0,d||0,e||0)}),b("H.PanoramaSearchService.traceCalls",function(a){eu||(eu=!0,yg(wo,"H.PanoramaSearchService",a||[]))});var eu=!1,fu=null;wo.prototype.j=function(a){switch(a){case"coverageServer_mode":zo(this,function(){},this.c.coverageServer_mode);break;case"coverageServer_MRSUrl":Bh(this.c.coverageServer_MRSUrl),zo(this,function(){},this.c.coverageServer_mode)}},c(Ao,ah),b("H.PanoramaView",Ao);var gu=!1,hu=[];Ao.traceCalls=function(a){gu||(a=a||["setPointer","getObjectsAt"],gu=!0,yg(Ao,"H.PanoramaView",a))},Ao.getInstances=function(){return hu.slice(0)},Ao.prototype.Ph=function(){return this.state},Ao.prototype.getState=Ao.prototype.Ph,Ao.prototype.Ln=function(){return this.Qc},Ao.prototype.getAnimationState=Ao.prototype.Ln,Ao.prototype.Fk=function(){},Ao.STATE={INIT:"initializing",ERROR:"error",IDLE:"idle",BUSY:"busy",SHUTDOWN:"shutdown"};var iu=0;Ao.ANIMATION_STATE={NONE:0,Vj:1,jl:2},Ao.POV_PARAM={POSITION:1,HEADING:2,PITCH:4,ZOOM:8},Ao.OBJECT_TYPE={NONE:0,TERRAIN:1,BUILDING:2,ROAD:3,ROUTE:4,oq:5},Ao.prototype.Ac=function(){Bo(this);try{this.state!==Ao.STATE.SHUTDOWN&&(this.c.N().$c.disconnect(),this.n.a.disconnect(),this.e.removeEventListener("webglcontextlost",this.Bd,!1),this.b.Ga.handleEvent("SHUTDOWN")),this.xa.Ac(),this.e=this.n=this.xa=null,this.Sc=!0,this.d=this.a=this.c=this.b=null}catch(a){Lo(this,a)}},Ao.prototype.shutdown=Ao.prototype.Ac,Ao.prototype.rk=function(a,b){try{var c=this.b.f,d=c.c,e=c.Ea,f=a+0+0,g=b+0+0;En(e,new xj(0,0,a,b)),Ql(d,new xj(0,0,f,g));var h=c.Ca,i=Fn(e);if(i!==h.Lb){var j=ec(h),k=i/h.Lb;h.Lb=i,h.Yb*=k,h.ac*=k,dc(h,j),h.Xd=!1,h.bf=!1}Ul(d),c.u()}catch(l){Lo(this,l)}},Ao.prototype.resize=Ao.prototype.rk,Ao.prototype.qq=function(a){var b=this.b;b.c&&rj(b.c,a)},Ao.prototype.setRedrawFrequency=Ao.prototype.qq,Ao.prototype.pj=function(){try{return this.b.pj()}catch(a){Lo(this,a)}},Ao.prototype.getPanoramaMarkerManager=Ao.prototype.pj,Ao.prototype.kl=function(){return{min:-90,max:90}},Ao.prototype.getPitchRange=Ao.prototype.kl,Ao.prototype.cq=function(){return{min:20,max:150}},Ao.prototype.getZoomRange=Ao.prototype.cq,Ao.prototype.Rn=function(){return{min:0,max:360}},Ao.prototype.getHeadingRange=Ao.prototype.Rn,Ao.prototype.Ua=function(){try{var a=this.c.N().Ua().get();return Id(a)}catch(b){Lo(this,b)}},Ao.prototype.getPosition=Ao.prototype.Ua,Ao.prototype.wd=function(a){Rd(a,1),a=new Cj([Zd(a),$d(a)]);try{return Fj(a,this.a.Ua(!0))?!1:(No(this),this.a.wd(a,!1),Ho(this,this.a),!0)}catch(b){Lo(this,b)}},Ao.prototype.setPosition=Ao.prototype.wd,Ao.prototype.sb=function(a,b){try{return Td(a,"number","",1),Vd(a,1,0,360),No(this),this.a.sb(a),Fo(this,iu),Ho(this,this.a,!b),this.a.fa()}catch(c){Lo(this,c)}},Ao.prototype.setHeading=Ao.prototype.sb,Ao.prototype.fa=function(){return this.c.N().fa()},Ao.prototype.getHeading=Ao.prototype.fa,Ao.prototype.nq=function(a,b){Td(a,"number","",1),Vd(a,1,-90,90);try{return No(this),this.a.Cb(a),Fo(this,iu),Ho(this,this.a,!b),this.a.ia()}catch(c){Lo(this,c)}},Ao.prototype.setPitch=Ao.prototype.nq,Ao.prototype.rq=function(a,b){b?Fo(this,iu):Fo(this,1),this.Ja(a)},Ao.prototype.setZoom=Ao.prototype.rq,Ao.prototype.bq=function(){return this.ka()},Ao.prototype.getZoom=Ao.prototype.bq,Ao.prototype.On=function(){return this.v},Ao.prototype.getDefaultZoom=Ao.prototype.On,Ao.prototype.kq=function(a){try{Rd(a,1);var b,c=Qd.x(a,this.pd(),1),d=Qd.y(a,this.md(),1);a:{var e=this.b.b,f=[ps.TERRAIN,ps.PANORAMA,ps.BUILDING];a=[];for(var g=0;g<f.length;g++)a=a.concat(nj(e,f[g]));e.a.f.$g().update();var h=ij(c,d,e.a.f.Ca,e.a.f.Ea,a,!0,!1);if(h){if(oj(h.object)!=ps.PANORAMA){b=ti(h.point);break a}var i=Xi().dn(h.object.ku);if(i){b=i.ib();break a}}b=null}return b?Id(b):null}catch(j){Lo(this,j)}},Ao.prototype.pixelToGeo=Ao.prototype.kq,Ao.prototype.Gn=function(a){Rd(a,1);try{var b=[Zd(a),$d(a),Xd(a,"number","alt")];if(fa(b[2])){var c=this.c.N().Ua().get();b[2]=c[2]}var d=this.c,e=mi(b);a=[];var f,g=d.ya.Wg(),h=e[0],i=e[1],j=e[2],k=g.Cg,l=k[3]*h+k[7]*i+k[11]*j+k[15];if(aa(l,0)?f=!1:(e=1/l,Bp.set(h,i,j,a),Bp.I(k,a,a),Bp.scale(a,e,a),f=-1>a[2]||1<a[2]?!1:!0),!f)return null;var m;m=m||new wj(0,0);var n=d.Ea.Pb();m.x=Math.round(n.width*(a[0]+1)/2),m.y=Math.round(-(n.height*(a[1]-1)/2));var o,p=d.Ea.Pb();return o=new wj(m.x+p.x,m.y+p.y),{x:o.x,y:o.y}}catch(q){Lo(this,q)}},Ao.prototype.geoToPixel=Ao.prototype.Gn,Ao.prototype.Un=function(){return this.c.N().ia()},Ao.prototype.getPitch=Ao.prototype.Un,Ao.prototype.pd=function(){return this.c.pd()},Ao.prototype.md=function(){return this.c.md()},Ao.prototype.lq=function(a){Rd(a,1);var b=Qd.x(a,this.pd(),1);a=Qd.y(a,this.md(),1);try{var c=lj(this.b.b,b,a),d=new Hj;if(c)if(c.type===ps.BUILDING)if(Ij(d,new Cj(c.point,1)),c.Ab){var e=Bp.add(c.point,Bp.scale(c.Ab,5));d.wd(new Cj(e,1),!0)}else d.wd(new Cj(c.point,1)),d.sb(this.a.fa(!0)||0),d.Cb(this.a.ia(!0)||0);else if(c.type!==ps.ROAD||I(c.Pn))d.wd(new Cj(c.point,1)),d.sb(this.a.fa(!0)||0),d.Cb(this.a.ia(!0)||0);else{var f=Bp.add(c.point,Bp.scale(c.Pn,100));Ij(d,new Cj(f,1)),d.wd(new Cj(c.point,1),!0)}else{var g=Mo(this,b,a);Ij(d,new Cj(g)),d.wd(this.a.Ua(!0),!0)}var h=Go(this,d);return 5e5<h.distance?null:h}catch(i){Lo(this,i)}},Ao.prototype.pixelToPov=Ao.prototype.lq,Ao.prototype.pn=function(){Fo(this,1)},Ao.prototype.cancelMoveTo=Ao.prototype.pn,Ao.prototype.moveTo=function(a,b,c){!fa(b)||(b=!0),
this.state==Ao.STATE.INIT&&(b=!1),b?Fo(this,iu):Fo(this,1);try{Yd(a);var d,e=a.position;d=Rg({lat:e.lat,lng:e.lng,alt:e.alt||0},a.heading,a.pitch,a.distance);var f=Yd(d),g=new Cj([Zd(f),$d(f),Wd(f,"alt",1)]),h=this.aa.heading(d,1),i=this.aa.pitch(d,1),j=this.aa.distance(d,1);this.Td(),this.wg(),No(this);var k;return j?(k=!0,Ij(this.a,g)):(k=!1,this.a.wd(g)),this.a.sb(h,k),this.a.Cb(i,k),Jj(this.a,j,k),c&&(this.H=c),Ho(this,this.a),Go(this)}catch(l){Lo(this,l)}},Ao.prototype.moveTo=Ao.prototype.moveTo,Ao.prototype.Jk=function(){Eo(this,!0)},Ao.prototype.hn=function(a,b,c){try{if(this.b.a.c||E(this.n))return!1;this.yg(Ao.ANIMATION_STATE.Vj,!0),this.j&&mj(this.b.b,!1),Co(this,!1);var d=this.b.a;d.b=!0;var e=d.a;e.d.stop(),e.b.stop(),e.p.length=0;var f=e.K;e.e=f.fa(),e.g=f.ia(),e.c=f.ka();var g=e.H;return g.set(a,b,c,0,0),bk(g,f),!0}catch(h){Lo(this,h)}},Ao.prototype.beginInteraction=Ao.prototype.hn,Ao.prototype.gq=function(a,b,c){try{var d=this.b.a;d.b&&Zj(d.a,a,b,c),this.c.u()}catch(e){Lo(this,e)}},Ao.prototype.interact=Ao.prototype.gq,Ao.prototype.wg=function(a,b,c){try{if(this.b.a.b){this.j&&mj(this.b.b,!0);var d=this.b.a;if(d.b){d.b=!1;var e=d.a,f=e.p,g=a||Date.now();if(0<f.length&&50<g-f[f.length+0-1].Sk)e.Ej.call();else if(fa(b)||fa(c)||Zj(e,g,b,c),e.update(),3>f.length)e.Ej.call();else{for(b=a=0,c=1;3>c;++c){var h=f[c-1],i=f[c],j=i.Sk-h.Sk,k=i.gf-h.gf;a+=(i.ff-h.ff)/j,b+=k/j}a/=2,b/=2,.00285>_(a)&&.00285>_(b)?e.Ej.call():ek(e.d,a,b,0)}}Co(this,!0)}}catch(l){Lo(this,l)}},Ao.prototype.endInteraction=Ao.prototype.wg,Ao.prototype.pq=function(a,b){try{var c=this.b.b;this.j||(mj(c,!0),this.j=!0);var d=c.a.a.d,e=d.e;(a!==e[0]||b!==e[1])&&(e[0]=a,e[1]=b,ik(d))}catch(f){Lo(this,f)}},Ao.prototype.setPointer=Ao.prototype.pq,Ao.prototype.dq=function(){try{var a=this.b.b;this.j&&(mj(a,!1),this.j=!1)}catch(b){Lo(this,b)}},Ao.prototype.hidePointer=Ao.prototype.dq,Ao.prototype.jq=function(a,b){try{var c,d=this.b.b,e=!1,f=[ps.BUILDING,ps.TERRAIN,ps.PLACE,ps.ROAD,ps.ROUTE],g=[],e=e||!1,h=null;for(f||(h=[ps.PLACE,ps.TERRAIN,ps.BUILDING,ps.PANORAMA],qs&&h.push(ps.ROAD)),f=f||h,h=0;h<f.length;h++)g=g.concat(nj(d,f[h]));d.a.f.$g().update();var i,j=d.a.f.Ca,k=d.a.f.Ea;if((d=g)&&d.length){var l=Gn(k,new wj(a,b)),m=Hn(k,l),n=j.Wg().rj(m),j=[];if(jj(d,n,null,!1,e,j,!0),0<j.length){for(n=[],k=0;k<j.length;k++){var o=j[k];n.push({point:o.Bm,xj:o.xj,object:o.object,Ab:o.Ab,distance:o.distance,oc:o.oc})}i=n}else i=null}else i=null;if(i&&0<i.length){for(o=[],h=0;h<i.length;h++){var p=i[h],q=oj(p.object);q.point=p.point,q.Ab=p.Ab,q.distance=p.distance,p.object&&p.object.Y?q.Y=p.object.Y:p.oc&&p.oc.Oc&&(q.Y=p.oc.Oc.Y),o.push(q)}c=o}else c=null;if(i=[],c)for(p=0;p<c.length;p++){var q=null,r=Ao.OBJECT_TYPE.NONE,l=k=j=n=o=h=null,s=c[p];if(s&&(j=s.Ab,n=s.point,o=new Cj(n,1),s.type==ps.BUILDING?(r=Ao.OBJECT_TYPE.BUILDING,h=s.id):s.type==ps.PLACE?(r=Ao.OBJECT_TYPE.oq,s.Y&&(s.Y instanceof Wf?l=s.Y:s.Y instanceof fg?l=s.Y.marker:s.Y instanceof eg&&(l=s.Y.clientObject))):s.type==ps.ROUTE?(r=Ao.OBJECT_TYPE.ROUTE,l=s.Y):s.type==ps.TERRAIN?r=Ao.OBJECT_TYPE.TERRAIN:s.type==ps.ROAD&&(r=Ao.OBJECT_TYPE.ROAD,h=s.Y.name),r)){if(j){var t=Bp.cb(n,j,100),u=new Cj(t,1).get(),v=o.get();if(u&&v)var w=v[0]*pp,x=u[0]*pp,y=(u[1]-v[1])*pp,z=Math.sin(y)*Math.cos(x),A=Math.cos(w)*Math.sin(x)-Math.sin(w)*Math.cos(x)*Math.cos(y),k=(Math.atan2(z,A)*qp+360)%360}var B=Id(o.get()),q={type:r,id:h,position:B,heading:k||0,pitch:0,hitData:l||null};i.push(q)}}return i}catch(C){Lo(this,C)}},Ao.prototype.pickObjects=Ao.prototype.jq,Ao.prototype.fq=function(a,b){try{if(a){var c=this.b.b,d=db(c.a.f.k.ce,a);0<d.length&&(b?(_a(d[0],Gt),d[0].Ha=c.a.f.o):(_a(d[0],St.BUILDING),d[0].Ha=c.a.f.Hd),c.a.f.u())}}catch(e){Lo(this,e)}},Ao.prototype.highlightObject=Ao.prototype.fq,Ao.prototype.gn=function(){try{if(this.b.a.b||E(this.n))return!1;this.j&&mj(this.b.b,!1);var a=this.b.a;a.c=!0;var b=a.a;return b.d.stop(),b.b.stop(),b.a=new ck(Date.now(),0,0,0,0,0,0,0),!0}catch(c){Lo(this,c)}},Ao.prototype.beginControl=Ao.prototype.gn,Ao.prototype.rh=function(a,b){try{if(Td(a,"number","",1),Td(b,"number","",2),this.b.a.b)return!1;a===Ao.POV_PARAM.PITCH?this.s=b:a===Ao.POV_PARAM.HEADING?this.p=b:a===Ao.POV_PARAM.ZOOM?this.o=b:Od(),mk(this.b.a,this.s,this.p,this.o)}catch(c){Lo(this,c)}},Ao.prototype.control=Ao.prototype.rh,Ao.prototype.Td=function(a){try{if(a?a===Ao.POV_PARAM.PITCH?this.s=0:a===Ao.POV_PARAM.HEADING?this.p=0:a===Ao.POV_PARAM.ZOOM?this.o=0:Od():this.o=this.p=this.s=0,mk(this.b.a,this.s,this.p,this.o),0===this.s&&0===this.p&&0===this.o){this.j&&mj(this.b.b,!0);var b=this.b.a;if(b.c){b.c=!1;var c=b.a;if(c.a&&(c.a.ff=c.b.p,c.a.gf=c.b.s,c.a.a=c.b.a),c.b.stop(),c.a){var d=c.a.ff,e=c.a.gf,f=c.a.a;.00285>_(d)&&.00285>_(e)&&.00285>_(f)||ek(c.d,d,e,f)}}}}catch(g){Lo(this,g)}},Ao.prototype.endControl=Ao.prototype.Td,Ao.prototype.Yp=function(a,b){var c;c=this.b.b;var d=c.a.f.Ea,e=c.a.f.Ca;if(e){var f=Gn(d,new wj(a,b)),d=Hn(d,f),e=e.Wg().rj(d);c=c.a.f.k.e,Ib(jb(c),e,e),d=-c.nl(e),e=Jb(e,d),Bp.scale(e,1/c.od(),e),e[0]=S(e[0],-.5,.5),e[1]=S(e[1],-.5,.5),e[2]=S(e[2],-.5,.5),c=e}else c=null;return c},Ao.prototype.getViewVector=Ao.prototype.Yp,Ao.prototype.sk=function(a){try{var b=this.b.e;a=a.toLowerCase(),dq[a]&&b.a!==a&&(b.a=a,b.$c.call(a))}catch(c){Lo(this,c)}},Ao.prototype.setLanguage=Ao.prototype.sk,Ao.prototype.Nh=function(){try{return this.b.e.a}catch(a){Lo(this,a)}},Ao.prototype.getLanguage=Ao.prototype.Nh,Ao.prototype.Tn=function(){try{var a=this.c.k;return a&&a.r?a.r.id:""}catch(b){Lo(this,b)}},Ao.prototype.getPanoramaId=Ao.prototype.Tn,Ao.prototype.uk=function(a,b){try{var c=this.c;c.H=a,c.M=b}catch(d){Lo(this,d)}},Ao.prototype.setRenderCallbacks=Ao.prototype.uk,Ao.prototype.Ja=function(a,b,c){Td(a,"number","",1),Vd(a,1,20,150);try{if(!this.a.$a())return null;var d=this.b,e=this.c.ya.ka();if(this.a.Ja(a),e*zp===this.a.ka())return this.a.ka();if(a=b||0,c=c||0,!a&&!c){if(1===this.transition)this.c.ya.Ja(ba(this.a.ka()||this.v)),this.c.u(),Jo(this,Ao.POV_PARAM.ZOOM);else{var f=this.a.ka();d.f.l.i.ld.Fl=f*pp,d.f.l.i.ld.start()}return this.a.ka()}var g,h=lj(d.b,a,c);g=null===h?mi(Mo(this,a,c)):h.point;var i=new Hj(d.f.Cd);Ij(i,new Cj(g,1),!0);var j=i.fa(!0),k=i.ia(!0);d.f.ya.Ja(V(this.a.ka()||this.v));var l,h=lj(d.b,a,c);l=null===h?mi(Mo(this,a,c)):h.point,d.f.ya.Ja(e),Ij(i,new Cj(l,1),!0);var m=i.fa(!0),n=i.ia(!0),e=j-m,k=k-n,o=this.a.fa(!0)+e,p=this.a.ia(!0)+k;d.f.ya.Ja(V(this.a.ka()||this.v)),this.c.N().Cb(p),this.c.N().sb(o),Io(this),d.f.u(),Jo(this)}catch(q){Lo(this,q)}},Ao.prototype.setFov=Ao.prototype.Ja,Ao.prototype.ka=function(){try{return this.c.ya.ka()*zp}catch(a){Lo(this,a)}},Ao.prototype.Jh=function(){try{var a=this.c.ya;return 2*Math.atan(Math.tan(.5*a.Ce)*a.Lb)*zp}catch(b){Lo(this,b)}},Ao.prototype.getFovX=Ao.prototype.Jh,Ro=Ao.prototype,Ro.pc=function(a){try{!0===a?this.b.Ga.handleEvent("EXIT"):this.c.l.i.hm.start()}catch(b){Lo(this,b)}},Ro.Yq=function(a,b){this.dr.call(this,a,b),this.cr.call(this,0,b)},Ro.Vq=function(a){this.H&&(a||Eo(this,!1,"Could not load Panorama"))},Ro.Uq=function(){this.a=new Hj(this.b.f.Cd),this.a.Cb(this.a.ia(!0)||0),this.a.Ja(this.ka()),Jo(this,Ao.POV_PARAM.HEADING|Ao.POV_PARAM.POSITION|Ao.POV_PARAM.PITCH)},Ro.Tq=function(){this.a=new Hj(this.b.f.Cd),this.a.Cb(this.a.ia(!0)||0),this.a.Ja(this.ka()),Jo(this,Ao.POV_PARAM.HEADING|Ao.POV_PARAM.PITCH)},Ro.Kq=function(){this.a.Ja(this.ka()),Jo(this,Ao.POV_PARAM.ZOOM)},Ro.Iq=function(){Io(this),this.Kb&&"function"==typeof this.Kb&&(this.Kb(),this.Kb=null)},Ro.Jq=function(){Io(this)},Ro.Qq=function(a){a?this.d=null:(this.d&&(this.a=new Hj(this.d),this.d=null),this.state==Ao.STATE.INIT?(this.g.unshift("No panorama found."),Ko(this,Ao.STATE.ERROR)):Ko(this,Ao.STATE.IDLE),this.H&&Eo(this,!1,"No panorama available at given coordinates"))},Ro.Pq=function(){if(!this.Sc){this.ic=void 0;var a=this.Va;this.Va=0,this.va|=a;var b=!D(this.c.l);b&&(a|=this.va,this.va=0),(a||b&&a)&&this.dispatchEvent(new Qg(a,b),!0)}},Ro.dr=function(a,b){switch(b){case"loadingPanoramaState":case"loadingMetacellState":Ko(this,Ao.STATE.BUSY);break;case"navigateState":case"transitionState":case"enterState":case"exitState":Ko(this,Ao.STATE.IDLE);break;case"offState":if(!this.cd.rendering_useSoftware)try{this.e.parentElement.removeChild(this.e)}catch(c){}delete this.b,Ko(this,Ao.STATE.SHUTDOWN);break;case"initState":void 0!==a&&(this.g.unshift("No panorama found."),Ko(this,Ao.STATE.ERROR))}},Ro.cr=function(a,b){switch(b){case"idleState":case"navigateState":case"offState":case"initState":this.yg(Ao.ANIMATION_STATE.jl);break;case"transitionState":case"enterState":case"exitState":case"rotateState":case"interspaceState":case"fovChangeFinished":case"loadingPanoramaState":case"loadingMetacellState":this.yg(Ao.ANIMATION_STATE.Vj)}},Ro.yg=function(a,b){!b&&1===this.transition||this.Qc===a||(this.Qc=a,this.dispatchEvent(new Og(a)))},Ro.yr=function(){Io(this);var a=this.c.N(),b=0;Fj(a.Ua(),this.Wm)||(b|=Ao.POV_PARAM.POSITION,this.Wm=a.Ua()),a.ia()!=this.Ym&&(b|=Ao.POV_PARAM.PITCH,this.Ym=a.ia()),a.fa()!=this.Sm&&(b|=Ao.POV_PARAM.HEADING,this.Sm=a.fa()),a.ka()!=this.Rm&&(b|=Ao.POV_PARAM.ZOOM,this.Rm=a.ka()),new Hj(this.a),b&&Jo(this,b)},Ro.ur=function(){return this.g?this.g.pop():""},Ao.prototype.getLastErrorInfo=Ao.prototype.ur,Ao.prototype.M=function(a,b,c){Po(a,b),ah.prototype.M.call(this,a,b,c)},Ao.prototype.addEventListener=Ao.prototype.M,Ao.prototype.Rc=function(a,b,c){Po(a,b),ah.prototype.Rc.call(this,a,b,c)},Ao.prototype.removeEventListener=Ao.prototype.Rc,Ao.prototype.iq=function(a,b){var c=this.b.f.Ca.S,d=Zd(a),e=$d(a),f=Wd(a,"alt",1),d=mi([d,e,f]),d=Bp.sub(d,c),e=Bp.length(d),d=Bp.scale(d,(e+b)/e),c=Bp.add(c,d),c=ti(c);return Id(c)},Ao.prototype.moveGeoPosAwayFromCamera=Ao.prototype.iq,Ao.prototype.kd=function(a,b){try{var c,d;switch(arguments.length){case 1:"number"==typeof arguments[0]?c=arguments[0]:"function"==typeof arguments[0]&&(d=arguments[0]);break;case 2:Td(arguments[0],"number","heading",1),c=arguments[0],Td(arguments[1],"function","callback",2),d=arguments[1]}this.xa.kd(c,d)}catch(e){Lo(this,e)}},Ao.prototype.exit=Ao.prototype.kd,Ao.prototype.gb=function(a,b){try{var c,d;switch(arguments.length){case 1:"number"==typeof arguments[0]?c=arguments[0]:"function"==typeof arguments[0]&&(d=arguments[0]);break;case 2:Td(arguments[0],"number","heading",1),c=arguments[0],Td(arguments[1],"function","callback",2),d=arguments[1]}this.xa.gb(c,d)}catch(e){Lo(this,e)}},Ao.prototype.enter=Ao.prototype.gb,Ao.prototype.zn=function(){this.c&&qo(this.c,null)},Ao.prototype.clearRoutes=Ao.prototype.zn,Ao.prototype.Ek=function(a){try{Qo(this,a)}catch(b){Lo(this,b)}},Ao.prototype.setRoutes=Ao.prototype.Ek,Ao.prototype.nk=function(){qo(this.c,null)},Ao.prototype.removeRoutes=Ao.prototype.nk;var ju=window.MSBlobBuilder?!0:!1}}(),H.util.eval('function $(a,b,c,d){var e=a.element,f=e.ownerDocument.createElement("div");Yg();$.a.constructor.call(this,a,b,c,d);this.M=s(this.M,this);f.style.width="100%";f.style.height="100%";f.style.position="absolute";e.insertBefore(f,e.firstChild);this.e=b=new H.PanoramaView(f);this.he=20;a=b.getZoomRange();this.qc={zoom:{min:this.he,max:this.he},camera:{pitch:b.getPitchRange(),roll:{min:0,max:0},yaw:b.getHeadingRange(),fov:a},capture:!1};this.vg=a.min;this.ug=a.max;this.zj=f;b.addEventListener(Zg,this.M);this.Pa=s(this.Pa,this);b.addEventListener(Zg,this.Pa);b.moveTo($g(this,this.Bb.ab()))}var ah;r($,Uf);q("H.map.render.panorama.RenderEngine",$);var Zg="povchanged";$.prototype.type=Yf.PANORAMA;$.prototype.type=$.prototype.type;$.getClosestPanoramas=function(a,b){Yg();a&&H.PanoramaSearchService.getClosestPanoramas(a,b)};$.getImageUrl=function(a){Yg();return H.PanoramaSearchService.getImageUrl(a)};$.configure=function(a,b,c){var d=H.PanoramaSettings;d.set("auth_appId",a);d.set("auth_appCode",b);d.set("server_useSSL",c);ah=!0};$.prototype.Aa=function(){this.e.endInteraction(-1);this.e.beginControl()};$.prototype.startControl=$.prototype.Aa;function Yg(){if(!ah)throw new zc($,"Engine must be configured with H.platform.Platform");}$.prototype.control=function(a,b,c,d,e,f,g){a=H.PanoramaView.POV_PARAM;b=this.e;d&&b.control(a.PITCH,d);e&&b.control(a.HEADING,e);g&&b.control(a.ZOOM,g)};$.prototype.control=$.prototype.control;$.prototype.endControl=function(){this.e.endControl()};$.prototype.endControl=$.prototype.endControl;$.prototype.Ba=function(){this.e.endControl();this.e.endInteraction(Pe())};$.prototype.startInteraction=$.prototype.Ba;$.prototype.ra=function(a,b,c,d,e){var f=a===+a&&b===+b&&c===+c&&d===+d,g=null;this.Lg||(this.Lg=!0,this.e.beginInteraction(Pe(),a,b));f?(e=this.e.getZoom(),g=(new J(a,b)).distance({x:c,y:d}),this.Jd&&this.Jd!==g&&(a=e-0.2*(g-this.Jd),this.we=t,this.e.setZoom(Cb(a,this.vg,this.ug)),this.di=!0)):(this.di&&(this.di=!1,this.e.endInteraction(),this.e.beginInteraction(Pe(),a,b)),this.e.interact(e||Pe(),a,b));this.Jd=g};$.prototype.interaction=$.prototype.ra;$.prototype.endInteraction=function(){this.Lg=!1;this.e.endInteraction(Pe());this.Jd=null};$.prototype.endInteraction=$.prototype.endInteraction;p=$.prototype;p.Xc=function(){};p.bc=function(){this.e.resize(this.da.width,this.da.height)};p.c=function(){var a=this.e;a.removeEventListener(Zg,this.M);a.removeEventListener(Zg,this.Pa);a.shutdown();W.a.c.call(this)};p.M=function(){var a=this.e;this.yi||this.Bb.Xd({position:a.getPosition(),pitch:a.getPitch(),yaw:a.getHeading(),fov:a.getZoom(),zoom:this.he})};p.Pa=function(a){a.isFinal&&this.dispatchEvent(this.b.Tf)};p.Sa=function(a,b){return this.e.pixelToGeo({x:a,y:b})};$.prototype.screenToGeo=$.prototype.Sa;$.prototype.Za=function(a){return this.e.geoToPixel(a)};$.prototype.geoToScreen=$.prototype.Za;$.prototype.gc=function(a,b){var c=this.e.pixelToPov({x:a,y:b});this.we=c.distance;return{fov:this.e.getZoom(),position:c.position,pitch:c.pitch,yaw:c.heading}};$.prototype.screenToCameraData=$.prototype.gc;$.prototype.Gd=function(a){a=a.requested.camera;var b=a.fov;this.lj!==b&&(this.we=t);b&&(this.e.setZoom(Cb(b,this.vg,this.ug)),this.lj=b);this.e.moveTo($g(this,a))};function $g(a,b){return{position:b.position,pitch:b.pitch,heading:b.yaw,distance:a.we}}$.prototype.Ga=function(){var a=this.e.getPosition();return Sb(a,a)};$.prototype.getBBox=$.prototype.Ga;$.prototype.G=function(){return[]};$.prototype.getObjectsAt=$.prototype.G;$.prototype.vc=function(){return this.qc};$.prototype.getCapabilities=$.prototype.vc;$.prototype.setPointer=function(a,b){this.e.setPointer(a,b)};$.prototype.setPointer=$.prototype.setPointer;$.prototype.enter=function(){this.e.enter(0,Ra)};$.prototype.enter=$.prototype.enter;$.prototype.Rb=function(){return{zoom:this.qc.zoom.max,position:this.e.getPosition()}};$.prototype.getCamForBounds=$.prototype.Rb;$.prototype.exit=function(a){var b=this.zj;b.style.zIndex=1E3;this.yi=!0;this.e.exit(0,function(){Wf(b,function(){a();Wa(b)})})};$.prototype.exit=$.prototype.exit;$.prototype.getPanoramaId=function(){return this.e.getPanoramaId()};$.prototype.getPanoramaId=$.prototype.getPanoramaId;');